var u2=Object.defineProperty,c2=Object.defineProperties;var h2=Object.getOwnPropertyDescriptors;var I0=Object.getOwnPropertySymbols;var f2=Object.prototype.hasOwnProperty,d2=Object.prototype.propertyIsEnumerable;var j0=(sn,Ge,Te)=>Ge in sn?u2(sn,Ge,{enumerable:!0,configurable:!0,writable:!0,value:Te}):sn[Ge]=Te,rn=(sn,Ge)=>{for(var Te in Ge||(Ge={}))f2.call(Ge,Te)&&j0(sn,Te,Ge[Te]);if(I0)for(var Te of I0(Ge))d2.call(Ge,Te)&&j0(sn,Te,Ge[Te]);return sn},pr=(sn,Ge)=>c2(sn,h2(Ge));var rt=(sn,Ge,Te)=>new Promise((xa,Ds)=>{var yc=E=>{try{Ms(Te.next(E))}catch(Aa){Ds(Aa)}},lo=E=>{try{Ms(Te.throw(E))}catch(Aa){Ds(Aa)}},Ms=E=>E.done?xa(E.value):Promise.resolve(E.value).then(yc,lo);Ms((Te=Te.apply(sn,Ge)).next())});(function(){"use strict";var sn=document.createElement("style");sn.textContent=`.tournament-history{padding:20px;background:var(--bg-primary);min-height:100vh;color:var(--text-primary)}.tournament-history[data-display-size=overlay]{min-height:auto;padding:10px}.history-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid var(--border-primary)}.history-header h1{font-size:2.5rem;font-weight:700;color:var(--text-accent);margin:0;text-shadow:var(--shadow-sm)}.save-tournament-btn{background:var(--bg-button);color:var(--text-primary);border:2px solid var(--border-primary);padding:12px 24px;border-radius:var(--radius-md);font-size:1rem;font-weight:700;cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.save-tournament-btn:hover{background:var(--bg-button-hover);border-color:var(--border-accent-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.history-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:20px;max-width:1200px;margin:0 auto}.history-card{background:var(--bg-overlay);border-radius:var(--radius-lg);padding:25px;backdrop-filter:blur(10px);border:2px solid var(--border-primary);transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.history-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg);border-color:var(--border-accent)}.history-card.completed{border-left:5px solid var(--success-color)}.history-card.ongoing{border-left:5px solid var(--warning-color)}.tournament-info h3{font-size:1.5rem;font-weight:700;color:var(--text-accent);margin:0 0 10px}.tournament-date{color:var(--text-secondary);font-size:.9rem;margin:5px 0}.participants{color:var(--text-secondary);font-size:.9rem;margin:10px 0}.tournament-result{margin-top:20px;padding-top:20px;border-top:1px solid var(--border-primary)}.winner-section,.runner-up-section{display:flex;justify-content:space-between;align-items:center;margin:10px 0;padding:10px;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid var(--border-primary)}.winner-section{background:#00ff001a;border-color:var(--success-color)}.runner-up-section{background:#ffd7001a;border-color:var(--warning-color)}.winner-label,.runner-up-label{font-weight:700;font-size:1.1rem;color:var(--text-primary)}.winner-name,.runner-up-name{font-size:1.2rem;font-weight:700;color:var(--text-accent)}.final-score{display:flex;justify-content:space-between;align-items:center;margin:15px 0;padding:15px;background:var(--bg-secondary);border-radius:var(--radius-md);border:1px solid var(--border-primary)}.score-label{font-weight:700;color:var(--text-secondary)}.score-value{font-size:1.5rem;font-weight:700;color:var(--text-accent)}.ongoing-status{text-align:center;padding:20px}.status-badge{padding:8px 16px;border-radius:var(--radius-md);font-weight:700;font-size:.9rem;background:var(--bg-button);color:var(--text-primary);border:1px solid var(--border-primary)}.status-ongoing{background:var(--warning-color);color:var(--text-dark)}.empty-history{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-history p{font-size:1.2rem;margin:10px 0}.loading{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;color:var(--text-primary)}.loading-spinner{width:50px;height:50px;border:4px solid var(--border-primary);border-top:4px solid var(--text-accent);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}@media (max-width: 1200px){.history-list{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.history-header{flex-direction:column;gap:15px;text-align:center}.history-header h1{font-size:2rem}.save-tournament-btn{width:100%;max-width:300px}.history-list{grid-template-columns:1fr;gap:15px}.history-card{padding:20px}.tournament-info h3{font-size:1.3rem}}.tournament-info{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--text-primary)}.tournament-header{margin-bottom:var(--spacing-2xl);position:relative}.main-tournament-name{color:var(--text-accent);font-size:var(--font-size-3xl);font-weight:var(--font-weight-bold);text-transform:uppercase;letter-spacing:2px;margin-bottom:var(--spacing-md);text-shadow:var(--shadow-sm)}.tournament-title{color:var(--text-accent);font-size:var(--font-size-4xl);font-weight:var(--font-weight-bold);text-transform:uppercase;letter-spacing:2px;margin-bottom:var(--spacing-md);text-shadow:var(--shadow-sm)}.live-badge{position:absolute;top:10px;right:10px;background:var(--primary-red);color:var(--text-primary);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--radius-2xl);font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);text-transform:uppercase;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.tournament-cards{display:flex;flex-direction:column;gap:var(--spacing-xl);align-items:center}.tournament-card{background:var(--bg-card);border-radius:var(--radius-lg);padding:var(--spacing-xl);border:1px solid var(--border-primary);box-shadow:var(--shadow-md);backdrop-filter:blur(5px);width:100%;max-width:400px;transition:var(--transition-normal)}.tournament-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);border-color:var(--border-accent)}.tournament-card-name{color:var(--text-accent);font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);text-transform:uppercase;margin-bottom:var(--spacing-lg);letter-spacing:1px}.tournament-score-display{display:flex;justify-content:center;align-items:center;gap:var(--spacing-xl);margin-bottom:var(--spacing-lg)}.tournament-team-name{font-size:var(--font-size-base);color:var(--text-primary);font-weight:var(--font-weight-bold);text-align:center}.tournament-team-points{font-size:2rem;font-weight:700;color:var(--primary-gold);margin:0 .5rem}.tournament-team-points.winner{color:#0f0;text-shadow:0 0 10px #00ff00;animation:winner-glow 2s ease-in-out infinite alternate}.winner-indicator{margin-left:.5rem;font-size:1.5rem;animation:trophy-bounce 1s ease-in-out infinite}@keyframes winner-glow{0%{text-shadow:0 0 10px #00ff00}to{text-shadow:0 0 20px #00ff00,0 0 30px #00ff00}}@keyframes trophy-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.tournament-score-separator{font-size:var(--font-size-xl);color:var(--text-primary);font-weight:var(--font-weight-bold)}.tournament-match-display{display:flex;justify-content:center;align-items:center;gap:var(--spacing-lg);margin-bottom:var(--spacing-md)}.tournament-player-name{font-size:var(--font-size-sm);color:var(--text-primary);font-weight:var(--font-weight-bold);text-align:center}.tournament-player-wins{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--text-accent);text-shadow:var(--shadow-sm)}.tournament-match-vs{font-size:var(--font-size-xs);color:var(--text-secondary);font-weight:var(--font-weight-bold)}.tournament-match-status{font-size:var(--font-size-xs);color:var(--text-secondary);text-align:center;font-style:italic}@media (max-width: 768px){.main-tournament-name,.tournament-title{font-size:var(--font-size-3xl)}.tournament-card{padding:var(--spacing-lg)}.tournament-score-display{gap:var(--spacing-lg)}.tournament-team-points{font-size:var(--font-size-2xl)}}.overlay-section{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-3xl)}.overlay-content{background:var(--bg-overlay);border-radius:var(--radius-xl);padding:var(--spacing-3xl);box-shadow:var(--shadow-xl);border:2px solid var(--border-accent);backdrop-filter:blur(10px);max-width:800px}.overlay-controls{display:flex;flex-direction:column;gap:var(--spacing-xl);align-items:center}.mode-controls{display:flex;gap:var(--spacing-md);flex-wrap:wrap;justify-content:center}.mode-btn{background:var(--bg-button);border:2px solid var(--border-primary);color:var(--text-primary);padding:var(--spacing-md) var(--spacing-xl);border-radius:var(--radius-md);cursor:pointer;font-size:var(--font-size-base);font-weight:var(--font-weight-semibold);transition:var(--transition-normal);text-transform:uppercase;letter-spacing:1px;min-width:100px}.mode-btn:hover{background:var(--bg-button-hover);border-color:var(--border-accent-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.mode-btn.active{background:var(--bg-button-active);color:var(--text-button-active);border-color:var(--primary-gold);box-shadow:var(--shadow-gold)}.loading,.error,.no-data{display:flex;justify-content:center;align-items:center;height:100vh;font-size:18px;font-weight:700}.loading{color:#007bff}.error{color:#dc3545}.no-data{color:#6c757d}@media (max-width: 768px){.overlay-content{padding:var(--spacing-xl);margin:var(--spacing-md)}.mode-controls{gap:var(--spacing-sm)}.mode-btn{padding:var(--spacing-sm) var(--spacing-lg);font-size:var(--font-size-sm);min-width:80px}}.match1-display{padding:15px;background:#f5f5f5;border-radius:12px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.match1-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.match1-header h3{margin:0;color:#333;font-size:18px;font-weight:700}.main-match-score{background:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between}.team-score{display:flex;flex-direction:column;align-items:center;gap:8px}.team-score.left-team{text-align:left}.team-score.right-team{text-align:right}.team-icon{font-size:24px}.team-name{font-size:14px;color:#666;font-weight:500}.score{font-size:32px;font-weight:700;color:#007aff}.score-separator{font-size:18px;color:#999;font-weight:700}.match-card{background:#fff;border-radius:12px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0}.match-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.match-card-header h4{margin:0;color:#333;font-size:16px;font-weight:700}.match-details{margin-bottom:15px}.match-details p{margin:5px 0;color:#666;font-size:14px}.team-scores{display:flex;gap:15px}.team-score-card{flex:1;background:#f0f8ff;border-radius:8px;padding:15px;border:2px solid #007aff;display:flex;flex-direction:column;align-items:center;gap:8px;position:relative}.team-score-card.left{border-color:#007aff}.team-score-card.right{border-color:#ff3b30}.team-score-card .team-icon{font-size:20px}.team-score-card .team-name{font-size:12px;color:#333;font-weight:500;text-align:center;word-wrap:break-word;max-width:100%}.team-score-card .score{font-size:24px;font-weight:700;color:#007aff}.status-badge{position:absolute;bottom:-8px;background:#34c759;color:#fff;padding:4px 8px;border-radius:12px;font-size:10px;font-weight:700}.status-badge.completed{background:#34c759}.players-section{background:#fff;border-radius:12px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0}.players-section h4{margin:0 0 15px;color:#333;font-size:16px;font-weight:700}.players-container{display:flex;gap:20px}.team-players{flex:1}.team-players h5{margin:0 0 10px;color:#333;font-size:14px;font-weight:700}.players-list{display:flex;flex-direction:column;gap:6px}.player-item{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;background:#f8f9fa;border-radius:4px;border:1px solid #e9ecef}.player-name{font-size:12px;color:#333;font-weight:500;word-wrap:break-word;max-width:60%}.player-stats{font-size:10px;color:#666;text-align:right}.match-status-card{background:#fff;border-radius:12px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0}.status-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.status-header h4{margin:0;color:#333;font-size:16px;font-weight:700}.status-badge.active{background:#34c759;color:#fff;padding:4px 8px;border-radius:12px;font-size:10px;font-weight:700}.status-details p{margin:5px 0;color:#666;font-size:14px}.match-progress-card{background:#fff;border-radius:12px;padding:20px;margin-bottom:15px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0}.match-progress-card h4{margin:0 0 15px;color:#333;font-size:16px;font-weight:700}.progress-bar{width:100%;height:8px;background:#e9ecef;border-radius:4px;overflow:hidden;margin-bottom:10px}.progress-fill{height:100%;background:linear-gradient(90deg,#007aff,#34c759);border-radius:4px;transition:width .3s ease}.progress-text{text-align:center;color:#666;font-size:14px;font-weight:500}.winner-announcement{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000001a;border:1px solid #e0e0e0}.winner-badge{display:flex;align-items:center;justify-content:center;gap:10px;background:linear-gradient(135deg,gold,#ffed4e);color:#333;padding:15px;border-radius:8px;font-weight:700}.trophy{font-size:24px}.winner-text{font-size:16px}.match1-loading,.match1-error{text-align:center;padding:40px;font-size:16px;color:#666}.match1-error{color:#ff3b30}@media (max-width: 768px){.match1-display{padding:10px}.main-match-score,.match-card,.match-status-card,.match-progress-card,.winner-announcement,.players-section{padding:15px}.score{font-size:28px}.team-name{font-size:12px}.players-container{flex-direction:column;gap:15px}.player-name{font-size:11px}.player-stats{font-size:9px}}.all-matches-display{padding:20px;background:#f8f9fa;border-radius:12px;min-height:400px}.matches-header{text-align:center;margin-bottom:30px}.matches-header h3{color:#2c3e50;font-size:24px;margin-bottom:8px;font-weight:600}.matches-subtitle{color:#7f8c8d;font-size:14px;margin:0}.no-matches{text-align:center;padding:60px 20px;color:#7f8c8d}.no-matches p{margin:10px 0;font-size:16px}.matches-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.match-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;border:2px solid #e9ecef;transition:all .3s ease;position:relative;overflow:hidden}.match-card:hover{transform:translateY(-2px);box-shadow:0 8px 15px #00000026}.match-card.active{border-color:#3498db;background:linear-gradient(135deg,#fff,#f8f9ff)}.match-card.completed{border-color:#27ae60;background:linear-gradient(135deg,#fff,#f0fff4)}.match-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid #e9ecef}.match-header h4{margin:0;color:#2c3e50;font-size:18px;font-weight:600}.status-badge{padding:6px 12px;border-radius:20px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-badge.active{background:#3498db;color:#fff}.status-badge.completed{background:#27ae60;color:#fff}.match-teams{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px}.team{display:flex;flex-direction:column;align-items:center;flex:1;padding:10px;border-radius:6px;transition:all .3s ease}.team.leading{background:#e8f5e8;border:2px solid #27ae60}.team-name{font-size:16px;font-weight:600;color:#2c3e50;margin-bottom:8px;text-align:center}.team-score{font-size:32px;font-weight:700;color:#2c3e50}.vs-separator{font-size:14px;font-weight:600;color:#7f8c8d;margin:0 15px;padding:8px 12px;background:#fff;border-radius:20px;border:1px solid #e9ecef}.match-details{margin-bottom:20px}.race-to,.current-match,.winner-announcement{display:flex;justify-content:center;margin:8px 0;padding:8px 12px;background:#f8f9fa;border-radius:6px;font-size:14px;color:#2c3e50}.winner-announcement{background:#e8f5e8;color:#27ae60;font-weight:600}.match-progress{margin-top:20px}.progress-bar{height:8px;background:#e9ecef;border-radius:4px;overflow:hidden;position:relative;margin-bottom:10px}.progress-fill{height:100%;transition:width .3s ease;position:absolute;top:0}.team1-progress{background:#3498db;left:0}.team2-progress{background:#e74c3c;right:0}.progress-labels{display:flex;justify-content:space-between;font-size:12px;color:#7f8c8d;font-weight:500}.all-matches-loading,.all-matches-error{text-align:center;padding:40px 20px}.loading-spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 20px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.all-matches-error h3{color:#e74c3c;margin-bottom:10px}.all-matches-error p{color:#7f8c8d}@media (max-width: 768px){.matches-grid{grid-template-columns:1fr}.match-card{padding:15px}.team-score{font-size:28px}.vs-separator{margin:0 10px;padding:6px 10px;font-size:12px}}@media (max-width: 480px){.match-teams{flex-direction:column;gap:15px}.vs-separator{margin:10px 0}.team-score{font-size:24px}}.tournaments-page{padding:20px;max-width:1400px;margin:0 auto}.page-header{text-align:center;margin-bottom:30px}.page-header h1{color:#333;font-size:28px;margin-bottom:10px}.subtitle{color:#666;font-size:16px}.data-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;align-items:start;min-width:0}.data-section{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 4px #0000001a;border:1px solid #e0e0e0;height:fit-content;min-width:0;width:100%}.data-section h2{color:#333;margin-bottom:20px;font-size:20px;border-bottom:2px solid #f0f0f0;padding-bottom:10px}.data-cards{display:flex;flex-direction:column;gap:15px;min-width:0}.data-card{background:#f8f9fa;border-radius:8px;padding:20px;border:1px solid #e9ecef;min-width:0}.data-card h3{color:#333;margin-bottom:15px;font-size:18px;font-weight:700}.team-stats{display:flex;flex-direction:column;gap:8px}.stat{color:#666;font-size:14px}.raw-data-card{min-width:0}.raw-data{background:#2d3748;color:#e2e8f0;padding:15px;border-radius:6px;font-family:Courier New,monospace;font-size:12px;overflow-x:auto;max-height:800px;overflow-y:auto;min-width:0;word-wrap:break-word;white-space:pre-wrap}.tournament-card{text-align:center}.tournament-card p{color:#666;font-size:16px;margin:10px 0}.loading,.error{text-align:center;padding:40px;font-size:18px}.error{color:#d32f2f}@media (max-width: 1200px){.data-grid{grid-template-columns:1fr;gap:20px}.tournaments-page{max-width:800px}}.teams-list{padding:20px;max-width:1400px;margin:0 auto}.teams-list h2{color:#333;margin-bottom:20px;text-align:center}.teams-three-column-layout{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;align-items:start}.teams-column{background:#fff;border-radius:12px;padding:25px;box-shadow:0 2px 4px #0000001a;border:1px solid #e0e0e0;height:fit-content}.teams-column h3{color:#333;margin-bottom:20px;font-size:20px;border-bottom:2px solid #f0f0f0;padding-bottom:10px}.teams-grid{display:flex;flex-direction:column;gap:15px}.team-card{background:#f8f9fa;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;border:1px solid #e9ecef}.team-header{display:flex;align-items:center;margin-bottom:15px}.team-icon{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;font-size:18px;color:#fff}.team-name{margin:0;color:#333;font-size:18px;font-weight:700}.team-details p{margin:8px 0;color:#666;font-size:14px}.team-details strong{color:#333}.tournament-structure{display:flex;flex-direction:column;gap:15px}.structure-card{background:#f8f9fa;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;border:1px solid #e9ecef;text-align:center}.structure-card h4{color:#333;margin-bottom:10px;font-size:16px;font-weight:700}.structure-card p{color:#666;font-size:14px;margin:5px 0}.blank-section{background:#f8f9fa;border-radius:8px;padding:40px 20px;text-align:center;border:2px dashed #e0e0e0;color:#666;font-style:italic}.blank-section p{margin:0;font-size:16px}.teams-list-loading,.teams-list-error{text-align:center;padding:40px;font-size:18px}.teams-list-error{color:#d32f2f}@media (max-width: 1200px){.teams-three-column-layout{grid-template-columns:1fr;gap:20px}.teams-list{max-width:800px}}.players-ranking{padding:20px;max-width:1000px;margin:0 auto}.players-ranking h2{color:#333;margin-bottom:20px;text-align:center}.rankings-table{background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;overflow:hidden}.rankings-header{display:grid;grid-template-columns:80px 2fr 2fr 1fr 1fr 1fr;gap:15px;padding:15px 20px;background:#f5f5f5;font-weight:700;color:#333;border-bottom:1px solid #e0e0e0}.ranking-row{display:grid;grid-template-columns:80px 2fr 2fr 1fr 1fr 1fr;gap:15px;padding:12px 20px;border-bottom:1px solid #f0f0f0;align-items:center}.ranking-row:hover{background:#f9f9f9}.ranking-row:nth-child(2n){background:#fafafa}.ranking-row:nth-child(2n):hover{background:#f0f0f0}.rank{font-weight:700;color:#666}.player-name{font-weight:500;color:#333}.team-name{color:#666;font-size:14px}.wins,.losses{text-align:center;font-weight:500}.wins{color:#4caf50}.losses{color:#f44336}.win-rate{text-align:center;font-weight:700;color:#2196f3}.players-ranking-loading,.players-ranking-error{text-align:center;padding:40px;font-size:18px}.players-ranking-error{color:#d32f2f}.home-screen{min-height:100vh;background:linear-gradient(135deg,#1e3c72,#2a5298)}.nav-bar{display:flex;justify-content:center;background:#0000004d;padding:15px 0;backdrop-filter:blur(10px);border-bottom:2px solid rgba(255,255,255,.1)}.nav-button{background:#ffffff1a;color:#fff;border:none;padding:12px 24px;margin:0 10px;border-radius:25px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .3s ease;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.nav-button:hover{background:#fff3;transform:translateY(-2px);box-shadow:0 4px 15px #0000004d}.nav-button.active{background:linear-gradient(45deg,gold,#ffed4e);color:#333;box-shadow:0 4px 15px #ffd7004d}.main-content{flex:1;padding:20px}.settings-section,.tournaments-section,.players-section{background:var(--bg-overlay);border-radius:var(--radius-xl);padding:var(--spacing-3xl);box-shadow:var(--shadow-xl);border:2px solid var(--border-accent);backdrop-filter:blur(10px);width:100%;max-width:800px;text-align:center;color:var(--text-primary);font-size:var(--font-size-xl);font-weight:var(--font-weight-semibold)}@media (max-width: 768px){.nav-bar{flex-direction:column;gap:10px;padding:10px}.nav-button{margin:5px 0;width:100%;max-width:300px}.home-header{padding:var(--spacing-lg)}.home-title{font-size:var(--font-size-2xl);margin-bottom:var(--spacing-lg)}.home-nav{gap:var(--spacing-sm)}.nav-btn{padding:var(--spacing-sm) var(--spacing-lg);font-size:var(--font-size-sm);min-width:100px}.home-main{padding:var(--spacing-lg)}.settings-section,.tournaments-section,.players-section{padding:var(--spacing-xl);font-size:var(--font-size-lg)}}:root{--primary-gold: #ffd700;--primary-gold-light: #ffed4e;--primary-blue-dark: #1e3c72;--primary-blue-light: #2a5298;--primary-red: #ff4757;--bg-primary: linear-gradient( 135deg, var(--primary-blue-dark) 0%, var(--primary-blue-light) 100% );--bg-overlay: rgba(0, 0, 0, .85);--bg-card: linear-gradient( 135deg, rgba(255, 255, 255, .1) 0%, rgba(255, 255, 255, .05) 100% );--bg-button: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);--bg-button-hover: linear-gradient(135deg, #34495e 0%, #2c3e50 100%);--bg-button-active: linear-gradient( 135deg, var(--primary-gold) 0%, var(--primary-gold-light) 100% );--bg-controls: rgba(0, 0, 0, .7);--text-primary: #fff;--text-secondary: #ccc;--text-accent: var(--primary-gold);--text-button-active: #000;--border-primary: rgba(255, 255, 255, .3);--border-accent: rgba(255, 215, 0, .3);--border-accent-hover: rgba(255, 215, 0, .5);--border-controls: rgba(255, 255, 255, .2);--font-family-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;--font-family-mono: "Courier New", monospace;--font-size-xs: 10px;--font-size-sm: 12px;--font-size-base: 14px;--font-size-lg: 16px;--font-size-xl: 18px;--font-size-2xl: 20px;--font-size-3xl: 24px;--font-size-4xl: 28px;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 16px;--spacing-xl: 20px;--spacing-2xl: 24px;--spacing-3xl: 30px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 15px;--radius-2xl: 20px;--shadow-sm: 0 2px 4px rgba(0, 0, 0, .5);--shadow-md: 0 5px 15px rgba(0, 0, 0, .3);--shadow-lg: 0 8px 25px rgba(0, 0, 0, .4);--shadow-xl: 0 10px 30px rgba(0, 0, 0, .5);--shadow-gold: 0 5px 15px rgba(255, 215, 0, .4);--transition-fast: .2s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;--z-dropdown: 1000;--z-sticky: 1020;--z-fixed: 1030;--z-modal: 1040;--z-popover: 1050;--z-tooltip: 1060}*{margin:0;padding:0;box-sizing:border-box}body{font-family:var(--font-family-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background:var(--bg-primary);color:var(--text-primary);min-height:100vh;line-height:1.5}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-bold{font-weight:var(--font-weight-bold)}.font-semibold{font-weight:var(--font-weight-semibold)}.font-medium{font-weight:var(--font-weight-medium)}.text-xs{font-size:var(--font-size-xs)}.text-sm{font-size:var(--font-size-sm)}.text-base{font-size:var(--font-size-base)}.text-lg{font-size:var(--font-size-lg)}.text-xl{font-size:var(--font-size-xl)}.text-2xl{font-size:var(--font-size-2xl)}.text-3xl{font-size:var(--font-size-3xl)}.text-4xl{font-size:var(--font-size-4xl)}.text-primary{color:var(--text-primary)}.text-secondary{color:var(--text-secondary)}.text-accent{color:var(--text-accent)}.bg-overlay{background:var(--bg-overlay)}.bg-card{background:var(--bg-card)}.rounded-sm{border-radius:var(--radius-sm)}.rounded-md{border-radius:var(--radius-md)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.shadow-sm{box-shadow:var(--shadow-sm)}.shadow-md{box-shadow:var(--shadow-md)}.shadow-lg{box-shadow:var(--shadow-lg)}.shadow-xl{box-shadow:var(--shadow-xl)}.transition{transition:var(--transition-normal)}.transition-fast{transition:var(--transition-fast)}.transition-slow{transition:var(--transition-slow)}.app{min-height:100vh;width:100%}
/*$vite$:1*/`,document.head.appendChild(sn);function Ge(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Te={exports:{}},xa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds;function yc(){if(Ds)return xa;Ds=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:l,type:r,key:d,ref:u!==void 0?u:null,props:h}}return xa.Fragment=e,xa.jsx=i,xa.jsxs=i,xa}var lo;function Ms(){return lo||(lo=1,Te.exports=yc()),Te.exports}var E=Ms(),Aa={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function z0(){if(Vd)return xt;Vd=1;var l=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=C&&N[C]||N["@@iterator"],typeof N=="function"?N:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function J(N,Z,it){this.props=N,this.context=Z,this.refs=$,this.updater=it||G}J.prototype.isReactComponent={},J.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},J.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _t(){}_t.prototype=J.prototype;function dt(N,Z,it){this.props=N,this.context=Z,this.refs=$,this.updater=it||G}var ut=dt.prototype=new _t;ut.constructor=dt,P(ut,J.prototype),ut.isPureReactComponent=!0;var At=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},jt=Object.prototype.hasOwnProperty;function O(N,Z,it,W,at,mt){return it=mt.ref,{$$typeof:l,type:N,key:Z,ref:it!==void 0?it:null,props:mt}}function x(N,Z){return O(N.type,Z,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function V(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(it){return Z[it]})}var I=/\/+/g;function z(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):Z.toString(36)}function w(){}function pe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(w,w):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function te(N,Z,it,W,at){var mt=typeof N;(mt==="undefined"||mt==="boolean")&&(N=null);var st=!1;if(N===null)st=!0;else switch(mt){case"bigint":case"string":case"number":st=!0;break;case"object":switch(N.$$typeof){case l:case e:st=!0;break;case S:return st=N._init,te(st(N._payload),Z,it,W,at)}}if(st)return at=at(N),st=W===""?"."+z(N,0):W,At(at)?(it="",st!=null&&(it=st.replace(I,"$&/")+"/"),te(at,Z,it,"",function(Ke){return Ke})):at!=null&&(R(at)&&(at=x(at,it+(at.key==null||N&&N.key===at.key?"":(""+at.key).replace(I,"$&/")+"/")+st)),Z.push(at)),1;st=0;var Dt=W===""?".":W+":";if(At(N))for(var bt=0;bt<N.length;bt++)W=N[bt],mt=Dt+z(W,bt),st+=te(W,Z,it,mt,at);else if(bt=D(N),typeof bt=="function")for(N=bt.call(N),bt=0;!(W=N.next()).done;)W=W.value,mt=Dt+z(W,bt++),st+=te(W,Z,it,mt,at);else if(mt==="object"){if(typeof N.then=="function")return te(pe(N),Z,it,W,at);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return st}function Q(N,Z,it){if(N==null)return N;var W=[],at=0;return te(N,W,"","",function(mt){return Z.call(it,mt,at++)}),W}function nt(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(it){(N._status===0||N._status===-1)&&(N._status=1,N._result=it)},function(it){(N._status===0||N._status===-1)&&(N._status=2,N._result=it)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var ht=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function zt(){}return xt.Children={map:Q,forEach:function(N,Z,it){Q(N,function(){Z.apply(this,arguments)},it)},count:function(N){var Z=0;return Q(N,function(){Z++}),Z},toArray:function(N){return Q(N,function(Z){return Z})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xt.Component=J,xt.Fragment=i,xt.Profiler=u,xt.PureComponent=dt,xt.StrictMode=r,xt.Suspense=_,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,xt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return vt.H.useMemoCache(N)}},xt.cache=function(N){return function(){return N.apply(null,arguments)}},xt.cloneElement=function(N,Z,it){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=P({},N.props),at=N.key,mt=void 0;if(Z!=null)for(st in Z.ref!==void 0&&(mt=void 0),Z.key!==void 0&&(at=""+Z.key),Z)!jt.call(Z,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&Z.ref===void 0||(W[st]=Z[st]);var st=arguments.length-2;if(st===1)W.children=it;else if(1<st){for(var Dt=Array(st),bt=0;bt<st;bt++)Dt[bt]=arguments[bt+2];W.children=Dt}return O(N.type,at,void 0,void 0,mt,W)},xt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},xt.createElement=function(N,Z,it){var W,at={},mt=null;if(Z!=null)for(W in Z.key!==void 0&&(mt=""+Z.key),Z)jt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(at[W]=Z[W]);var st=arguments.length-2;if(st===1)at.children=it;else if(1<st){for(var Dt=Array(st),bt=0;bt<st;bt++)Dt[bt]=arguments[bt+2];at.children=Dt}if(N&&N.defaultProps)for(W in st=N.defaultProps,st)at[W]===void 0&&(at[W]=st[W]);return O(N,mt,void 0,void 0,null,at)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(N){return{$$typeof:p,render:N}},xt.isValidElement=R,xt.lazy=function(N){return{$$typeof:S,_payload:{_status:-1,_result:N},_init:nt}},xt.memo=function(N,Z){return{$$typeof:v,type:N,compare:Z===void 0?null:Z}},xt.startTransition=function(N){var Z=vt.T,it={};vt.T=it;try{var W=N(),at=vt.S;at!==null&&at(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ht)}catch(mt){ht(mt)}finally{vt.T=Z}},xt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},xt.use=function(N){return vt.H.use(N)},xt.useActionState=function(N,Z,it){return vt.H.useActionState(N,Z,it)},xt.useCallback=function(N,Z){return vt.H.useCallback(N,Z)},xt.useContext=function(N){return vt.H.useContext(N)},xt.useDebugValue=function(){},xt.useDeferredValue=function(N,Z){return vt.H.useDeferredValue(N,Z)},xt.useEffect=function(N,Z,it){var W=vt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(N,Z)},xt.useId=function(){return vt.H.useId()},xt.useImperativeHandle=function(N,Z,it){return vt.H.useImperativeHandle(N,Z,it)},xt.useInsertionEffect=function(N,Z){return vt.H.useInsertionEffect(N,Z)},xt.useLayoutEffect=function(N,Z){return vt.H.useLayoutEffect(N,Z)},xt.useMemo=function(N,Z){return vt.H.useMemo(N,Z)},xt.useOptimistic=function(N,Z){return vt.H.useOptimistic(N,Z)},xt.useReducer=function(N,Z,it){return vt.H.useReducer(N,Z,it)},xt.useRef=function(N){return vt.H.useRef(N)},xt.useState=function(N){return vt.H.useState(N)},xt.useSyncExternalStore=function(N,Z,it){return vt.H.useSyncExternalStore(N,Z,it)},xt.useTransition=function(){return vt.H.useTransition()},xt.version="19.1.1",xt}var Od;function vc(){return Od||(Od=1,Aa.exports=z0()),Aa.exports}var Ne=vc();const U0=Ge(Ne);var _c={exports:{}},Vs={},Ec={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function L0(){return Id||(Id=1,function(l){function e(Q,nt){var ht=Q.length;Q.push(nt);t:for(;0<ht;){var zt=ht-1>>>1,N=Q[zt];if(0<u(N,nt))Q[zt]=nt,Q[ht]=N,ht=zt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ht=Q.pop();if(ht!==nt){Q[0]=ht;t:for(var zt=0,N=Q.length,Z=N>>>1;zt<Z;){var it=2*(zt+1)-1,W=Q[it],at=it+1,mt=Q[at];if(0>u(W,ht))at<N&&0>u(mt,W)?(Q[zt]=mt,Q[at]=ht,zt=at):(Q[zt]=W,Q[it]=ht,zt=it);else if(at<N&&0>u(mt,ht))Q[zt]=mt,Q[at]=ht,zt=at;else break t}}return nt}function u(Q,nt){var ht=Q.sortIndex-nt.sortIndex;return ht!==0?ht:Q.id-nt.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();l.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,C=null,D=3,G=!1,P=!1,$=!1,J=!1,_t=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate!="undefined"?setImmediate:null;function At(Q){for(var nt=i(v);nt!==null;){if(nt.callback===null)r(v);else if(nt.startTime<=Q)r(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function vt(Q){if($=!1,At(Q),!P)if(i(_)!==null)P=!0,jt||(jt=!0,z());else{var nt=i(v);nt!==null&&te(vt,nt.startTime-Q)}}var jt=!1,O=-1,x=5,R=-1;function V(){return J?!0:!(l.unstable_now()-R<x)}function I(){if(J=!1,jt){var Q=l.unstable_now();R=Q;var nt=!0;try{t:{P=!1,$&&($=!1,dt(O),O=-1),G=!0;var ht=D;try{e:{for(At(Q),C=i(_);C!==null&&!(C.expirationTime>Q&&V());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,D=C.priorityLevel;var N=zt(C.expirationTime<=Q);if(Q=l.unstable_now(),typeof N=="function"){C.callback=N,At(Q),nt=!0;break e}C===i(_)&&r(_),At(Q)}else r(_);C=i(_)}if(C!==null)nt=!0;else{var Z=i(v);Z!==null&&te(vt,Z.startTime-Q),nt=!1}}break t}finally{C=null,D=ht,G=!1}nt=void 0}}finally{nt?z():jt=!1}}}var z;if(typeof ut=="function")z=function(){ut(I)};else if(typeof MessageChannel!="undefined"){var w=new MessageChannel,pe=w.port2;w.port1.onmessage=I,z=function(){pe.postMessage(null)}}else z=function(){_t(I,0)};function te(Q,nt){O=_t(function(){Q(l.unstable_now())},nt)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Q){Q.callback=null},l.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},l.unstable_getCurrentPriorityLevel=function(){return D},l.unstable_next=function(Q){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ht=D;D=nt;try{return Q()}finally{D=ht}},l.unstable_requestPaint=function(){J=!0},l.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=D;D=Q;try{return nt()}finally{D=ht}},l.unstable_scheduleCallback=function(Q,nt,ht){var zt=l.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,Q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ht+N,Q={id:S++,callback:nt,priorityLevel:Q,startTime:ht,expirationTime:N,sortIndex:-1},ht>zt?(Q.sortIndex=ht,e(v,Q),i(_)===null&&Q===i(v)&&($?(dt(O),O=-1):$=!0,te(vt,ht-zt))):(Q.sortIndex=N,e(_,Q),P||G||(P=!0,jt||(jt=!0,z()))),Q},l.unstable_shouldYield=V,l.unstable_wrapCallback=function(Q){var nt=D;return function(){var ht=D;D=nt;try{return Q.apply(this,arguments)}finally{D=ht}}}}(Tc)),Tc}var jd;function k0(){return jd||(jd=1,Ec.exports=L0()),Ec.exports}var bc={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd;function B0(){if(zd)return Qe;zd=1;var l=vc();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:_,containerInfo:v,implementation:S}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},Qe.flushSync=function(_){var v=d.T,S=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=S,r.d.f()}},Qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},Qe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,C=p(S,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:G}):S==="script"&&r.d.X(_,{crossOrigin:C,integrity:D,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},Qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,C=p(S,v.crossOrigin);r.d.L(_,S,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},Qe.requestFormReset=function(_){r.d.r(_)},Qe.unstable_batchedUpdates=function(_,v){return _(v)},Qe.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Ud;function P0(){if(Ud)return bc.exports;Ud=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),bc.exports=B0(),bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function q0(){if(Ld)return Vs;Ld=1;var l=k0(),e=vc(),i=P0();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,s=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){a=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===s)return p(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==s.return)a=c,s=f;else{for(var y=!1,T=c.child;T;){if(T===a){y=!0,a=c,s=f;break}if(T===s){y=!0,s=c,a=f;break}T=T.sibling}if(!y){for(T=f.child;T;){if(T===a){y=!0,a=f,s=c;break}if(T===s){y=!0,s=f,a=c;break}T=T.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),_t=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case J:return"Profiler";case $:return"StrictMode";case vt:return"Suspense";case jt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return pe(t(n))}catch(a){}}return null}var te=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],N=-1;function Z(t){return{current:t}}function it(t){0>N||(t.current=zt[N],zt[N]=null,N--)}function W(t,n){N++,zt[N]=t.current,t.current=n}var at=Z(null),mt=Z(null),st=Z(null),Dt=Z(null);function bt(t,n){switch(W(st,n),W(mt,t),W(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o0(n),t=u0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(at),W(at,t)}function Ke(){it(at),it(mt),it(st)}function on(t){t.memoizedState!==null&&W(Dt,t);var n=at.current,a=u0(n,t.type);n!==a&&(W(mt,t),W(at,a))}function We(t){mt.current===t&&(it(at),it(mt)),Dt.current===t&&(it(Dt),no._currentValue=ht)}var fn=Object.prototype.hasOwnProperty,Ia=l.unstable_scheduleCallback,ja=l.unstable_cancelCallback,Ws=l.unstable_shouldYield,Yo=l.unstable_requestPaint,bn=l.unstable_now,Mh=l.unstable_getCurrentPriorityLevel,tl=l.unstable_ImmediatePriority,Lr=l.unstable_UserBlockingPriority,za=l.unstable_NormalPriority,Vh=l.unstable_LowPriority,kr=l.unstable_IdlePriority,el=l.log,Xo=l.unstable_setDisableYieldValue,re=null,Gt=null;function dn(t){if(typeof el=="function"&&Xo(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(re,t)}catch(n){}}var Ze=Math.clz32?Math.clz32:Ua,Ko=Math.log,Oh=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Ko(t)/Oh|0)|0}var La=256,ka=4194304;function jn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Br(t,n,a){var s=t.pendingLanes;if(s===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=s&134217727;return T!==0?(s=T&~f,s!==0?c=jn(s):(y&=T,y!==0?c=jn(y):a||(a=T&~t,a!==0&&(c=jn(a))))):(T=s&~f,T!==0?c=jn(T):y!==0?c=jn(y):a||(a=s&~t,a!==0&&(c=jn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ba(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function nl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function il(){var t=La;return La<<=1,(La&4194048)===0&&(La=256),t}function al(){var t=ka;return ka<<=1,(ka&62914560)===0&&(ka=4194304),t}function hi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function fi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rl(t,n,a,s,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,A=t.expirationTimes,k=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Ze(a),X=1<<F;T[F]=0,A[F]=-1;var B=k[F];if(B!==null)for(k[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~X}s!==0&&Yn(t,s,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Yn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-Ze(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|a&4194090}function sl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var s=31-Ze(a),c=1<<s;c&n|t[s]&n&&(t[s]|=n),a&=~c}}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $i(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:C0(t.type))}function Zo(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var ee=Math.random().toString(36).slice(2),xe="__reactFiber$"+ee,ye="__reactProps$"+ee,Sn="__reactContainer$"+ee,ll="__reactEvents$"+ee,Ih="__reactListeners$"+ee,Ji="__reactHandles$"+ee,$o="__reactResources$"+ee,Pa="__reactMarker$"+ee;function Wi(t){delete t[xe],delete t[ye],delete t[ll],delete t[Ih],delete t[Ji]}function di(t){var n=t[xe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Sn]||a[xe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=d0(t);t!==null;){if(a=t[xe])return a;t=d0(t)}return n}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[xe]||t[Sn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function tn(t){var n=t[$o];return n||(n=t[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Pa]=!0}var ol=new Set,qr={};function zn(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(qr[t]=n,t=0;t<n.length;t++)ol.add(n[t])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},qa={};function tu(t){return fn.call(qa,t)?!0:fn.call(Wo,t)?!1:Jo.test(t)?qa[t]=!0:(Wo[t]=!0,!1)}function ta(t,n,a){if(tu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ke(t,n,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+s)}}var Ha,eu;function gi(t){if(Ha===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ha=n&&n[1]||"",eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+t+eu}var Hr=!1;function Gr(t,n){if(!t||Hr)return"";Hr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),y=f[0],T=f[1];if(y&&T){var A=y.split(`
`),k=T.split(`
`);for(c=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(s===A.length||c===k.length)for(s=A.length-1,c=k.length-1;1<=s&&0<=c&&A[s]!==k[c];)c--;for(;1<=s&&0<=c;s--,c--)if(A[s]!==k[c]){if(s!==1||c!==1)do if(s--,c--,0>c||A[s]!==k[c]){var F=`
`+A[s].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=s&&0<=c);break}}}finally{Hr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function ul(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Gr(t.type,!1);case 11:return Gr(t.type.render,!1);case 1:return Gr(t.type,!0);case 31:return gi("Activity");default:return""}}function Qr(t){try{var n="";do n+=ul(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cl(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jh(t){var n=cl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),s=""+t[n];if(!t.hasOwnProperty(n)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=jh(t))}function hl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return t&&(s=cl(t)?t.checked?"true":"false":t.value),t=s,t!==a?(n.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(n){return t.body}}var zh=/[\n"\\]/g;function ve(t){return t.replace(zh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(t,n,a,s,c,f,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+en(n)):t.value!==""+en(n)&&(t.value=""+en(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ea(t,y,en(n)):a!=null?ea(t,y,en(a)):s!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function Qa(t,n,a,s,c,f,y,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+en(a):"",n=n!=null?""+en(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}s=s!=null?s:c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=T?t.checked:!!s,t.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ea(t,n,a){n==="number"&&Ga(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pi(t,n,a,s){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&s&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+en(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+en(a):""}function Fa(t,n,a,s){if(n==null){if(s!=null){if(a!=null)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),n=a}a=en(n),t.defaultValue=a,s=t.textContent,s===a&&s!==""&&s!==null&&(t.value=s)}function xn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ya=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(t,n,a){var s=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,a):typeof a!="number"||a===0||Ya.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function fl(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var c in n)s=n[c],n.hasOwnProperty(c)&&a[c]!==s&&nu(t,c,s)}else for(var f in n)n.hasOwnProperty(f)&&nu(t,f,n[f])}function dl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(t){return Lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yi=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,_i=null;function ml(t){var n=Xn(t);if(n&&(t=n.stateNode)){var a=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ve(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==t&&s.form===t.form){var c=s[ye]||null;if(!c)throw Error(r(90));mn(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)s=a[n],s.form===t.form&&hl(s)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pi(t,!!a.multiple,n,!1)}}}var $n=!1;function iu(t,n,a){if($n)return t(n,a);$n=!0;try{var s=t(n);return s}finally{if($n=!1,(vi!==null||_i!==null)&&(Zu(),vi&&(n=vi,t=_i,_i=vi=null,ml(n),t)))for(n=0;n<t.length;n++)ml(t[n])}}function Xa(t,n){var a=t.stateNode;if(a===null)return null;var s=a[ye]||null;if(s===null)return null;a=s[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Un=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),wn=!1;if(Un)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){wn=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch(t){wn=!1}var Jn=null,na=null,Ei=null;function gl(){if(Ei)return Ei;var t,n=na,a=n.length,s,c="value"in Jn?Jn.value:Jn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(s=1;s<=y&&n[a-s]===c[f-s];s++);return Ei=c.slice(t,1<s?1-s:void 0)}function Wn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function pl(){return!1}function Me(t){function n(a,s,c,f,y){this._reactName=a,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:pl,this.isPropagationStopped=pl,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xr=Me(Ht),Za=S({},Ht,{view:0,detail:0}),au=Me(Za),Kr,Zr,ei,$a=S({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(Kr=t.screenX-ei.screenX,Zr=t.screenY-ei.screenY):Zr=Kr=0,ei=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),Rn=Me($a),ru=S({},$a,{dataTransfer:0}),kh=Me(ru),Ja=S({},Za,{relatedTarget:0}),$r=Me(Ja),yl=S({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Me(yl),su=S({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wr=Me(su),Bh=S({},Ht,{data:0}),vl=Me(Bh),Wa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ou[t])?!!n[t]:!1}function tr(){return _l}var uu=S({},Za,{key:function(t){if(t.key){var n=Wa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ts=Me(uu),cu=S({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Me(cu),Ti=S({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),hu=Me(Ti),fu=S({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=Me(fu),mu=S({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Me(mu),nn=S({},Ht,{newState:0,oldState:0}),gu=Me(nn),pu=[9,13,27,32],ni=Un&&"CompositionEvent"in window,o=null;Un&&"documentMode"in document&&(o=document.documentMode);var m=Un&&"TextEvent"in window&&!o,g=Un&&(!ni||o&&8<o&&11>=o),b=" ",U=!1;function H(t,n){switch(t){case"keyup":return pu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ut=!1;function Ae(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(U=!0,b);case"textInput":return t=n.data,t===b&&U?null:t;default:return null}}function Lt(t,n){if(Ut)return t==="compositionend"||!ni&&H(t,n)?(t=gl(),Ei=na=Jn=null,Ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function bi(t,n,a,s){vi?_i?_i.push(s):_i=[s]:vi=s,n=nc(n,"onChange"),0<n.length&&(a=new Xr("onChange","change",null,a,s),t.push({event:a,listeners:n}))}var Be=null,ii=null;function Tl(t){i0(t,0)}function yu(t){var n=Kn(t);if(hl(n))return t}function xp(t,n){if(t==="change")return n}var Ap=!1;if(Un){var Ph;if(Un){var qh="oninput"in document;if(!qh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),qh=typeof wp.oninput=="function"}Ph=qh}else Ph=!1;Ap=Ph&&(!document.documentMode||9<document.documentMode)}function Rp(){Be&&(Be.detachEvent("onpropertychange",Cp),ii=Be=null)}function Cp(t){if(t.propertyName==="value"&&yu(ii)){var n=[];bi(n,ii,t,An(t)),iu(Tl,n)}}function kb(t,n,a){t==="focusin"?(Rp(),Be=n,ii=a,Be.attachEvent("onpropertychange",Cp)):t==="focusout"&&Rp()}function Bb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(ii)}function Pb(t,n){if(t==="click")return yu(n)}function qb(t,n){if(t==="input"||t==="change")return yu(n)}function Hb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:Hb;function bl(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var c=a[s];if(!fn.call(n,c)||!gn(t[c],n[c]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dp(t,n){var a=Np(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=n&&s>=n)return{node:a,offset:n-t};t=s}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Np(a)}}function Mp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Mp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ga(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch(s){a=!1}if(a)t=n.contentWindow;else break;n=Ga(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Gb=Un&&"documentMode"in document&&11>=document.documentMode,ns=null,Gh=null,Sl=null,Qh=!1;function Op(t,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ns==null||ns!==Ga(s)||(s=ns,"selectionStart"in s&&Hh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sl&&bl(Sl,s)||(Sl=s,s=nc(Gh,"onSelect"),0<s.length&&(n=new Xr("onSelect","select",null,n,a),t.push({event:n,listeners:s}),n.target=ns)))}function er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var is={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Fh={},Ip={};Un&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function nr(t){if(Fh[t])return Fh[t];if(!is[t])return t;var n=is[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ip)return Fh[t]=n[a];return t}var jp=nr("animationend"),zp=nr("animationiteration"),Up=nr("animationstart"),Qb=nr("transitionrun"),Fb=nr("transitionstart"),Yb=nr("transitioncancel"),Lp=nr("transitionend"),kp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Ln(t,n){kp.set(t,n),zn(n,[t])}var Bp=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=Bp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Qr(n)},Bp.set(t,n),n)}return{value:t,source:n,stack:Qr(n)}}var Nn=[],as=0,Xh=0;function vu(){for(var t=as,n=Xh=as=0;n<t;){var a=Nn[n];Nn[n++]=null;var s=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,s!==null&&c!==null){var y=s.pending;y===null?c.next=c:(c.next=y.next,y.next=c),s.pending=c}f!==0&&Pp(a,c,f)}}function _u(t,n,a,s){Nn[as++]=t,Nn[as++]=n,Nn[as++]=a,Nn[as++]=s,Xh|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Kh(t,n,a,s){return _u(t,n,a,s),Eu(t)}function rs(t,n){return _u(t,null,null,n),Eu(t)}function Pp(t,n,a){t.lanes|=a;var s=t.alternate;s!==null&&(s.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,s=f.alternate,s!==null&&(s.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ze(a),t=f.hiddenUpdates,s=t[c],s===null?t[c]=[n]:s.push(n),n.lane=a|536870912),f):null}function Eu(t){if(50<Xl)throw Xl=0,nd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ss={};function Xb(t,n,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,s){return new Xb(t,n,a,s)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Tu(t,n,a,s,c,f){var y=0;if(s=t,typeof t=="function")Zh(t)&&(y=1);else if(typeof t=="string")y=ZS(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=pn(31,a,n,c),t.elementType=R,t.lanes=f,t;case P:return ir(a.children,c,f,n);case $:y=8,c|=24;break;case J:return t=pn(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case vt:return t=pn(13,a,n,c),t.elementType=vt,t.lanes=f,t;case jt:return t=pn(19,a,n,c),t.elementType=jt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _t:case ut:y=10;break t;case dt:y=9;break t;case At:y=11;break t;case O:y=14;break t;case x:y=16,s=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),s=null}return n=pn(y,a,n,c),n.elementType=t,n.type=s,n.lanes=f,n}function ir(t,n,a,s){return t=pn(7,t,s,n),t.lanes=a,t}function $h(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function Jh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ls=[],os=0,bu=null,Su=0,Dn=[],Mn=0,ar=null,xi=1,Ai="";function rr(t,n){ls[os++]=Su,ls[os++]=bu,bu=t,Su=n}function Hp(t,n,a){Dn[Mn++]=xi,Dn[Mn++]=Ai,Dn[Mn++]=ar,ar=t;var s=xi;t=Ai;var c=32-Ze(s)-1;s&=~(1<<c),a+=1;var f=32-Ze(n)+c;if(30<f){var y=c-c%5;f=(s&(1<<y)-1).toString(32),s>>=y,c-=y,xi=1<<32-Ze(n)+c|a<<c|s,Ai=f+t}else xi=1<<f|a<<c|s,Ai=t}function Wh(t){t.return!==null&&(rr(t,1),Hp(t,1,0))}function tf(t){for(;t===bu;)bu=ls[--os],ls[os]=null,Su=ls[--os],ls[os]=null;for(;t===ar;)ar=Dn[--Mn],Dn[Mn]=null,Ai=Dn[--Mn],Dn[Mn]=null,xi=Dn[--Mn],Dn[Mn]=null}var an=null,se=null,qt=!1,sr=null,ai=!1,ef=Error(r(519));function lr(t){var n=Error(r(418,""));throw wl(Cn(n,t)),ef}function Gp(t){var n=t.stateNode,a=t.type,s=t.memoizedProps;switch(n[xe]=t,n[ye]=s,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Zl.length;a++)Nt(Zl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Qa(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Fr(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Fa(n,s.value,s.defaultValue,s.children),Fr(n)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||s.suppressHydrationWarning===!0||l0(n.textContent,a)?(s.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),s.onScroll!=null&&Nt("scroll",n),s.onScrollEnd!=null&&Nt("scrollend",n),s.onClick!=null&&(n.onclick=ic),n=!0):n=!1,n||lr(t)}function Qp(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:an=an.return}}function xl(t){if(t!==an)return!1;if(!qt)return Qp(t),qt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||vd(t.type,t.memoizedProps)),a=!a),a&&se&&lr(t),Qp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Bn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,va(t.type)?(t=bd,bd=null,se=t):se=n):se=an?Bn(t.stateNode.nextSibling):null;return!0}function Al(){se=an=null,qt=!1}function Fp(){var t=sr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),sr=null),t}function wl(t){sr===null?sr=[t]:sr.push(t)}var nf=Z(null),or=null,wi=null;function ia(t,n,a){W(nf,n._currentValue),n._currentValue=a}function Ri(t){t._currentValue=nf.current,it(nf)}function af(t,n,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===a)break;t=t.return}}function rf(t,n,a,s){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var A=0;A<n.length;A++)if(T.context===n[A]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),af(f.return,a,t),s||(y=null);break t}f=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Rl(t,n,a,s){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var T=c.type;gn(c.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(c===Dt.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(no):t=[no])}c=c.return}t!==null&&rf(n,t,a,s),n.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ur(t){or=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return Yp(or,t)}function Au(t,n){return or===null&&ur(t),Yp(t,n)}function Yp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var Kb=typeof AbortController!="undefined"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Zb=l.unstable_scheduleCallback,$b=l.unstable_NormalPriority,Re={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Kb,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Zb($b,function(){t.controller.abort()})}var Nl=null,lf=0,us=0,cs=null;function Jb(t,n){if(Nl===null){var a=Nl=[];lf=0,us=ud(),cs={status:"pending",value:void 0,then:function(s){a.push(s)}}}return lf++,n.then(Xp,Xp),n}function Xp(){if(--lf===0&&Nl!==null){cs!==null&&(cs.status="fulfilled");var t=Nl;Nl=null,us=0,cs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Wb(t,n){var a=[],s={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(s.status="rejected",s.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),s}var Kp=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Jb(t,n),Kp!==null&&Kp(t,n)};var cr=Z(null);function of(){var t=cr.current;return t!==null?t:Jt.pooledCache}function wu(t,n){n===null?W(cr,cr.current):W(cr,n.pool)}function Zp(){var t=of();return t===null?null:{parent:Re._currentValue,pool:t}}var Dl=Error(r(460)),$p=Error(r(474)),Ru=Error(r(542)),uf={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function Wp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Cu,Cu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ey(t),t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=s}},function(s){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ey(t),t}throw Ml=n,Dl}}var Ml=null;function ty(){if(Ml===null)throw Error(r(459));var t=Ml;return Ml=null,t}function ey(t){if(t===Dl||t===Ru)throw Error(r(483))}var aa=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Qt&2)!==0){var c=s.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),s.pending=n,n=Eu(t),Pp(t,null,a),n}return _u(t,s,n,a),Eu(t)}function Vl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,sl(t,a)}}function ff(t,n){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var df=!1;function Ol(){if(df){var t=cs;if(t!==null)throw t}}function Il(t,n,a,s){df=!1;var c=t.updateQueue;aa=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var A=T,k=A.next;A.next=null,y===null?f=k:y.next=k,y=A;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==y&&(T===null?F.firstBaseUpdate=k:T.next=k,F.lastBaseUpdate=A))}if(f!==null){var X=c.baseState;y=0,F=k=A=null,T=f;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(kt&B)===B:(s&B)===B){B!==0&&B===us&&(df=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,pt=T;B=n;var Zt=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){X=Et.call(Zt,X,B);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call(Zt,X,B):Et,B==null)break t;X=S({},X,B);break t;case 2:aa=!0}}B=T.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(k=F=q,A=X):F=F.next=q,y|=B;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;q=T,T=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(A=X),c.baseState=A,c.firstBaseUpdate=k,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ma|=y,t.lanes=y,t.memoizedState=X}}function ny(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function iy(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ny(a[t],n)}var hs=Z(null),Nu=Z(0);function ay(t,n){t=Ii,W(Nu,t),W(hs,n),Ii=t|n.baseLanes}function mf(){W(Nu,Ii),W(hs,hs.current)}function gf(){Ii=Nu.current,it(hs),it(Nu)}var la=0,wt=null,Xt=null,_e=null,Du=!1,fs=!1,hr=!1,Mu=0,jl=0,ds=null,tS=0;function he(){throw Error(r(321))}function pf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function yf(t,n,a,s,c,f){return la=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Py:qy,hr=!1,f=a(s,c),hr=!1,fs&&(f=sy(n,a,s,c)),ry(t),f}function ry(t){Q.H=Uu;var n=Xt!==null&&Xt.next!==null;if(la=0,_e=Xt=wt=null,Du=!1,jl=0,ds=null,n)throw Error(r(300));t===null||Oe||(t=t.dependencies,t!==null&&xu(t)&&(Oe=!0))}function sy(t,n,a,s){wt=t;var c=0;do{if(fs&&(ds=null),jl=0,fs=!1,25<=c)throw Error(r(301));if(c+=1,_e=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=lS,f=n(a,s)}while(fs);return f}function eS(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?zl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(wt.flags|=1024),n}function vf(){var t=Mu!==0;return Mu=0,t}function _f(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ef(t){if(Du){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Du=!1}la=0,_e=Xt=wt=null,fs=!1,jl=Mu=0,ds=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=t:_e=_e.next=t,_e}function Ee(){if(Xt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=_e===null?wt.memoizedState:_e.next;if(n!==null)_e=n,Xt=t;else{if(t===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?wt.memoizedState=_e=t:_e=_e.next=t}return _e}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(t){var n=jl;return jl+=1,ds===null&&(ds=[]),t=Wp(ds,t,n),n=wt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Py:qy),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zl(t);if(t.$$typeof===ut)return $e(t)}throw Error(r(438,String(t)))}function bf(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var s=wt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Tf(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),s=0;s<t;s++)a[s]=V;return n.index++,a}function Ci(t,n){return typeof n=="function"?n(t):n}function Ou(t){var n=Ee();return Sf(n,Xt,t)}function Sf(t,n,a){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var c=t.baseQueue,f=s.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,s.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=y=null,A=null,k=n,F=!1;do{var X=k.lane&-536870913;if(X!==k.lane?(kt&X)===X:(la&X)===X){var B=k.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),X===us&&(F=!0);else if((la&B)===B){k=k.next,B===us&&(F=!0);continue}else X={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(T=A=X,y=f):A=A.next=X,wt.lanes|=B,ma|=B;X=k.action,hr&&a(f,X),f=k.hasEagerState?k.eagerState:a(f,X)}else B={lane:X,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},A===null?(T=A=B,y=f):A=A.next=B,wt.lanes|=X,ma|=X;k=k.next}while(k!==null&&k!==n);if(A===null?y=f:A.next=T,!gn(f,t.memoizedState)&&(Oe=!0,F&&(a=cs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=A,s.lastRenderedState=f}return c===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function xf(t){var n=Ee(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var s=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);gn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,s]}function ly(t,n,a){var s=wt,c=Ee(),f=qt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!gn((Xt||c).memoizedState,a);y&&(c.memoizedState=a,Oe=!0),c=c.queue;var T=cy.bind(null,s,c,t);if(Ul(2048,8,T,[t]),c.getSnapshot!==n||y||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,ms(9,Iu(),uy.bind(null,s,c,a,n),null),Jt===null)throw Error(r(349));f||(la&124)!==0||oy(s,n,a)}return a}function oy(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Tf(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function uy(t,n,a,s){n.value=a,n.getSnapshot=s,hy(n)&&fy(t)}function cy(t,n,a){return a(function(){hy(n)&&fy(t)})}function hy(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch(s){return!0}}function fy(t){var n=rs(t,2);n!==null&&Tn(n,t,2)}function Af(t){var n=un();if(typeof t=="function"){var a=t;if(t=a(),hr){dn(!0);try{a()}finally{dn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function dy(t,n,a,s){return t.baseState=a,Sf(t,Xt,typeof s=="function"?s:Ci)}function nS(t,n,a,s,c){if(zu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?a(!0):f.isTransition=!1,s(f),a=n.pending,a===null?(f.next=n.pending=f,my(n,f)):(f.next=a.next,n.pending=a.next=f)}}function my(t,n){var a=n.action,s=n.payload,c=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var T=a(c,s),A=Q.S;A!==null&&A(y,T),gy(t,n,T)}catch(k){wf(t,n,k)}finally{Q.T=f}}else try{f=a(c,s),gy(t,n,f)}catch(k){wf(t,n,k)}}function gy(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){py(t,n,s)},function(s){return wf(t,n,s)}):py(t,n,a)}function py(t,n,a){n.status="fulfilled",n.value=a,yy(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,my(t,a)))}function wf(t,n,a){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=a,yy(n),n=n.next;while(n!==s)}t.action=null}function yy(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vy(t,n){return n}function _y(t,n){if(qt){var a=Jt.formState;if(a!==null){t:{var s=wt;if(qt){if(se){e:{for(var c=se,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=Bn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Bn(c.nextSibling),s=c.data==="F!";break t}}lr(s)}s=!1}s&&(n=a[0])}}return a=un(),a.memoizedState=a.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:n},a.queue=s,a=Ly.bind(null,wt,s),s.dispatch=a,s=Af(!1),f=Mf.bind(null,wt,!1,s.queue),s=un(),c={state:n,dispatch:null,action:t,pending:null},s.queue=c,a=nS.bind(null,wt,c,f,a),c.dispatch=a,s.memoizedState=t,[n,a,!1]}function Ey(t){var n=Ee();return Ty(n,Xt,t)}function Ty(t,n,a){if(n=Sf(t,n,vy)[0],t=Ou(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=zl(n)}catch(y){throw y===Dl?Ru:y}else s=n;n=Ee();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ms(9,Iu(),iS.bind(null,c,a),null)),[s,f,t]}function iS(t,n){t.action=n}function by(t){var n=Ee(),a=Xt;if(a!==null)return Ty(n,a,t);Ee(),n=n.memoizedState,a=Ee();var s=a.queue.dispatch;return a.memoizedState=t,[n,s,!1]}function ms(t,n,a,s){return t={tag:t,create:a,deps:s,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Tf(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,n.lastEffect=t),t}function Iu(){return{destroy:void 0,resource:void 0}}function Sy(){return Ee().memoizedState}function ju(t,n,a,s){var c=un();s=s===void 0?null:s,wt.flags|=t,c.memoizedState=ms(1|n,Iu(),a,s)}function Ul(t,n,a,s){var c=Ee();s=s===void 0?null:s;var f=c.memoizedState.inst;Xt!==null&&s!==null&&pf(s,Xt.memoizedState.deps)?c.memoizedState=ms(n,f,a,s):(wt.flags|=t,c.memoizedState=ms(1|n,f,a,s))}function xy(t,n){ju(8390656,8,t,n)}function Ay(t,n){Ul(2048,8,t,n)}function wy(t,n){return Ul(4,2,t,n)}function Ry(t,n){return Ul(4,4,t,n)}function Cy(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ny(t,n,a){a=a!=null?a.concat([t]):null,Ul(4,4,Cy.bind(null,n,t),a)}function Rf(){}function Dy(t,n){var a=Ee();n=n===void 0?null:n;var s=a.memoizedState;return n!==null&&pf(n,s[1])?s[0]:(a.memoizedState=[t,n],t)}function My(t,n){var a=Ee();n=n===void 0?null:n;var s=a.memoizedState;if(n!==null&&pf(n,s[1]))return s[0];if(s=t(),hr){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[s,n],s}function Cf(t,n,a){return a===void 0||(la&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Iv(),wt.lanes|=t,ma|=t,a)}function Vy(t,n,a,s){return gn(a,n)?a:hs.current!==null?(t=Cf(t,a,s),gn(t,n)||(Oe=!0),t):(la&42)===0?(Oe=!0,t.memoizedState=a):(t=Iv(),wt.lanes|=t,ma|=t,n)}function Oy(t,n,a,s,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=Q.T,T={};Q.T=T,Mf(t,!1,n,a);try{var A=c(),k=Q.S;if(k!==null&&k(T,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=Wb(A,s);Ll(t,n,F,En(t))}else Ll(t,n,s,En(t))}catch(X){Ll(t,n,{then:function(){},status:"rejected",reason:X},En())}finally{nt.p=f,Q.T=y}}function aS(){}function Nf(t,n,a,s){if(t.tag!==5)throw Error(r(476));var c=Iy(t).queue;Oy(t,c,n,ht,a===null?aS:function(){return jy(t),a(s)})}function Iy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jy(t){var n=Iy(t).next.queue;Ll(t,n,{},En())}function Df(){return $e(no)}function zy(){return Ee().memoizedState}function Uy(){return Ee().memoizedState}function rS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=ra(a);var s=sa(n,t,a);s!==null&&(Tn(s,n,a),Vl(s,n,a)),n={cache:sf()},t.payload=n;return}n=n.return}}function sS(t,n,a){var s=En();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(t)?ky(n,a):(a=Kh(t,n,a,s),a!==null&&(Tn(a,t,s),By(a,n,s)))}function Ly(t,n,a){var s=En();Ll(t,n,a,s)}function Ll(t,n,a,s){var c={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(t))ky(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,T=f(y,a);if(c.hasEagerState=!0,c.eagerState=T,gn(T,y))return _u(t,n,c,0),Jt===null&&vu(),!1}catch(A){}finally{}if(a=Kh(t,n,c,s),a!==null)return Tn(a,t,s),By(a,n,s),!0}return!1}function Mf(t,n,a,s){if(s={lane:2,revertLane:ud(),action:s,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(n)throw Error(r(479))}else n=Kh(t,a,s,2),n!==null&&Tn(n,t,2)}function zu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function ky(t,n){fs=Du=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function By(t,n,a){if((a&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,a|=s,n.lanes=a,sl(t,a)}}var Uu={readContext:$e,use:Vu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Py={readContext:$e,use:Vu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:$e,useEffect:xy,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ju(4194308,4,Cy.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var a=un();n=n===void 0?null:n;var s=t();if(hr){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[s,n],s},useReducer:function(t,n,a){var s=un();if(a!==void 0){var c=a(n);if(hr){dn(!0);try{a(n)}finally{dn(!1)}}}else c=n;return s.memoizedState=s.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},s.queue=t,t=t.dispatch=sS.bind(null,wt,t),[s.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,a=Ly.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,n){var a=un();return Cf(a,t,n)},useTransition:function(){var t=Af(!1);return t=Oy.bind(null,wt,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var s=wt,c=un();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(kt&124)!==0||oy(s,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,xy(cy.bind(null,s,f,t),[t]),s.flags|=2048,ms(9,Iu(),uy.bind(null,s,f,a,n),null),a},useId:function(){var t=un(),n=Jt.identifierPrefix;if(qt){var a=Ai,s=xi;a=(s&~(1<<32-Ze(s)-1)).toString(32)+a,n=""+n+"R"+a,a=Mu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=tS++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Df,useFormState:_y,useActionState:_y,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return un().memoizedState=rS.bind(null,wt)}},qy={readContext:$e,use:Vu,useCallback:Dy,useContext:$e,useEffect:Ay,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:My,useReducer:Ou,useRef:Sy,useState:function(){return Ou(Ci)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Ee();return Vy(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Ou(Ci)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:ly,useId:zy,useHostTransitionStatus:Df,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,n){var a=Ee();return dy(a,Xt,t,n)},useMemoCache:bf,useCacheRefresh:Uy},lS={readContext:$e,use:Vu,useCallback:Dy,useContext:$e,useEffect:Ay,useImperativeHandle:Ny,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:My,useReducer:xf,useRef:Sy,useState:function(){return xf(Ci)},useDebugValue:Rf,useDeferredValue:function(t,n){var a=Ee();return Xt===null?Cf(a,t,n):Vy(a,Xt.memoizedState,t,n)},useTransition:function(){var t=xf(Ci)[0],n=Ee().memoizedState;return[typeof t=="boolean"?t:zl(t),n]},useSyncExternalStore:ly,useId:zy,useHostTransitionStatus:Df,useFormState:by,useActionState:by,useOptimistic:function(t,n){var a=Ee();return Xt!==null?dy(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Uy},gs=null,kl=0;function Lu(t){var n=kl;return kl+=1,gs===null&&(gs=[]),Wp(gs,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hy(t){var n=t._init;return n(t._payload)}function Gy(t){function n(j,M){if(t){var L=j.deletions;L===null?(j.deletions=[M],j.flags|=16):L.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)n(j,M),M=M.sibling;return null}function s(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function c(j,M){return j=Si(j,M),j.index=0,j.sibling=null,j}function f(j,M,L){return j.index=L,t?(L=j.alternate,L!==null?(L=L.index,L<M?(j.flags|=67108866,M):L):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,M,L,Y){return M===null||M.tag!==6?(M=$h(L,j.mode,Y),M.return=j,M):(M=c(M,L),M.return=j,M)}function A(j,M,L,Y){var ot=L.type;return ot===P?F(j,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===x&&Hy(ot)===M.type)?(M=c(M,L.props),Bl(M,L),M.return=j,M):(M=Tu(L.type,L.key,L.props,null,j.mode,Y),Bl(M,L),M.return=j,M)}function k(j,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Jh(L,j.mode,Y),M.return=j,M):(M=c(M,L.children||[]),M.return=j,M)}function F(j,M,L,Y,ot){return M===null||M.tag!==7?(M=ir(L,j.mode,Y,ot),M.return=j,M):(M=c(M,L),M.return=j,M)}function X(j,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$h(""+M,j.mode,L),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return L=Tu(M.type,M.key,M.props,null,j.mode,L),Bl(L,M),L.return=j,L;case G:return M=Jh(M,j.mode,L),M.return=j,M;case x:var Y=M._init;return M=Y(M._payload),X(j,M,L)}if(te(M)||z(M))return M=ir(M,j.mode,L,null),M.return=j,M;if(typeof M.then=="function")return X(j,Lu(M),L);if(M.$$typeof===ut)return X(j,Au(j,M),L);ku(j,M)}return null}function B(j,M,L,Y){var ot=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:T(j,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return L.key===ot?A(j,M,L,Y):null;case G:return L.key===ot?k(j,M,L,Y):null;case x:return ot=L._init,L=ot(L._payload),B(j,M,L,Y)}if(te(L)||z(L))return ot!==null?null:F(j,M,L,Y,null);if(typeof L.then=="function")return B(j,M,Lu(L),Y);if(L.$$typeof===ut)return B(j,M,Au(j,L),Y);ku(j,L)}return null}function q(j,M,L,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return j=j.get(L)||null,T(M,j,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return j=j.get(Y.key===null?L:Y.key)||null,A(M,j,Y,ot);case G:return j=j.get(Y.key===null?L:Y.key)||null,k(M,j,Y,ot);case x:var Rt=Y._init;return Y=Rt(Y._payload),q(j,M,L,Y,ot)}if(te(Y)||z(Y))return j=j.get(L)||null,F(M,j,Y,ot,null);if(typeof Y.then=="function")return q(j,M,L,Lu(Y),ot);if(Y.$$typeof===ut)return q(j,M,L,Au(M,Y),ot);ku(M,Y)}return null}function Et(j,M,L,Y){for(var ot=null,Rt=null,ft=M,yt=M=0,je=null;ft!==null&&yt<L.length;yt++){ft.index>yt?(je=ft,ft=null):je=ft.sibling;var Pt=B(j,ft,L[yt],Y);if(Pt===null){ft===null&&(ft=je);break}t&&ft&&Pt.alternate===null&&n(j,ft),M=f(Pt,M,yt),Rt===null?ot=Pt:Rt.sibling=Pt,Rt=Pt,ft=je}if(yt===L.length)return a(j,ft),qt&&rr(j,yt),ot;if(ft===null){for(;yt<L.length;yt++)ft=X(j,L[yt],Y),ft!==null&&(M=f(ft,M,yt),Rt===null?ot=ft:Rt.sibling=ft,Rt=ft);return qt&&rr(j,yt),ot}for(ft=s(ft);yt<L.length;yt++)je=q(ft,j,yt,L[yt],Y),je!==null&&(t&&je.alternate!==null&&ft.delete(je.key===null?yt:je.key),M=f(je,M,yt),Rt===null?ot=je:Rt.sibling=je,Rt=je);return t&&ft.forEach(function(Sa){return n(j,Sa)}),qt&&rr(j,yt),ot}function pt(j,M,L,Y){if(L==null)throw Error(r(151));for(var ot=null,Rt=null,ft=M,yt=M=0,je=null,Pt=L.next();ft!==null&&!Pt.done;yt++,Pt=L.next()){ft.index>yt?(je=ft,ft=null):je=ft.sibling;var Sa=B(j,ft,Pt.value,Y);if(Sa===null){ft===null&&(ft=je);break}t&&ft&&Sa.alternate===null&&n(j,ft),M=f(Sa,M,yt),Rt===null?ot=Sa:Rt.sibling=Sa,Rt=Sa,ft=je}if(Pt.done)return a(j,ft),qt&&rr(j,yt),ot;if(ft===null){for(;!Pt.done;yt++,Pt=L.next())Pt=X(j,Pt.value,Y),Pt!==null&&(M=f(Pt,M,yt),Rt===null?ot=Pt:Rt.sibling=Pt,Rt=Pt);return qt&&rr(j,yt),ot}for(ft=s(ft);!Pt.done;yt++,Pt=L.next())Pt=q(ft,j,yt,Pt.value,Y),Pt!==null&&(t&&Pt.alternate!==null&&ft.delete(Pt.key===null?yt:Pt.key),M=f(Pt,M,yt),Rt===null?ot=Pt:Rt.sibling=Pt,Rt=Pt);return t&&ft.forEach(function(o2){return n(j,o2)}),qt&&rr(j,yt),ot}function Zt(j,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===P&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case D:t:{for(var ot=L.key;M!==null;){if(M.key===ot){if(ot=L.type,ot===P){if(M.tag===7){a(j,M.sibling),Y=c(M,L.props.children),Y.return=j,j=Y;break t}}else if(M.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===x&&Hy(ot)===M.type){a(j,M.sibling),Y=c(M,L.props),Bl(Y,L),Y.return=j,j=Y;break t}a(j,M);break}else n(j,M);M=M.sibling}L.type===P?(Y=ir(L.props.children,j.mode,Y,L.key),Y.return=j,j=Y):(Y=Tu(L.type,L.key,L.props,null,j.mode,Y),Bl(Y,L),Y.return=j,j=Y)}return y(j);case G:t:{for(ot=L.key;M!==null;){if(M.key===ot)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(j,M.sibling),Y=c(M,L.children||[]),Y.return=j,j=Y;break t}else{a(j,M);break}else n(j,M);M=M.sibling}Y=Jh(L,j.mode,Y),Y.return=j,j=Y}return y(j);case x:return ot=L._init,L=ot(L._payload),Zt(j,M,L,Y)}if(te(L))return Et(j,M,L,Y);if(z(L)){if(ot=z(L),typeof ot!="function")throw Error(r(150));return L=ot.call(L),pt(j,M,L,Y)}if(typeof L.then=="function")return Zt(j,M,Lu(L),Y);if(L.$$typeof===ut)return Zt(j,M,Au(j,L),Y);ku(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(j,M.sibling),Y=c(M,L),Y.return=j,j=Y):(a(j,M),Y=$h(L,j.mode,Y),Y.return=j,j=Y),y(j)):a(j,M)}return function(j,M,L,Y){try{kl=0;var ot=Zt(j,M,L,Y);return gs=null,ot}catch(ft){if(ft===Dl||ft===Ru)throw ft;var Rt=pn(29,ft,null,j.mode);return Rt.lanes=Y,Rt.return=j,Rt}finally{}}}var ps=Gy(!0),Qy=Gy(!1),Vn=Z(null),ri=null;function oa(t){var n=t.alternate;W(Ce,Ce.current&1),W(Vn,t),ri===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(ri=t)}function Fy(t){if(t.tag===22){if(W(Ce,Ce.current),W(Vn,t),ri===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ri=t)}}else ua()}function ua(){W(Ce,Ce.current),W(Vn,Vn.current)}function Ni(t){it(Vn),ri===t&&(ri=null),it(Ce)}var Ce=Z(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Td(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vf(t,n,a,s){n=t.memoizedState,a=a(s,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,n,a){t=t._reactInternals;var s=En(),c=ra(s);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,s),n!==null&&(Tn(n,t,s),Vl(n,t,s))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var s=En(),c=ra(s);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,s),n!==null&&(Tn(n,t,s),Vl(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),s=ra(a);s.tag=2,n!=null&&(s.callback=n),n=sa(t,s,a),n!==null&&(Tn(n,t,a),Vl(n,t,a))}};function Yy(t,n,a,s,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,f,y):n.prototype&&n.prototype.isPureReactComponent?!bl(a,s)||!bl(c,f):!0}function Xy(t,n,a,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function fr(t,n){var a=n;if("ref"in n){a={};for(var s in n)s!=="ref"&&(a[s]=n[s])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){Pu(t)}function Zy(t){console.error(t)}function $y(t){Pu(t)}function qu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Jy(t,n,a){try{var s=t.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function If(t,n,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,n)},a}function Wy(t){return t=ra(t),t.tag=3,t}function tv(t,n,a,s){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;t.payload=function(){return c(f)},t.callback=function(){Jy(n,a,s)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Jy(n,a,s),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})})}function oS(t,n,a,s,c){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=a.alternate,n!==null&&Rl(n,a,c,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ri===null?ad():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,s===uf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([s]):n.add(s),sd(t,s,c)),!1;case 22:return a.flags|=65536,s===uf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([s]):a.add(s)),sd(t,s,c)),!1}throw Error(r(435,a.tag))}return sd(t,s,c),ad(),!1}if(qt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,s!==ef&&(t=Error(r(422),{cause:s}),wl(Cn(t,a)))):(s!==ef&&(n=Error(r(423),{cause:s}),wl(Cn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,s=Cn(s,a),c=If(t.stateNode,s,c),ff(t,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:s});if(f=Cn(f,a),Yl===null?Yl=[f]:Yl.push(f),le!==4&&(le=2),n===null)return!0;s=Cn(s,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=If(a.stateNode,s,t),ff(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Wy(c),tv(c,t,a,s),ff(a,c),!1}a=a.return}while(a!==null);return!1}var ev=Error(r(461)),Oe=!1;function Pe(t,n,a,s){n.child=t===null?Qy(n,null,a,s):ps(n,t.child,a,s)}function nv(t,n,a,s,c){a=a.render;var f=n.ref;if("ref"in s){var y={};for(var T in s)T!=="ref"&&(y[T]=s[T])}else y=s;return ur(n),s=yf(t,n,a,y,f,c),T=vf(),t!==null&&!Oe?(_f(t,n,c),Di(t,n,c)):(qt&&T&&Wh(n),n.flags|=1,Pe(t,n,s,c),n.child)}function iv(t,n,a,s,c){if(t===null){var f=a.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,av(t,n,f,s,c)):(t=Tu(a.type,null,s,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(y,s)&&t.ref===n.ref)return Di(t,n,c)}return n.flags|=1,t=Si(f,s),t.ref=n.ref,t.return=n,n.child=t}function av(t,n,a,s,c){if(t!==null){var f=t.memoizedProps;if(bl(f,s)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=s=f,qf(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,Di(t,n,c)}return jf(t,n,a,s,c)}function rv(t,n,a){var s=n.pendingProps,c=s.children,f=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((n.flags&128)!==0){if(s=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~s}else n.childLanes=0,n.child=null;return sv(t,n,s,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wu(n,f!==null?f.cachePool:null),f!==null?ay(n,f):mf(),Fy(n);else return n.lanes=n.childLanes=536870912,sv(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(wu(n,f.cachePool),ay(n,f),ua(),n.memoizedState=null):(t!==null&&wu(n,null),mf(),ua());return Pe(t,n,c,a),n.child}function sv(t,n,a,s){var c=of();return c=c===null?null:{parent:Re._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&wu(n,null),mf(),Fy(n),t!==null&&Rl(t,n,s,!0),null}function Hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function jf(t,n,a,s,c){return ur(n),a=yf(t,n,a,s,void 0,c),s=vf(),t!==null&&!Oe?(_f(t,n,c),Di(t,n,c)):(qt&&s&&Wh(n),n.flags|=1,Pe(t,n,a,c),n.child)}function lv(t,n,a,s,c,f){return ur(n),n.updateQueue=null,a=sy(n,s,a,c),ry(t),s=vf(),t!==null&&!Oe?(_f(t,n,f),Di(t,n,f)):(qt&&s&&Wh(n),n.flags|=1,Pe(t,n,a,f),n.child)}function ov(t,n,a,s,c){if(ur(n),n.stateNode===null){var f=ss,y=a.contextType;typeof y=="object"&&y!==null&&(f=$e(y)),f=new a(s,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=s,f.state=n.memoizedState,f.refs={},cf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?$e(y):ss,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Vf(n,a,y,s),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Of.enqueueReplaceState(f,f.state,null),Il(n,s,f,c),Ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,A=fr(a,T);f.props=A;var k=f.context,F=a.contextType;y=ss,typeof F=="object"&&F!==null&&(y=$e(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==y)&&Xy(n,f,s,y),aa=!1;var B=n.memoizedState;f.state=B,Il(n,s,f,c),Ol(),k=n.memoizedState,T||B!==k||aa?(typeof X=="function"&&(Vf(n,a,X,s),k=n.memoizedState),(A=aa||Yy(n,a,A,s,B,k,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=k),f.props=s,f.state=k,f.context=y,s=A):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{f=n.stateNode,hf(t,n),y=n.memoizedProps,F=fr(a,y),f.props=F,X=n.pendingProps,B=f.context,k=a.contextType,A=ss,typeof k=="object"&&k!==null&&(A=$e(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==A)&&Xy(n,f,s,A),aa=!1,B=n.memoizedState,f.state=B,Il(n,s,f,c),Ol();var q=n.memoizedState;y!==X||B!==q||aa||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(Vf(n,a,T,s),q=n.memoizedState),(F=aa||Yy(n,a,F,s,B,q,A)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,q,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,q,A)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=q),f.props=s,f.state=q,f.context=A,s=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),s=!1)}return f=s,Hu(t,n),s=(n.flags&128)!==0,f||s?(f=n.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&s?(n.child=ps(n,t.child,null,c),n.child=ps(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Di(t,n,c),t}function uv(t,n,a,s){return Al(),n.flags|=256,Pe(t,n,a,s),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Zp()}}function Lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=On),t}function cv(t,n,a){var s=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?oa(n):ua(),qt){var T=se,A;if(A=T){t:{for(A=T,T=ai;A.nodeType!==8;){if(!T){T=null;break t}if(A=Bn(A.nextSibling),A===null){T=null;break t}}T=A}T!==null?(n.memoizedState={dehydrated:T,treeContext:ar!==null?{id:xi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},A=pn(18,null,null,0),A.stateNode=T,A.return=n,n.child=A,an=n,se=null,A=!0):A=!1}A||lr(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Td(T)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return T=s.children,s=s.fallback,c?(ua(),c=n.mode,T=Gu({mode:"hidden",children:T},c),s=ir(s,c,a,null),T.return=n,s.return=n,T.sibling=s,n.child=T,c=n.child,c.memoizedState=Uf(a),c.childLanes=Lf(t,y,a),n.memoizedState=zf,s):(oa(n),kf(n,T))}if(A=t.memoizedState,A!==null&&(T=A.dehydrated,T!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=Bf(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),c=s.fallback,T=n.mode,s=Gu({mode:"visible",children:s.children},T),c=ir(c,T,a,null),c.flags|=2,s.return=n,c.return=n,s.sibling=c,n.child=s,ps(n,t.child,null,a),s=n.child,s.memoizedState=Uf(a),s.childLanes=Lf(t,y,a),n.memoizedState=zf,n=c);else if(oa(n),Td(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var k=y.dgst;y=k,s=Error(r(419)),s.stack="",s.digest=y,wl({value:s,source:null,stack:null}),n=Bf(t,n,a)}else if(Oe||Rl(t,n,a,!1),y=(a&t.childLanes)!==0,Oe||y){if(y=Jt,y!==null&&(s=a&-a,s=(s&42)!==0?1:Zi(s),s=(s&(y.suspendedLanes|a))!==0?0:s,s!==0&&s!==A.retryLane))throw A.retryLane=s,rs(t,s),Tn(y,t,s),ev;T.data==="$?"||ad(),n=Bf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=A.treeContext,se=Bn(T.nextSibling),an=n,qt=!0,sr=null,ai=!1,t!==null&&(Dn[Mn++]=xi,Dn[Mn++]=Ai,Dn[Mn++]=ar,xi=t.id,Ai=t.overflow,ar=n),n=kf(n,s.children),n.flags|=4096);return n}return c?(ua(),c=s.fallback,T=n.mode,A=t.child,k=A.sibling,s=Si(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,k!==null?c=Si(k,c):(c=ir(c,T,a,null),c.flags|=2),c.return=n,s.return=n,s.sibling=c,n.child=s,s=c,c=n.child,T=t.child.memoizedState,T===null?T=Uf(a):(A=T.cachePool,A!==null?(k=Re._currentValue,A=A.parent!==k?{parent:k,pool:k}:A):A=Zp(),T={baseLanes:T.baseLanes|a,cachePool:A}),c.memoizedState=T,c.childLanes=Lf(t,y,a),n.memoizedState=zf,s):(oa(n),a=t.child,t=a.sibling,a=Si(a,{mode:"visible",children:s.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function kf(t,n){return n=Gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Gu(t,n){return t=pn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bf(t,n,a){return ps(n,t.child,null,a),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function hv(t,n,a){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),af(t.return,n,a)}function Pf(t,n,a,s,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=a,f.tailMode=c)}function fv(t,n,a){var s=n.pendingProps,c=s.revealOrder,f=s.tail;if(Pe(t,n,s.children,a),s=Ce.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,a,n);else if(t.tag===19)hv(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(W(Ce,s),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Pf(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Bu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Pf(n,!0,a,null,f);break;case"together":Pf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Rl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function uS(t,n,a){switch(n.tag){case 3:bt(n,n.stateNode.containerInfo),ia(n,Re,t.memoizedState.cache),Al();break;case 27:case 5:on(n);break;case 4:bt(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?cv(t,n,a):(oa(n),t=Di(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(s=(a&n.childLanes)!==0,s||(Rl(t,n,a,!1),s=(a&n.childLanes)!==0),c){if(s)return fv(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ce,Ce.current),s)break;return null;case 22:case 23:return n.lanes=0,rv(t,n,a);case 24:ia(n,Re,t.memoizedState.cache)}return Di(t,n,a)}function dv(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!qf(t,a)&&(n.flags&128)===0)return Oe=!1,uS(t,n,a);Oe=(t.flags&131072)!==0}else Oe=!1,qt&&(n.flags&1048576)!==0&&Hp(n,Su,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var s=n.elementType,c=s._init;if(s=c(s._payload),n.type=s,typeof s=="function")Zh(s)?(t=fr(s,t),n.tag=1,n=ov(null,n,s,t,a)):(n.tag=0,n=jf(null,n,s,t,a));else{if(s!=null){if(c=s.$$typeof,c===At){n.tag=11,n=nv(null,n,s,t,a);break t}else if(c===O){n.tag=14,n=iv(null,n,s,t,a);break t}}throw n=pe(s)||s,Error(r(306,n,""))}}return n;case 0:return jf(t,n,n.type,n.pendingProps,a);case 1:return s=n.type,c=fr(s,n.pendingProps),ov(t,n,s,c,a);case 3:t:{if(bt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));s=n.pendingProps;var f=n.memoizedState;c=f.element,hf(t,n),Il(n,s,null,a);var y=n.memoizedState;if(s=y.cache,ia(n,Re,s),s!==f.cache&&rf(n,[Re],a,!0),Ol(),s=y.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=uv(t,n,s,a);break t}else if(s!==c){c=Cn(Error(r(424)),n),wl(c),n=uv(t,n,s,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Bn(t.firstChild),an=n,qt=!0,sr=null,ai=!0,a=Qy(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Al(),s===c){n=Di(t,n,a);break t}Pe(t,n,s,a)}n=n.child}return n;case 26:return Hu(t,n),t===null?(a=y0(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,t=n.pendingProps,s=ac(st.current).createElement(a),s[xe]=n,s[ye]=t,He(s,a,t),ce(s),n.stateNode=s):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return on(n),t===null&&qt&&(s=n.stateNode=m0(n.type,n.pendingProps,st.current),an=n,ai=!0,c=se,va(n.type)?(bd=c,se=Bn(s.firstChild)):se=c),Pe(t,n,n.pendingProps.children,a),Hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((c=s=se)&&(s=US(s,n.type,n.pendingProps,ai),s!==null?(n.stateNode=s,an=n,se=Bn(s.firstChild),ai=!1,c=!0):c=!1),c||lr(n)),on(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,s=f.children,vd(c,f)?s=null:y!==null&&vd(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=yf(t,n,eS,null,null,a),no._currentValue=c),Hu(t,n),Pe(t,n,s,a),n.child;case 6:return t===null&&qt&&((t=a=se)&&(a=LS(a,n.pendingProps,ai),a!==null?(n.stateNode=a,an=n,se=null,t=!0):t=!1),t||lr(n)),null;case 13:return cv(t,n,a);case 4:return bt(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=ps(n,null,s,a):Pe(t,n,s,a),n.child;case 11:return nv(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return s=n.pendingProps,ia(n,n.type,s.value),Pe(t,n,s.children,a),n.child;case 9:return c=n.type._context,s=n.pendingProps.children,ur(n),c=$e(c),s=s(c),n.flags|=1,Pe(t,n,s,a),n.child;case 14:return iv(t,n,n.type,n.pendingProps,a);case 15:return av(t,n,n.type,n.pendingProps,a);case 19:return fv(t,n,a);case 31:return s=n.pendingProps,a=n.mode,s={mode:s.mode,children:s.children},t===null?(a=Gu(s,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Si(t.child,s),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return rv(t,n,a);case 24:return ur(n),s=$e(Re),t===null?(c=of(),c===null&&(c=Jt,f=sf(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:s,cache:c},cf(n),ia(n,Re,c)):((t.lanes&a)!==0&&(hf(t,n),Il(n,null,null,a),Ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==s?(c={parent:s,cache:s},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,Re,s)):(s=f.cache,ia(n,Re,s),s!==c.cache&&rf(n,[Re],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(t){t.flags|=4}function mv(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(n)){if(n=Vn.current,n!==null&&((kt&4194048)===kt?ri!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==ri))throw Ml=uf,$p;t.flags|=8192}}function Qu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?al():536870912,t.lanes|=n,Es|=n)}function Pl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=a,n}function cS(t,n,a){var s=n.pendingProps;switch(tf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ri(Re),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(xl(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fp())),ae(n),null;case 26:return a=n.memoizedState,t===null?(Mi(n),a!==null?(ae(n),mv(n,a)):(ae(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Mi(n),ae(n),mv(n,a)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==s&&Mi(n),ae(n),n.flags&=-16777217),null;case 27:We(n),a=st.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Mi(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return ae(n),null}t=at.current,xl(n)?Gp(n):(t=m0(c,s,a),n.stateNode=t,Mi(n))}return ae(n),null;case 5:if(We(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Mi(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return ae(n),null}if(t=at.current,xl(n))Gp(n);else{switch(c=ac(st.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?c.createElement(a,{is:s.is}):c.createElement(a)}}t[xe]=n,t[ye]=s;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(He(t,a,s),a){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Mi(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&Mi(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(r(166));if(t=st.current,xl(n)){if(t=n.stateNode,a=n.memoizedProps,s=null,c=an,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}t[xe]=n,t=!!(t.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||l0(t.nodeValue,a)),t||lr(n)}else t=ac(t).createTextNode(s),t[xe]=n,n.stateNode=t}return ae(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=xl(n),s!==null&&s.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[xe]=n}else Al(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=Fp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=s!==null,t=t!==null&&t.memoizedState!==null,a){s=n.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Qu(n,n.updateQueue),ae(n),null;case 4:return Ke(),t===null&&dd(n.stateNode.containerInfo),ae(n),null;case 10:return Ri(n.type),ae(n),null;case 19:if(it(Ce),c=n.memoizedState,c===null)return ae(n),null;if(s=(n.flags&128)!==0,f=c.rendering,f===null)if(s)Pl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,Pl(c,!1),t=f.updateQueue,n.updateQueue=t,Qu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)qp(a,t),a=a.sibling;return W(Ce,Ce.current&1|2),n.child}t=t.sibling}c.tail!==null&&bn()>Xu&&(n.flags|=128,s=!0,Pl(c,!1),n.lanes=4194304)}else{if(!s)if(t=Bu(f),t!==null){if(n.flags|=128,s=!0,t=t.updateQueue,n.updateQueue=t,Qu(n,t),Pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return ae(n),null}else 2*bn()-c.renderingStartTime>Xu&&a!==536870912&&(n.flags|=128,s=!0,Pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=bn(),n.sibling=null,t=Ce.current,W(Ce,s?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return Ni(n),gf(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&Qu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==a&&(n.flags|=2048),t!==null&&it(cr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ri(Re),ae(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function hS(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(Re),Ke(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return We(n),null;case 13:if(Ni(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Al()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Ce),null;case 4:return Ke(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ni(n),gf(),t!==null&&it(cr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(Re),null;case 25:return null;default:return null}}function gv(t,n){switch(tf(n),n.tag){case 3:Ri(Re),Ke();break;case 26:case 27:case 5:We(n);break;case 4:Ke();break;case 13:Ni(n);break;case 19:it(Ce);break;case 10:Ri(n.type);break;case 22:case 23:Ni(n),gf(),t!==null&&it(cr);break;case 24:Ri(Re)}}function ql(t,n){try{var a=n.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var c=s.next;a=c;do{if((a.tag&t)===t){s=void 0;var f=a.create,y=a.inst;s=f(),y.destroy=s}a=a.next}while(a!==c)}}catch(T){$t(n,n.return,T)}}function ca(t,n,a){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&t)===t){var y=s.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=n;var A=a,k=T;try{k()}catch(F){$t(c,A,F)}}}s=s.next}while(s!==f)}}catch(F){$t(n,n.return,F)}}function pv(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{iy(n,a)}catch(s){$t(t,t.return,s)}}}function yv(t,n,a){a.props=fr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(s){$t(t,n,s)}}function Hl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof a=="function"?t.refCleanup=a(s):a.current=s}}catch(c){$t(t,n,c)}}function si(t,n){var a=t.ref,s=t.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function vv(t){var n=t.type,a=t.memoizedProps,s=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break t;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function Hf(t,n,a){try{var s=t.stateNode;VS(s,t.type,a,n),s[ye]=n}catch(c){$t(t,t.return,c)}}function _v(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function Gf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_v(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ic));else if(s!==4&&(s===27&&va(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qf(t,n,a),t=t.sibling;t!==null;)Qf(t,n,a),t=t.sibling}function Fu(t,n,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(s!==4&&(s===27&&va(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fu(t,n,a),t=t.sibling;t!==null;)Fu(t,n,a),t=t.sibling}function Ev(t){var n=t.stateNode,a=t.memoizedProps;try{for(var s=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,s,a),n[xe]=t,n[ye]=a}catch(f){$t(t,t.return,f)}}var Vi=!1,fe=!1,Ff=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function fS(t,n){if(t=t.containerInfo,pd=cc,t=Vp(t),Hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch(pt){a=null;break t}var y=0,T=-1,A=-1,k=0,F=0,X=t,B=null;e:for(;;){for(var q;X!==a||c!==0&&X.nodeType!==3||(T=y+c),X!==f||s!==0&&X.nodeType!==3||(A=y+s),X.nodeType===3&&(y+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===a&&++k===c&&(T=y),B===f&&++F===s&&(A=y),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=T===-1||A===-1?null:{start:T,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(yd={focusedElem:t,selectionRange:a},cc=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,s=a.stateNode;try{var Et=fr(a.type,c,a.elementType===a.type);t=s.getSnapshotBeforeUpdate(Et,f),s.__reactInternalSnapshotBeforeUpdate=t}catch(pt){$t(a,a.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ed(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function bv(t,n,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ha(t,a),s&4&&ql(5,a);break;case 1:if(ha(t,a),s&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(a,a.return,y)}else{var c=fr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}s&64&&pv(a),s&512&&Hl(a,a.return);break;case 3:if(ha(t,a),s&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{iy(t,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&s&4&&Ev(a);case 26:case 5:ha(t,a),n===null&&s&4&&vv(a),s&512&&Hl(a,a.return);break;case 12:ha(t,a);break;case 13:ha(t,a),s&4&&Av(t,a),s&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=TS.bind(null,a),kS(t,a))));break;case 22:if(s=a.memoizedState!==null||Vi,!s){n=n!==null&&n.memoizedState!==null||fe,c=Vi;var f=fe;Vi=s,(fe=n)&&!f?fa(t,a,(a.subtreeFlags&8772)!==0):ha(t,a),Vi=c,fe=f}break;case 30:break;default:ha(t,a)}}function Sv(t){var n=t.alternate;n!==null&&(t.alternate=null,Sv(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Wi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,cn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)xv(t,n,a),a=a.sibling}function xv(t,n,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(re,a)}catch(f){}switch(a.tag){case 26:fe||si(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||si(a,n);var s=ne,c=cn;va(a.type)&&(ne=a.stateNode,cn=!1),Oi(t,n,a),Jl(a.stateNode),ne=s,cn=c;break;case 5:fe||si(a,n);case 6:if(s=ne,c=cn,ne=null,Oi(t,n,a),ne=s,cn=c,ne!==null)if(cn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ne!==null&&(cn?(t=ne,f0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):f0(ne,a.stateNode));break;case 4:s=ne,c=cn,ne=a.stateNode.containerInfo,cn=!0,Oi(t,n,a),ne=s,cn=c;break;case 0:case 11:case 14:case 15:fe||ca(2,a,n),fe||ca(4,a,n),Oi(t,n,a);break;case 1:fe||(si(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"&&yv(a,n,s)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:fe=(s=fe)||a.memoizedState!==null,Oi(t,n,a),fe=s;break;default:Oi(t,n,a)}}function Av(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){$t(n,n.return,a)}}function dS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tv),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tv),n;default:throw Error(r(435,t.tag))}}function Yf(t,n){var a=dS(t);n.forEach(function(s){var c=bS.bind(null,t,s);a.has(s)||(a.add(s),s.then(c,c))})}function yn(t,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var c=a[s],f=t,y=n,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(va(T.type)){ne=T.stateNode,cn=!1;break t}break;case 5:ne=T.stateNode,cn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(ne===null)throw Error(r(160));xv(f,y,c),ne=null,cn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)wv(n,t),n=n.sibling}var kn=null;function wv(t,n){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),vn(t),s&4&&(ca(3,t,t.return),ql(3,t),ca(5,t,t.return));break;case 1:yn(n,t),vn(t),s&512&&(fe||a===null||si(a,a.return)),s&64&&Vi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var c=kn;if(yn(n,t),vn(t),s&512&&(fe||a===null||si(a,a.return)),s&4){var f=a!==null?a.memoizedState:null;if(s=t.memoizedState,a===null)if(s===null)if(t.stateNode===null){t:{s=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pa]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,s,a),f[xe]=t,ce(f),s=f;break t;case"link":var y=E0("link","href",c).get(s+(a.href||""));if(y){for(var T=0;T<y.length;T++)if(f=y[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(T,1);break e}}f=c.createElement(s),He(f,s,a),c.head.appendChild(f);break;case"meta":if(y=E0("meta","content",c).get(s+(a.content||""))){for(T=0;T<y.length;T++)if(f=y[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(T,1);break e}}f=c.createElement(s),He(f,s,a),c.head.appendChild(f);break;default:throw Error(r(468,s))}f[xe]=t,ce(f),s=f}t.stateNode=s}else T0(c,t.type,t.stateNode);else t.stateNode=_0(c,s,t.memoizedProps);else f!==s?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,s===null?T0(c,t.type,t.stateNode):_0(c,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(n,t),vn(t),s&512&&(fe||a===null||si(a,a.return)),a!==null&&s&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(n,t),vn(t),s&512&&(fe||a===null||si(a,a.return)),t.flags&32){c=t.stateNode;try{xn(c,"")}catch(q){$t(t,t.return,q)}}s&4&&t.stateNode!=null&&(c=t.memoizedProps,Hf(t,c,a!==null?a.memoizedProps:c)),s&1024&&(Ff=!0);break;case 6:if(yn(n,t),vn(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,a=t.stateNode;try{a.nodeValue=s}catch(q){$t(t,t.return,q)}}break;case 3:if(lc=null,c=kn,kn=rc(n.containerInfo),yn(n,t),kn=c,vn(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(q){$t(t,t.return,q)}Ff&&(Ff=!1,Rv(t));break;case 4:s=kn,kn=rc(t.stateNode.containerInfo),yn(n,t),vn(t),kn=s;break;case 12:yn(n,t),vn(t);break;case 13:yn(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wf=bn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Yf(t,s)));break;case 22:c=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,k=Vi,F=fe;if(Vi=k||c,fe=F||A,yn(n,t),fe=F,Vi=k,vn(t),s&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||A||Vi||fe||dr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){A=a=n;try{if(f=A.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=A.stateNode;var X=A.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){$t(A,A.return,q)}}}else if(n.tag===6){if(a===null){A=n;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(q){$t(A,A.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Yf(t,a))));break;case 19:yn(n,t),vn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Yf(t,s)));break;case 30:break;case 21:break;default:yn(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var a,s=t.return;s!==null;){if(_v(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Gf(t);Fu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(xn(y,""),a.flags&=-33);var T=Gf(t);Fu(t,T,y);break;case 3:case 4:var A=a.stateNode.containerInfo,k=Gf(t);Qf(t,k,A);break;default:throw Error(r(161))}}catch(F){$t(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ha(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bv(t,n.alternate,n),n=n.sibling}function dr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ca(4,n,n.return),dr(n);break;case 1:si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yv(n,n.return,a),dr(n);break;case 27:Jl(n.stateNode);case 26:case 5:si(n,n.return),dr(n);break;case 22:n.memoizedState===null&&dr(n);break;case 30:dr(n);break;default:dr(n)}t=t.sibling}}function fa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:fa(c,f,a),ql(4,f);break;case 1:if(fa(c,f,a),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){$t(s,s.return,k)}if(s=f,c=s.updateQueue,c!==null){var T=s.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)ny(A[c],T)}catch(k){$t(s,s.return,k)}}a&&y&64&&pv(f),Hl(f,f.return);break;case 27:Ev(f);case 26:case 5:fa(c,f,a),a&&s===null&&y&4&&vv(f),Hl(f,f.return);break;case 12:fa(c,f,a);break;case 13:fa(c,f,a),a&&y&4&&Av(c,f);break;case 22:f.memoizedState===null&&fa(c,f,a),Hl(f,f.return);break;case 30:break;default:fa(c,f,a)}n=n.sibling}}function Xf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function li(t,n,a,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cv(t,n,a,s),n=n.sibling}function Cv(t,n,a,s){var c=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,a,s),c&2048&&ql(9,n);break;case 1:li(t,n,a,s);break;case 3:li(t,n,a,s),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(c&2048){li(t,n,a,s),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,T=f.onPostCommit;typeof T=="function"&&T(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){$t(n,n.return,A)}}else li(t,n,a,s);break;case 13:li(t,n,a,s);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,a,s):Gl(t,n):f._visibility&2?li(t,n,a,s):(f._visibility|=2,ys(t,n,a,s,(n.subtreeFlags&10256)!==0)),c&2048&&Xf(y,n);break;case 24:li(t,n,a,s),c&2048&&Kf(n.alternate,n);break;default:li(t,n,a,s)}}function ys(t,n,a,s,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,T=a,A=s,k=y.flags;switch(y.tag){case 0:case 11:case 15:ys(f,y,T,A,c),ql(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?ys(f,y,T,A,c):Gl(f,y):(F._visibility|=2,ys(f,y,T,A,c)),c&&k&2048&&Xf(y.alternate,y);break;case 24:ys(f,y,T,A,c),c&&k&2048&&Kf(y.alternate,y);break;default:ys(f,y,T,A,c)}n=n.sibling}}function Gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,s=n,c=s.flags;switch(s.tag){case 22:Gl(a,s),c&2048&&Xf(s.alternate,s);break;case 24:Gl(a,s),c&2048&&Kf(s.alternate,s);break;default:Gl(a,s)}n=n.sibling}}var Ql=8192;function vs(t){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)Nv(t),t=t.sibling}function Nv(t){switch(t.tag){case 26:vs(t),t.flags&Ql&&t.memoizedState!==null&&JS(kn,t.memoizedState,t.memoizedProps);break;case 5:vs(t);break;case 3:case 4:var n=kn;kn=rc(t.stateNode.containerInfo),vs(t),kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ql,Ql=16777216,vs(t),Ql=n):vs(t));break;default:vs(t)}}function Dv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Ie=s,Vv(s,t)}Dv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mv(t),t=t.sibling}function Mv(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&ca(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Yu(t)):Fl(t);break;default:Fl(t)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];Ie=s,Vv(s,t)}Dv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ca(8,n,n.return),Yu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Yu(n));break;default:Yu(n)}t=t.sibling}}function Vv(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ca(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Ie=s;else t:for(a=t;Ie!==null;){s=Ie;var c=s.sibling,f=s.return;if(Sv(s),s===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var mS={getCacheForType:function(t){var n=$e(Re),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},gS=typeof WeakMap=="function"?WeakMap:Map,Qt=0,Jt=null,Ct=null,kt=0,Ft=0,_n=null,da=!1,_s=!1,Zf=!1,Ii=0,le=0,ma=0,mr=0,$f=0,On=0,Es=0,Yl=null,hn=null,Jf=!1,Wf=0,Xu=1/0,Ku=null,ga=null,qe=0,pa=null,Ts=null,bs=0,td=0,ed=null,Ov=null,Xl=0,nd=null;function En(){if((Qt&2)!==0&&kt!==0)return kt&-kt;if(Q.T!==null){var t=us;return t!==0?t:ud()}return $i()}function Iv(){On===0&&(On=(kt&536870912)===0||qt?il():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),On}function Tn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(Ss(t,0),ya(t,kt,On,!1)),fi(t,a),((Qt&2)===0||t!==Jt)&&(t===Jt&&((Qt&2)===0&&(mr|=a),le===4&&ya(t,kt,On,!1)),oi(t))}function jv(t,n,a){if((Qt&6)!==0)throw Error(r(327));var s=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ba(t,n),c=s?vS(t,n):rd(t,n,!0),f=s;do{if(c===0){_s&&!s&&ya(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!pS(a)){c=rd(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var T=t;c=Yl;var A=T.current.memoizedState.isDehydrated;if(A&&(Ss(T,y).flags|=256),y=rd(T,y,!1),y!==2){if(Zf&&!A){T.errorRecoveryDisabledLanes|=f,mr|=f,c=4;break t}f=hn,hn=c,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ss(t,0),ya(t,n,0,!0);break}t:{switch(s=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ya(s,n,On,!da);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Wf+300-bn(),10<c)){if(ya(s,n,On,!da),Br(s,0,!0)!==0)break t;s.timeoutHandle=c0(zv.bind(null,s,a,hn,Ku,Jf,n,On,mr,Es,da,f,2,-0,0),c);break t}zv(s,a,hn,Ku,Jf,n,On,mr,Es,da,f,0,-0,0)}}break}while(!0);oi(t)}function zv(t,n,a,s,c,f,y,T,A,k,F,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:$S},Nv(n),X=WS(),X!==null)){t.cancelPendingCommit=X(Hv.bind(null,t,n,f,a,s,c,y,T,A,F,1,B,q)),ya(t,f,y,!k);return}Hv(t,n,f,a,s,c,y,T,A)}function pS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var c=a[s],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch(y){return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,a,s){n&=~$f,n&=~mr,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var c=n;0<c;){var f=31-Ze(c),y=1<<f;s[f]=-1,c&=~y}a!==0&&Yn(t,a,n)}function Zu(){return(Qt&6)===0?(Kl(0),!1):!0}function id(){if(Ct!==null){if(Ft===0)var t=Ct.return;else t=Ct,wi=or=null,Ef(t),gs=null,kl=0,t=Ct;for(;t!==null;)gv(t.alternate,t),t=t.return;Ct=null}}function Ss(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),id(),Jt=t,Ct=a=Si(t.current,null),kt=n,Ft=0,_n=null,da=!1,_s=Ba(t,n),Zf=!1,Es=On=$f=mr=ma=le=0,hn=Yl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var c=31-Ze(s),f=1<<c;n|=t[c],s&=~f}return Ii=n,vu(),a}function Uv(t,n){wt=null,Q.H=Uu,n===Dl||n===Ru?(n=ty(),Ft=3):n===$p?(n=ty(),Ft=4):Ft=n===ev?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ct===null&&(le=1,qu(t,Cn(n,t.current)))}function Lv(){var t=Q.H;return Q.H=Uu,t===null?Uu:t}function kv(){var t=Q.A;return Q.A=mS,t}function ad(){le=4,da||(kt&4194048)!==kt&&Vn.current!==null||(_s=!0),(ma&134217727)===0&&(mr&134217727)===0||Jt===null||ya(Jt,kt,On,!1)}function rd(t,n,a){var s=Qt;Qt|=2;var c=Lv(),f=kv();(Jt!==t||kt!==n)&&(Ku=null,Ss(t,n)),n=!1;var y=le;t:do try{if(Ft!==0&&Ct!==null){var T=Ct,A=_n;switch(Ft){case 8:id(),y=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var k=Ft;if(Ft=0,_n=null,xs(t,T,A,k),a&&_s){y=0;break t}break;default:k=Ft,Ft=0,_n=null,xs(t,T,A,k)}}yS(),y=le;break}catch(F){Uv(t,F)}while(!0);return n&&t.shellSuspendCounter++,wi=or=null,Qt=s,Q.H=c,Q.A=f,Ct===null&&(Jt=null,kt=0,vu()),y}function yS(){for(;Ct!==null;)Bv(Ct)}function vS(t,n){var a=Qt;Qt|=2;var s=Lv(),c=kv();Jt!==t||kt!==n?(Ku=null,Xu=bn()+500,Ss(t,n)):_s=Ba(t,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=_n;e:switch(Ft){case 1:Ft=0,_n=null,xs(t,n,f,1);break;case 2:case 9:if(Jp(f)){Ft=0,_n=null,Pv(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),oi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Jp(f)?(Ft=0,_n=null,Pv(n)):(Ft=0,_n=null,xs(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var T=Ct;if(!y||b0(y)){Ft=0,_n=null;var A=T.sibling;if(A!==null)Ct=A;else{var k=T.return;k!==null?(Ct=k,$u(k)):Ct=null}break e}}Ft=0,_n=null,xs(t,n,f,5);break;case 6:Ft=0,_n=null,xs(t,n,f,6);break;case 8:id(),le=6;break t;default:throw Error(r(462))}}_S();break}catch(F){Uv(t,F)}while(!0);return wi=or=null,Q.H=s,Q.A=c,Qt=a,Ct!==null?0:(Jt=null,kt=0,vu(),le)}function _S(){for(;Ct!==null&&!Ws();)Bv(Ct)}function Bv(t){var n=dv(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?$u(t):Ct=n}function Pv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=lv(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=lv(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Ef(n);default:gv(a,n),n=Ct=qp(n,Ii),n=dv(a,n,Ii)}t.memoizedProps=t.pendingProps,n===null?$u(t):Ct=n}function xs(t,n,a,s){wi=or=null,Ef(n),gs=null,kl=0;var c=n.return;try{if(oS(t,c,n,a,kt)){le=1,qu(t,Cn(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;le=1,qu(t,Cn(a,t.current)),Ct=null;return}n.flags&32768?(qt||s===1?t=!0:_s||(kt&536870912)!==0?t=!1:(da=t=!0,(s===2||s===9||s===3||s===6)&&(s=Vn.current,s!==null&&s.tag===13&&(s.flags|=16384))),qv(n,t)):$u(n)}function $u(t){var n=t;do{if((n.flags&32768)!==0){qv(n,da);return}t=n.return;var a=cS(n.alternate,n,Ii);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);le===0&&(le=5)}function qv(t,n){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);le=6,Ct=null}function Hv(t,n,a,s,c,f,y,T,A){t.cancelPendingCommit=null;do Ju();while(qe!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,rl(t,a,f,y,T,A),t===Jt&&(Ct=Jt=null,kt=0),Ts=n,pa=t,bs=a,td=f,ed=c,Ov=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,SS(za,function(){return Xv(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null,c=nt.p,nt.p=2,y=Qt,Qt|=4;try{fS(t,n,a)}finally{Qt=y,nt.p=c,Q.T=s}}qe=1,Gv(),Qv(),Fv()}}function Gv(){if(qe===1){qe=0;var t=pa,n=Ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var s=nt.p;nt.p=2;var c=Qt;Qt|=4;try{wv(n,t);var f=yd,y=Vp(t.containerInfo),T=f.focusedElem,A=f.selectionRange;if(y!==T&&T&&T.ownerDocument&&Mp(T.ownerDocument.documentElement,T)){if(A!==null&&Hh(T)){var k=A.start,F=A.end;if(F===void 0&&(F=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),Et=T.textContent.length,pt=Math.min(A.start,Et),Zt=A.end===void 0?pt:Math.min(A.end,Et);!q.extend&&pt>Zt&&(y=Zt,Zt=pt,pt=y);var j=Dp(T,pt),M=Dp(T,Zt);if(j&&M&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var L=X.createRange();L.setStart(j.node,j.offset),q.removeAllRanges(),pt>Zt?(q.addRange(L),q.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),q.addRange(L))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}cc=!!pd,yd=pd=null}finally{Qt=c,nt.p=s,Q.T=a}}t.current=n,qe=2}}function Qv(){if(qe===2){qe=0;var t=pa,n=Ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var s=nt.p;nt.p=2;var c=Qt;Qt|=4;try{bv(t,n.alternate,n)}finally{Qt=c,nt.p=s,Q.T=a}}qe=3}}function Fv(){if(qe===4||qe===3){qe=0,Yo();var t=pa,n=Ts,a=bs,s=Ov;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,Ts=pa=null,Yv(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ga=null),Pr(a),n=n.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch(A){}if(s!==null){n=Q.T,c=nt.p,nt.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<s.length;y++){var T=s[y];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,nt.p=c}}(bs&3)!==0&&Ju(),oi(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===nd?Xl++:(Xl=0,nd=t):Xl=0,Kl(0)}}function Yv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function Ju(t){return Gv(),Qv(),Fv(),Xv()}function Xv(){if(qe!==5)return!1;var t=pa,n=td;td=0;var a=Pr(bs),s=Q.T,c=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=ed,ed=null;var f=pa,y=bs;if(qe=0,Ts=pa=null,bs=0,(Qt&6)!==0)throw Error(r(331));var T=Qt;if(Qt|=4,Mv(f.current),Cv(f,f.current,y,a),Qt=T,Kl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(re,f)}catch(A){}return!0}finally{nt.p=c,Q.T=s,Yv(t,n)}}function Kv(t,n,a){n=Cn(a,n),n=If(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(fi(t,2),oi(t))}function $t(t,n,a){if(t.tag===3)Kv(t,t,a);else for(;n!==null;){if(n.tag===3){Kv(n,t,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ga===null||!ga.has(s))){t=Cn(a,t),a=Wy(2),s=sa(n,a,2),s!==null&&(tv(a,s,n,t),fi(s,2),oi(s));break}}n=n.return}}function sd(t,n,a){var s=t.pingCache;if(s===null){s=t.pingCache=new gS;var c=new Set;s.set(n,c)}else c=s.get(n),c===void 0&&(c=new Set,s.set(n,c));c.has(a)||(Zf=!0,c.add(a),t=ES.bind(null,t,n,a),n.then(t,t))}function ES(t,n,a){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>bn()-Wf?(Qt&2)===0&&Ss(t,0):$f|=a,Es===kt&&(Es=0)),oi(t)}function Zv(t,n){n===0&&(n=al()),t=rs(t,n),t!==null&&(fi(t,n),oi(t))}function TS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zv(t,a)}function bS(t,n){var a=0;switch(t.tag){case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(n),Zv(t,a)}function SS(t,n){return Ia(t,n)}var Wu=null,As=null,ld=!1,tc=!1,od=!1,gr=0;function oi(t){t!==As&&t.next===null&&(As===null?Wu=As=t:As=As.next=t),tc=!0,ld||(ld=!0,AS())}function Kl(t,n){if(!od&&tc){od=!0;do for(var a=!1,s=Wu;s!==null;){if(t!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var y=s.suspendedLanes,T=s.pingedLanes;f=(1<<31-Ze(42|t)+1)-1,f&=c&~(y&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,t0(s,f))}else f=kt,f=Br(s,s===Jt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||Ba(s,f)||(a=!0,t0(s,f));s=s.next}while(a);od=!1}}function xS(){$v()}function $v(){tc=ld=!1;var t=0;gr!==0&&(OS()&&(t=gr),gr=0);for(var n=bn(),a=null,s=Wu;s!==null;){var c=s.next,f=Jv(s,n);f===0?(s.next=null,a===null?Wu=c:a.next=c,c===null&&(As=a)):(a=s,(t!==0||(f&3)!==0)&&(tc=!0)),s=c}Kl(t)}function Jv(t,n){for(var a=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ze(f),T=1<<y,A=c[y];A===-1?((T&a)===0||(T&s)!==0)&&(c[y]=nl(T,n)):A<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,a=kt,a=Br(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ja(s),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ba(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(s!==null&&ja(s),Pr(a)){case 2:case 8:a=Lr;break;case 32:a=za;break;case 268435456:a=kr;break;default:a=za}return s=Wv.bind(null,t),a=Ia(a,s),t.callbackPriority=n,t.callbackNode=a,n}return s!==null&&s!==null&&ja(s),t.callbackPriority=2,t.callbackNode=null,2}function Wv(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ju()&&t.callbackNode!==a)return null;var s=kt;return s=Br(t,t===Jt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(jv(t,s,n),Jv(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Wv.bind(null,t):null)}function t0(t,n){if(Ju())return null;jv(t,n,!0)}function AS(){jS(function(){(Qt&6)!==0?Ia(tl,xS):$v()})}function ud(){return gr===0&&(gr=il()),gr}function e0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yr(""+t)}function n0(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function wS(t,n,a,s,c){if(n==="submit"&&a&&a.stateNode===c){var f=e0((c[ye]||null).action),y=s.submitter;y&&(n=(n=y[ye]||null)?e0(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var T=new Xr("action","action",null,s,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gr!==0){var A=y?n0(c,y):new FormData(c);Nf(a,{pending:!0,data:A,method:c.method,action:f},null,A)}}else typeof f=="function"&&(T.preventDefault(),A=y?n0(c,y):new FormData(c),Nf(a,{pending:!0,data:A,method:c.method,action:f},f,A))},currentTarget:c}]})}}for(var cd=0;cd<Yh.length;cd++){var hd=Yh[cd],RS=hd.toLowerCase(),CS=hd[0].toUpperCase()+hd.slice(1);Ln(RS,"on"+CS)}Ln(jp,"onAnimationEnd"),Ln(zp,"onAnimationIteration"),Ln(Up,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Qb,"onTransitionRun"),Ln(Fb,"onTransitionStart"),Ln(Yb,"onTransitionCancel"),Ln(Lp,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function i0(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],c=s.event;s=s.listeners;t:{var f=void 0;if(n)for(var y=s.length-1;0<=y;y--){var T=s[y],A=T.instance,k=T.currentTarget;if(T=T.listener,A!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){Pu(F)}c.currentTarget=null,f=A}else for(y=0;y<s.length;y++){if(T=s[y],A=T.instance,k=T.currentTarget,T=T.listener,A!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=k;try{f(c)}catch(F){Pu(F)}c.currentTarget=null,f=A}}}}function Nt(t,n){var a=n[ll];a===void 0&&(a=n[ll]=new Set);var s=t+"__bubble";a.has(s)||(a0(n,t,2,!1),a.add(s))}function fd(t,n,a){var s=0;n&&(s|=4),a0(a,t,s,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[ec]){t[ec]=!0,ol.forEach(function(a){a!=="selectionchange"&&(NS.has(a)||fd(a,!1,t),fd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ec]||(n[ec]=!0,fd("selectionchange",!1,n))}}function a0(t,n,a,s){switch(C0(n)){case 2:var c=n2;break;case 8:c=i2;break;default:c=Rd}a=c.bind(null,n,a,t),c=void 0,!wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function md(t,n,a,s,c){var f=s;if((n&1)===0&&(n&2)===0&&s!==null)t:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var T=s.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=s.return;y!==null;){var A=y.tag;if((A===3||A===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=di(T),y===null)return;if(A=y.tag,A===5||A===6||A===26||A===27){s=f=y;continue t}T=T.parentNode}}s=s.return}iu(function(){var k=f,F=An(a),X=[];t:{var B=kp.get(t);if(B!==void 0){var q=Xr,Et=t;switch(t){case"keypress":if(Wn(a)===0)break t;case"keydown":case"keyup":q=ts;break;case"focusin":Et="focus",q=$r;break;case"focusout":Et="blur",q=$r;break;case"beforeblur":case"afterblur":q=$r;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=hu;break;case jp:case zp:case Up:q=Jr;break;case Lp:q=du;break;case"scroll":case"scrollend":q=au;break;case"wheel":q=es;break;case"copy":case"cut":case"paste":q=Wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=El;break;case"toggle":case"beforetoggle":q=gu}var pt=(n&4)!==0,Zt=!pt&&(t==="scroll"||t==="scrollend"),j=pt?B!==null?B+"Capture":null:B;pt=[];for(var M=k,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||j===null||(Y=Xa(M,j),Y!=null&&pt.push($l(M,Y,L))),Zt)break;M=M.return}0<pt.length&&(B=new q(B,Et,null,a,F),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==yi&&(Et=a.relatedTarget||a.fromElement)&&(di(Et)||Et[Sn]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(Et=a.relatedTarget||a.toElement,q=k,Et=Et?di(Et):null,Et!==null&&(Zt=h(Et),pt=Et.tag,Et!==Zt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(q=null,Et=k),q!==Et)){if(pt=Rn,Y="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pt=El,Y="onPointerLeave",j="onPointerEnter",M="pointer"),Zt=q==null?B:Kn(q),L=Et==null?B:Kn(Et),B=new pt(Y,M+"leave",q,a,F),B.target=Zt,B.relatedTarget=L,Y=null,di(F)===k&&(pt=new pt(j,M+"enter",Et,a,F),pt.target=L,pt.relatedTarget=Zt,Y=pt),Zt=Y,q&&Et)e:{for(pt=q,j=Et,M=0,L=pt;L;L=ws(L))M++;for(L=0,Y=j;Y;Y=ws(Y))L++;for(;0<M-L;)pt=ws(pt),M--;for(;0<L-M;)j=ws(j),L--;for(;M--;){if(pt===j||j!==null&&pt===j.alternate)break e;pt=ws(pt),j=ws(j)}pt=null}else pt=null;q!==null&&r0(X,B,q,pt,!1),Et!==null&&Zt!==null&&r0(X,Zt,Et,pt,!0)}}t:{if(B=k?Kn(k):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ot=xp;else if(we(B))if(Ap)ot=qb;else{ot=Bb;var Rt=kb}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?k&&dl(k.elementType)&&(ot=xp):ot=Pb;if(ot&&(ot=ot(t,k))){bi(X,ot,a,F);break t}Rt&&Rt(t,B,k),t==="focusout"&&k&&B.type==="number"&&k.memoizedProps.value!=null&&ea(B,"number",B.value)}switch(Rt=k?Kn(k):window,t){case"focusin":(we(Rt)||Rt.contentEditable==="true")&&(ns=Rt,Gh=k,Sl=null);break;case"focusout":Sl=Gh=ns=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Op(X,a,F);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":Op(X,a,F)}var ft;if(ni)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ut?H(t,a)&&(yt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(g&&a.locale!=="ko"&&(Ut||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ut&&(ft=gl()):(Jn=F,na="value"in Jn?Jn.value:Jn.textContent,Ut=!0)),Rt=nc(k,yt),0<Rt.length&&(yt=new vl(yt,t,null,a,F),X.push({event:yt,listeners:Rt}),ft?yt.data=ft:(ft=et(a),ft!==null&&(yt.data=ft)))),(ft=m?Ae(t,a):Lt(t,a))&&(yt=nc(k,"onBeforeInput"),0<yt.length&&(Rt=new vl("onBeforeInput","beforeinput",null,a,F),X.push({event:Rt,listeners:yt}),Rt.data=ft)),wS(X,t,k,a,F)}i0(X,n)})}function $l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function nc(t,n){for(var a=n+"Capture",s=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Xa(t,a),c!=null&&s.unshift($l(t,c,f)),c=Xa(t,n),c!=null&&s.push($l(t,c,f))),t.tag===3)return s;t=t.return}return[]}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r0(t,n,a,s,c){for(var f=n._reactName,y=[];a!==null&&a!==s;){var T=a,A=T.alternate,k=T.stateNode;if(T=T.tag,A!==null&&A===s)break;T!==5&&T!==26&&T!==27||k===null||(A=k,c?(k=Xa(a,f),k!=null&&y.unshift($l(a,k,A))):c||(k=Xa(a,f),k!=null&&y.push($l(a,k,A)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var DS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(MS,"")}function l0(t,n){return n=s0(n),s0(t)===n}function ic(){}function Kt(t,n,a,s,c,f){switch(a){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||xn(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&xn(t,""+s);break;case"className":Zn(t,"class",s);break;case"tabIndex":Zn(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,s);break;case"style":fl(t,s,f);break;case"data":if(n!=="object"){Zn(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Yr(""+s),t.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Yr(""+s),t.setAttribute(a,s);break;case"onClick":s!=null&&(t.onclick=ic);break;case"onScroll":s!=null&&Nt("scroll",t);break;case"onScrollEnd":s!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}a=Yr(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""+s):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":s===!0?t.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,s):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(a,s):t.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(a):t.setAttribute(a,s);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),ta(t,"popover",s);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ta(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uh.get(a)||a,ta(t,a,s))}}function gd(t,n,a,s,c,f){switch(a){case"style":fl(t,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof s=="string"?xn(t,s):(typeof s=="number"||typeof s=="bigint")&&xn(t,""+s);break;case"onScroll":s!=null&&Nt("scroll",t);break;case"onScrollEnd":s!=null&&Nt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,s,c);break t}a in t?t[a]=s:s===!0?t.setAttribute(a,""):ta(t,a,s)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var s=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Kt(t,n,f,y,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),s&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var T=f=y=c=null,A=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var F=a[s];if(F!=null)switch(s){case"name":c=F;break;case"type":y=F;break;case"checked":A=F;break;case"defaultChecked":k=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Kt(t,n,s,F,a,null)}}Qa(t,f,T,A,k,y,c,!1),Fr(t);return;case"select":Nt("invalid",t),s=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(T=a[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":y=T;break;case"multiple":s=T;default:Kt(t,n,c,T,a,null)}n=f,a=y,t.multiple=!!s,n!=null?pi(t,!!s,n,!1):a!=null&&pi(t,!!s,a,!0);return;case"textarea":Nt("invalid",t),f=c=s=null;for(y in a)if(a.hasOwnProperty(y)&&(T=a[y],T!=null))switch(y){case"value":s=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Kt(t,n,y,T,a,null)}Fa(t,s,c,f),Fr(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(s=a[A],s!=null))switch(A){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Kt(t,n,A,s,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Nt(Zl[s],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Kt(t,n,k,s,a,null)}return;default:if(dl(n)){for(F in a)a.hasOwnProperty(F)&&(s=a[F],s!==void 0&&gd(t,n,F,s,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(s=a[T],s!=null&&Kt(t,n,T,s,a,null))}function VS(t,n,a,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,T=null,A=null,k=null,F=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=X;default:s.hasOwnProperty(q)||Kt(t,n,q,null,s,X)}}for(var B in s){var q=s[B];if(X=a[B],s.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":k=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==X&&Kt(t,n,B,q,s,X)}}mn(t,y,T,A,k,F,f,c);return;case"select":q=y=T=B=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":q=A;default:s.hasOwnProperty(f)||Kt(t,n,f,null,s,A)}for(c in s)if(f=s[c],A=a[c],s.hasOwnProperty(c)&&(f!=null||A!=null))switch(c){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":y=f;default:f!==A&&Kt(t,n,c,f,s,A)}n=T,a=y,s=q,B!=null?pi(t,!!a,B,!1):!!s!=!!a&&(n!=null?pi(t,!!a,n,!0):pi(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(c=a[T],a.hasOwnProperty(T)&&c!=null&&!s.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,s,c)}for(y in s)if(c=s[y],f=a[y],s.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Kt(t,n,y,c,s,f)}Yt(t,B,q);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!s.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Kt(t,n,Et,null,s,B)}for(A in s)if(B=s[A],q=a[A],s.hasOwnProperty(A)&&B!==q&&(B!=null||q!=null))switch(A){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,A,B,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!s.hasOwnProperty(pt)&&Kt(t,n,pt,null,s,B);for(k in s)if(B=s[k],q=a[k],s.hasOwnProperty(k)&&B!==q&&(B!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Kt(t,n,k,B,s,q)}return;default:if(dl(n)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!s.hasOwnProperty(Zt)&&gd(t,n,Zt,void 0,s,B);for(F in s)B=s[F],q=a[F],!s.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||gd(t,n,F,B,s,q);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!s.hasOwnProperty(j)&&Kt(t,n,j,null,s,B);for(X in s)B=s[X],q=a[X],!s.hasOwnProperty(X)||B===q||B==null&&q==null||Kt(t,n,X,B,s,q)}var pd=null,yd=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function o0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function OS(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var c0=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof h0!="undefined"?function(t){return h0.resolve(null).then(t).catch(zS)}:c0;function zS(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function f0(t,n){var a=n,s=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<s&&8>s){a=s;var y=t.ownerDocument;if(a&1&&Jl(y.documentElement),a&2&&Jl(y.body),a&4)for(a=y.head,Jl(a),y=a.firstChild;y;){var T=y.nextSibling,A=y.nodeName;y[Pa]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=T}}if(c===0){t.removeChild(f),so(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:s=a.charCodeAt(0)-48;else s=0;a=f}while(a);so(n)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ed(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function US(t,n,a,s){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Pa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function LS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kS(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var s=function(){n(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bd=null;function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function m0(t,n,a){switch(n=ac(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Wi(t)}var In=new Map,g0=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=nt.d;nt.d={f:BS,r:PS,D:qS,C:HS,L:GS,m:QS,X:YS,S:FS,M:XS};function BS(){var t=ji.f(),n=Zu();return t||n}function PS(t){var n=Xn(t);n!==null&&n.tag===5&&n.type==="form"?jy(n):ji.r(t)}var Rs=typeof document=="undefined"?null:document;function p0(t,n,a){var s=Rs;if(s&&typeof n=="string"&&n){var c=ve(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),g0.has(c)||(g0.add(c),t={rel:t,crossOrigin:a,href:n},s.querySelector(c)===null&&(n=s.createElement("link"),He(n,"link",t),ce(n),s.head.appendChild(n)))}}function qS(t){ji.D(t),p0("dns-prefetch",t,null)}function HS(t,n){ji.C(t,n),p0("preconnect",t,n)}function GS(t,n,a){ji.L(t,n,a);var s=Rs;if(s&&t&&n){var c='link[rel="preload"][as="'+ve(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ve(a.imageSizes)+'"]')):c+='[href="'+ve(t)+'"]';var f=c;switch(n){case"style":f=Cs(t);break;case"script":f=Ns(t)}In.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),s.querySelector(c)!==null||n==="style"&&s.querySelector(Wl(f))||n==="script"&&s.querySelector(to(f))||(n=s.createElement("link"),He(n,"link",t),ce(n),s.head.appendChild(n)))}}function QS(t,n){ji.m(t,n);var a=Rs;if(a&&t){var s=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ve(s)+'"][href="'+ve(t)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ns(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(to(f)))return}s=a.createElement("link"),He(s,"link",t),ce(s),a.head.appendChild(s)}}}function FS(t,n,a){ji.S(t,n,a);var s=Rs;if(s&&t){var c=tn(s).hoistableStyles,f=Cs(t);n=n||"default";var y=c.get(f);if(!y){var T={loading:0,preload:null};if(y=s.querySelector(Wl(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Sd(t,a);var A=y=s.createElement("link");ce(A),He(A,"link",t),A._p=new Promise(function(k,F){A.onload=k,A.onerror=F}),A.addEventListener("load",function(){T.loading|=1}),A.addEventListener("error",function(){T.loading|=2}),T.loading|=4,sc(y,n,s)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(f,y)}}}function YS(t,n){ji.X(t,n);var a=Rs;if(a&&t){var s=tn(a).hoistableScripts,c=Ns(t),f=s.get(c);f||(f=a.querySelector(to(c)),f||(t=S({src:t,async:!0},n),(n=In.get(c))&&xd(t,n),f=a.createElement("script"),ce(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function XS(t,n){ji.M(t,n);var a=Rs;if(a&&t){var s=tn(a).hoistableScripts,c=Ns(t),f=s.get(c);f||(f=a.querySelector(to(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=In.get(c))&&xd(t,n),f=a.createElement("script"),ce(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function y0(t,n,a,s){var c=(c=st.current)?rc(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=tn(c).hoistableStyles,s=a.get(n),s||(s={type:"style",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Cs(a.href);var f=tn(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Wl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||KS(c,t,a,y.state))),n&&s===null)throw Error(r(528,""));return y}if(n&&s!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ns(a),a=tn(c).hoistableScripts,s=a.get(n),s||(s={type:"script",instance:null,count:0,state:null},a.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Cs(t){return'href="'+ve(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function v0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,n,a,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),He(n,"link",a),ce(n),t.head.appendChild(n))}function Ns(t){return'[src="'+ve(t)+'"]'}function to(t){return"script[async]"+t}function _0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+ve(a.href)+'"]');if(s)return n.instance=s,ce(s),s;var c=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ce(s),He(s,"style",c),sc(s,a.precedence,t),n.instance=s;case"stylesheet":c=Cs(a.href);var f=t.querySelector(Wl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;s=v0(a),(c=In.get(c))&&Sd(s,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(T,A){y.onload=T,y.onerror=A}),He(f,"link",s),n.state.loading|=4,sc(f,a.precedence,t),n.instance=f;case"script":return f=Ns(a.src),(c=t.querySelector(to(f)))?(n.instance=c,ce(c),c):(s=a,(c=In.get(f))&&(s=S({},a),xd(s,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),He(c,"link",s),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,sc(s,a.precedence,t));return n.instance}function sc(t,n,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,y=0;y<s.length;y++){var T=s[y];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lc=null;function E0(t,n,a){if(lc===null){var s=new Map,c=lc=new Map;c.set(a,s)}else c=lc,s=c.get(a),s||(s=new Map,c.set(a,s));if(s.has(t))return s;for(s.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Pa]||f[xe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var T=s.get(y);T?T.push(f):s.set(y,[f])}}return s}function T0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ZS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var eo=null;function $S(){}function JS(t,n,a){if(eo===null)throw Error(r(475));var s=eo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Cs(a.href),f=t.querySelector(Wl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=oc.bind(s),t.then(s,s)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,a=v0(a),(c=In.get(c))&&Sd(a,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(T,A){y.onload=T,y.onerror=A}),He(f,"link",a),n.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(s.count++,n=oc.bind(s),t.addEventListener("load",n),t.addEventListener("error",n))}}function WS(){if(eo===null)throw Error(r(475));var t=eo;return t.stylesheets&&t.count===0&&Ad(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uc=null;function Ad(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uc=new Map,n.forEach(t2,t),uc=null,oc.call(t))}function t2(t,n){if(!(n.state.loading&4)){var a=uc.get(t);if(a)var s=a.get(null);else{a=new Map,uc.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),s=y)}s&&a.set(null,s)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||s,f===s&&a.set(null,c),a.set(y,c),this.count++,s=oc.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var no={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function e2(t,n,a,s,c,f,y,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function S0(t,n,a,s,c,f,y,T,A,k,F,X){return t=new e2(t,n,a,y,T,A,k,X),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:s,isDehydrated:a,cache:n},cf(f),t}function x0(t){return t?(t=ss,t):ss}function A0(t,n,a,s,c,f){c=x0(c),s.context===null?s.context=c:s.pendingContext=c,s=ra(n),s.payload={element:a},f=f===void 0?null:f,f!==null&&(s.callback=f),a=sa(t,s,n),a!==null&&(Tn(a,t,n),Vl(a,t,n))}function w0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wd(t,n){w0(t,n),(t=t.alternate)&&w0(t,n)}function R0(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&Tn(n,t,67108864),wd(t,67108864)}}var cc=!0;function n2(t,n,a,s){var c=Q.T;Q.T=null;var f=nt.p;try{nt.p=2,Rd(t,n,a,s)}finally{nt.p=f,Q.T=c}}function i2(t,n,a,s){var c=Q.T;Q.T=null;var f=nt.p;try{nt.p=8,Rd(t,n,a,s)}finally{nt.p=f,Q.T=c}}function Rd(t,n,a,s){if(cc){var c=Cd(s);if(c===null)md(t,n,s,hc,a),N0(t,s);else if(r2(c,t,n,a,s))s.stopPropagation();else if(N0(t,s),n&4&&-1<a2.indexOf(t)){for(;c!==null;){var f=Xn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=jn(f.pendingLanes);if(y!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var A=1<<31-Ze(y);T.entanglements[1]|=A,y&=~A}oi(f),(Qt&6)===0&&(Xu=bn()+500,Kl(0))}}break;case 13:T=rs(f,2),T!==null&&Tn(T,f,2),Zu(),wd(f,2)}if(f=Cd(s),f===null&&md(t,n,s,hc,a),f===c)break;c=f}c!==null&&s.stopPropagation()}else md(t,n,s,null,a)}}function Cd(t){return t=An(t),Nd(t)}var hc=null;function Nd(t){if(hc=null,t=di(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return hc=t,null}function C0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mh()){case tl:return 2;case Lr:return 8;case za:case Vh:return 32;case kr:return 268435456;default:return 32}default:return 32}}var Dd=!1,_a=null,Ea=null,Ta=null,io=new Map,ao=new Map,ba=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(t,n){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function ro(t,n,a,s,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Xn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function r2(t,n,a,s,c){switch(n){case"focusin":return _a=ro(_a,t,n,a,s,c),!0;case"dragenter":return Ea=ro(Ea,t,n,a,s,c),!0;case"mouseover":return Ta=ro(Ta,t,n,a,s,c),!0;case"pointerover":var f=c.pointerId;return io.set(f,ro(io.get(f)||null,t,n,a,s,c)),!0;case"gotpointercapture":return f=c.pointerId,ao.set(f,ro(ao.get(f)||null,t,n,a,s,c)),!0}return!1}function D0(t){var n=di(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Zo(t.priority,function(){if(a.tag===13){var s=En();s=Zi(s);var c=rs(a,s);c!==null&&Tn(c,a,s),wd(a,s)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cd(t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);yi=s,a.target.dispatchEvent(s),yi=null}else return n=Xn(a),n!==null&&R0(n),t.blockedOn=a,!1;n.shift()}return!0}function M0(t,n,a){fc(t)&&a.delete(n)}function s2(){Dd=!1,_a!==null&&fc(_a)&&(_a=null),Ea!==null&&fc(Ea)&&(Ea=null),Ta!==null&&fc(Ta)&&(Ta=null),io.forEach(M0),ao.forEach(M0)}function dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,s2)))}var mc=null;function V0(t){mc!==t&&(mc=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){mc===t&&(mc=null);for(var n=0;n<t.length;n+=3){var a=t[n],s=t[n+1],c=t[n+2];if(typeof s!="function"){if(Nd(s||a)===null)continue;break}var f=Xn(a);f!==null&&(t.splice(n,3),n-=3,Nf(f,{pending:!0,data:c,method:a.method,action:s},s,c))}}))}function so(t){function n(A){return dc(A,t)}_a!==null&&dc(_a,t),Ea!==null&&dc(Ea,t),Ta!==null&&dc(Ta,t),io.forEach(n),ao.forEach(n);for(var a=0;a<ba.length;a++){var s=ba[a];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)D0(a),a.blockedOn===null&&ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],y=c[ye]||null;if(typeof f=="function")y||V0(a);else if(y){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)T=y.formAction;else if(Nd(c)!==null)continue}else T=y.action;typeof T=="function"?a[s+1]=T:(a.splice(s,3),s-=3),V0(a)}}}function Md(t){this._internalRoot=t}gc.prototype.render=Md.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,s=En();A0(a,s,t,n,null,null)},gc.prototype.unmount=Md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;A0(t.current,2,null,t,null,null),Zu(),n[Sn]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var n=$i();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ba.length&&n!==0&&n<ba[a].priority;a++);ba.splice(a,0,t),a===0&&D0(t)}};var O0=e.version;if(O0!=="19.1.1")throw Error(r(527,O0,"19.1.1"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var l2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{re=pc.inject(l2),Gt=pc}catch(t){}}return Vs.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,s="",c=Ky,f=Zy,y=$y,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=S0(t,1,!1,null,null,a,s,c,f,y,T,null),t[Sn]=n.current,dd(t),new Md(n)},Vs.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var s=!1,c="",f=Ky,y=Zy,T=$y,A=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),n=S0(t,1,!0,n,a!=null?a:null,s,c,f,y,T,A,k),n.context=x0(null),a=n.current,s=En(),s=Zi(s),c=ra(s),c.callback=null,sa(a,c,s),a=s,n.current.lanes=a,fi(n,a),oi(n),t[Sn]=n.current,dd(t),new gc(n)},Vs.version="19.1.1",Vs}var kd;function H0(){if(kd)return _c.exports;kd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),_c.exports=q0(),_c.exports}var G0=H0();const Q0=()=>{};var Bd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=function(l){const e=[];let i=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},F0=function(l){const e=[];let i=0,r=0;for(;i<l.length;){const u=l[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=l[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=l[i++],d=l[i++],p=l[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=l[i++],d=l[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},qd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,e){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const h=l[u],d=u+1<l.length,p=d?l[u+1]:0,_=u+2<l.length,v=_?l[u+2]:0,S=h>>2,C=(h&3)<<4|p>>4;let D=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(D=64)),r.push(i[S],i[C],i[D],i[G])}return r.join("")},encodeString(l,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(l):this.encodeByteArray(Pd(l),e)},decodeString(l,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(l):F0(this.decodeStringToByteArray(l,e))},decodeStringToByteArray(l,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const h=i[l.charAt(u++)],p=u<l.length?i[l.charAt(u)]:0;++u;const v=u<l.length?i[l.charAt(u)]:64;++u;const C=u<l.length?i[l.charAt(u)]:64;if(++u,h==null||p==null||v==null||C==null)throw new Y0;const D=h<<2|p>>4;if(r.push(D),v!==64){const G=p<<4&240|v>>2;if(r.push(G),C!==64){const P=v<<6&192|C;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class Y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X0=function(l){const e=Pd(l);return qd.encodeByteArray(e,!0)},oo=function(l){return X0(l).replace(/\./g,"")},K0=function(l){try{return qd.decodeString(l,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=()=>Z0().__FIREBASE_DEFAULTS__,J0=()=>{if(typeof process=="undefined"||typeof Bd=="undefined")return;const l=Bd.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},W0=()=>{if(typeof document=="undefined")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=l&&K0(l[1]);return e&&JSON.parse(e)},Sc=()=>{try{return Q0()||$0()||J0()||W0()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},t_=l=>{var e,i;return(i=(e=Sc())==null?void 0:e.emulatorHosts)==null?void 0:i[l]},e_=l=>{const e=t_(l);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Hd=()=>{var l;return(l=Sc())==null?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function i_(l){return rt(this,null,function*(){return(yield fetch(l,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(l,e){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=l.iat||0,h=l.sub||l.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=rn({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},l);return[oo(JSON.stringify(i)),oo(JSON.stringify(d)),""].join(".")}const Os={};function r_(){const l={prod:[],emulator:[]};for(const e of Object.keys(Os))Os[e]?l.emulator.push(e):l.prod.push(e);return l}function s_(l){let e=document.getElementById(l),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",l),i=!0),{created:i,element:e}}let Gd=!1;function l_(l,e){if(typeof window=="undefined"||typeof document=="undefined"||!xc(window.location.host)||Os[l]===e||Os[l]||Gd)return;Os[l]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",h=r_().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Gd=!0,d()},D}function S(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function C(){const D=s_(r),G=i("text"),P=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),_t=i("preprendIcon"),dt=document.getElementById(_t)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;p(ut),S(J,$);const At=v();_(dt,_t),ut.append(dt,P,J,At),document.body.appendChild(ut)}h?(P.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u_(){var e;const l=(e=Sc())==null?void 0:e.forceEnvironment;if(l==="node")return!0;if(l==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(i){return!1}}function c_(){return!u_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h_(){try{return typeof indexedDB=="object"}catch(l){return!1}}function f_(){return new Promise((l,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="FirebaseError";class yr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d_,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qd.prototype.create)}}class Qd{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?m_(h,r):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new yr(u,p,r)}}function m_(l,e){return l.replace(g_,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const g_=/\{\$([^}]+)}/g;function uo(l,e){if(l===e)return!0;const i=Object.keys(l),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=l[u],d=e[u];if(Fd(h)&&Fd(d)){if(!uo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function Fd(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(l){return l&&l._delegate?l._delegate:l}class Is{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n_;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch(u){}}return this.instancesDeferred.get(i).promise}getImmediate(e){var u;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(u=e==null?void 0:e.optional)!=null?u:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(h){if(r)return null;throw h}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v_(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch(i){}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch(h){}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return rt(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(u)}return u}onInit(e,i){var d;const r=this.normalizeInstanceIdentifier(i),u=(d=this.onInitCallbacks.get(r))!=null?d:new Set;u.add(e),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&e(h,r),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch(h){}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y_(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(u){}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y_(l){return l===wa?void 0:l}function v_(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new p_(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Vt||(Vt={}));const E_={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},T_=Vt.INFO,b_={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},S_=(l,e,...i)=>{if(e<l.logLevel)return;const r=new Date().toISOString(),u=b_[e];if(u)console[u](`[${r}]  ${l.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yd{constructor(e){this.name=e,this._logLevel=T_,this._logHandler=S_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const x_=(l,e)=>e.some(i=>l instanceof i);let Xd,Kd;function A_(){return Xd||(Xd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w_(){return Kd||(Kd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zd=new WeakMap,wc=new WeakMap,$d=new WeakMap,Rc=new WeakMap,Cc=new WeakMap;function R_(l){const e=new Promise((i,r)=>{const u=()=>{l.removeEventListener("success",h),l.removeEventListener("error",d)},h=()=>{i(zi(l.result)),u()},d=()=>{r(l.error),u()};l.addEventListener("success",h),l.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zd.set(i,l)}).catch(()=>{}),Cc.set(e,l),e}function C_(l){if(wc.has(l))return;const e=new Promise((i,r)=>{const u=()=>{l.removeEventListener("complete",h),l.removeEventListener("error",d),l.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",h),l.addEventListener("error",d),l.addEventListener("abort",d)});wc.set(l,e)}let Nc={get(l,e,i){if(l instanceof IDBTransaction){if(e==="done")return wc.get(l);if(e==="objectStoreNames")return l.objectStoreNames||$d.get(l);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zi(l[e])},set(l,e,i){return l[e]=i,!0},has(l,e){return l instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in l}};function N_(l){Nc=l(Nc)}function D_(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=l.call(Dc(this),e,...i);return $d.set(r,e.sort?e.sort():[e]),zi(r)}:w_().includes(l)?function(...e){return l.apply(Dc(this),e),zi(Zd.get(this))}:function(...e){return zi(l.apply(Dc(this),e))}}function M_(l){return typeof l=="function"?D_(l):(l instanceof IDBTransaction&&C_(l),x_(l,A_())?new Proxy(l,Nc):l)}function zi(l){if(l instanceof IDBRequest)return R_(l);if(Rc.has(l))return Rc.get(l);const e=M_(l);return e!==l&&(Rc.set(l,e),Cc.set(e,l)),e}const Dc=l=>Cc.get(l);function V_(l,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(l,e),p=zi(d);return r&&d.addEventListener("upgradeneeded",_=>{r(zi(d.result),_.oldVersion,_.newVersion,zi(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const O_=["get","getKey","getAll","getAllKeys","count"],I_=["put","add","delete","clear"],Mc=new Map;function Jd(l,e){if(!(l instanceof IDBDatabase&&!(e in l)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=I_.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||O_.includes(i)))return;const h=function(d,...p){return rt(this,null,function*(){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(yield Promise.all([v[i](...p),u&&_.done]))[0]})};return Mc.set(e,h),h}N_(l=>pr(rn({},l),{get:(e,i,r)=>Jd(e,i)||l.get(e,i,r),has:(e,i)=>!!Jd(e,i)||l.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(z_(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function z_(l){const e=l.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vc="@firebase/app",Wd="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Yd("@firebase/app"),U_="@firebase/app-compat",L_="@firebase/analytics-compat",k_="@firebase/analytics",B_="@firebase/app-check-compat",P_="@firebase/app-check",q_="@firebase/auth",H_="@firebase/auth-compat",G_="@firebase/database",Q_="@firebase/data-connect",F_="@firebase/database-compat",Y_="@firebase/functions",X_="@firebase/functions-compat",K_="@firebase/installations",Z_="@firebase/installations-compat",$_="@firebase/messaging",J_="@firebase/messaging-compat",W_="@firebase/performance",t1="@firebase/performance-compat",e1="@firebase/remote-config",n1="@firebase/remote-config-compat",i1="@firebase/storage",a1="@firebase/storage-compat",r1="@firebase/firestore",s1="@firebase/ai",l1="@firebase/firestore-compat",o1="firebase",u1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="[DEFAULT]",c1={[Vc]:"fire-core",[U_]:"fire-core-compat",[k_]:"fire-analytics",[L_]:"fire-analytics-compat",[P_]:"fire-app-check",[B_]:"fire-app-check-compat",[q_]:"fire-auth",[H_]:"fire-auth-compat",[G_]:"fire-rtdb",[Q_]:"fire-data-connect",[F_]:"fire-rtdb-compat",[Y_]:"fire-fn",[X_]:"fire-fn-compat",[K_]:"fire-iid",[Z_]:"fire-iid-compat",[$_]:"fire-fcm",[J_]:"fire-fcm-compat",[W_]:"fire-perf",[t1]:"fire-perf-compat",[e1]:"fire-rc",[n1]:"fire-rc-compat",[i1]:"fire-gcs",[a1]:"fire-gcs-compat",[r1]:"fire-fst",[l1]:"fire-fst-compat",[s1]:"fire-vertex","fire-js":"fire-js",[o1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new Map,h1=new Map,Ic=new Map;function tm(l,e){try{l.container.addComponent(e)}catch(i){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${l.name}`,i)}}function ho(l){const e=l.name;if(Ic.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;Ic.set(e,l);for(const i of co.values())tm(i,l);for(const i of h1.values())tm(i,l);return!0}function f1(l,e){const i=l.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),l.container.getProvider(e)}function d1(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new Qd("app","Firebase",m1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i,r){this._isDeleted=!1,this._options=rn({},e),this._config=rn({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=u1;function em(l,e={}){let i=l;typeof e!="object"&&(e={name:e});const r=rn({name:Oc,automaticDataCollectionEnabled:!0},e),u=r.name;if(typeof u!="string"||!u)throw Ui.create("bad-app-name",{appName:String(u)});if(i||(i=Hd()),!i)throw Ui.create("no-options");const h=co.get(u);if(h){if(uo(i,h.options)&&uo(r,h.config))return h;throw Ui.create("duplicate-app",{appName:u})}const d=new __(u);for(const _ of Ic.values())d.addComponent(_);const p=new g1(i,r,d);return co.set(u,p),p}function y1(l=Oc){const e=co.get(l);if(!e&&l===Oc&&Hd())return em();if(!e)throw Ui.create("no-app",{appName:l});return e}function vr(l,e,i){var d;let r=(d=c1[l])!=null?d:l;i&&(r+=`-${i}`);const u=r.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const p=[`Unable to register library "${r}" with version "${e}":`];u&&p.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(p.join(" "));return}ho(new Is(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",_1=1,js="firebase-heartbeat-store";let jc=null;function nm(){return jc||(jc=V_(v1,_1,{upgrade:(l,e)=>{switch(e){case 0:try{l.createObjectStore(js)}catch(i){console.warn(i)}}}}).catch(l=>{throw Ui.create("idb-open",{originalErrorMessage:l.message})})),jc}function E1(l){return rt(this,null,function*(){try{const i=(yield nm()).transaction(js),r=yield i.objectStore(js).get(am(l));return yield i.done,r}catch(e){if(e instanceof yr)ui.warn(e.message);else{const i=Ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ui.warn(i.message)}}})}function im(l,e){return rt(this,null,function*(){try{const r=(yield nm()).transaction(js,"readwrite");yield r.objectStore(js).put(e,am(l)),yield r.done}catch(i){if(i instanceof yr)ui.warn(i.message);else{const r=Ui.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ui.warn(r.message)}}})}function am(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1024,b1=30;class S1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new A1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return rt(this,null,function*(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=rm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>b1){const d=w1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ui.warn(r)}})}getHeartbeatsHeader(){return rt(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=rm(),{heartbeatsToSend:r,unsentEntries:u}=x1(this._heartbeatsCache.heartbeats),h=oo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ui.warn(i),""}})}}function rm(){return new Date().toISOString().substring(0,10)}function x1(l,e=T1){const i=[];let r=l.slice();for(const u of l){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),sm(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),sm(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class A1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return rt(this,null,function*(){return h_()?f_().then(()=>!0).catch(()=>!1):!1})}read(){return rt(this,null,function*(){if(yield this._canUseIndexedDBPromise){const i=yield E1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return rt(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const u=yield this.read();return im(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return rt(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const u=yield this.read();return im(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return})}}function sm(l){return oo(JSON.stringify({version:2,heartbeats:l})).length}function w1(l){if(l.length===0)return-1;let e=0,i=l[0].date;for(let r=1;r<l.length;r++)l[r].date<i&&(i=l[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(l){ho(new Is("platform-logger",e=>new j_(e),"PRIVATE")),ho(new Is("heartbeat",e=>new S1(e),"PRIVATE")),vr(Vc,Wd,l),vr(Vc,Wd,"esm2020"),vr("fire-js","")}R1("");var lm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,om;(function(){var l;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(O,x){function R(){}R.prototype=x.prototype,O.D=x.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(V,I,z){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return x.prototype[I].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,x,R){R||(R=0);var V=Array(16);if(typeof x=="string")for(var I=0;16>I;++I)V[I]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(I=0;16>I;++I)V[I]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=O.g[0],R=O.g[1],I=O.g[2];var z=O.g[3],w=x+(z^R&(I^z))+V[0]+3614090360&4294967295;x=R+(w<<7&4294967295|w>>>25),w=z+(I^x&(R^I))+V[1]+3905402710&4294967295,z=x+(w<<12&4294967295|w>>>20),w=I+(R^z&(x^R))+V[2]+606105819&4294967295,I=z+(w<<17&4294967295|w>>>15),w=R+(x^I&(z^x))+V[3]+3250441966&4294967295,R=I+(w<<22&4294967295|w>>>10),w=x+(z^R&(I^z))+V[4]+4118548399&4294967295,x=R+(w<<7&4294967295|w>>>25),w=z+(I^x&(R^I))+V[5]+1200080426&4294967295,z=x+(w<<12&4294967295|w>>>20),w=I+(R^z&(x^R))+V[6]+2821735955&4294967295,I=z+(w<<17&4294967295|w>>>15),w=R+(x^I&(z^x))+V[7]+4249261313&4294967295,R=I+(w<<22&4294967295|w>>>10),w=x+(z^R&(I^z))+V[8]+1770035416&4294967295,x=R+(w<<7&4294967295|w>>>25),w=z+(I^x&(R^I))+V[9]+2336552879&4294967295,z=x+(w<<12&4294967295|w>>>20),w=I+(R^z&(x^R))+V[10]+4294925233&4294967295,I=z+(w<<17&4294967295|w>>>15),w=R+(x^I&(z^x))+V[11]+2304563134&4294967295,R=I+(w<<22&4294967295|w>>>10),w=x+(z^R&(I^z))+V[12]+1804603682&4294967295,x=R+(w<<7&4294967295|w>>>25),w=z+(I^x&(R^I))+V[13]+4254626195&4294967295,z=x+(w<<12&4294967295|w>>>20),w=I+(R^z&(x^R))+V[14]+2792965006&4294967295,I=z+(w<<17&4294967295|w>>>15),w=R+(x^I&(z^x))+V[15]+1236535329&4294967295,R=I+(w<<22&4294967295|w>>>10),w=x+(I^z&(R^I))+V[1]+4129170786&4294967295,x=R+(w<<5&4294967295|w>>>27),w=z+(R^I&(x^R))+V[6]+3225465664&4294967295,z=x+(w<<9&4294967295|w>>>23),w=I+(x^R&(z^x))+V[11]+643717713&4294967295,I=z+(w<<14&4294967295|w>>>18),w=R+(z^x&(I^z))+V[0]+3921069994&4294967295,R=I+(w<<20&4294967295|w>>>12),w=x+(I^z&(R^I))+V[5]+3593408605&4294967295,x=R+(w<<5&4294967295|w>>>27),w=z+(R^I&(x^R))+V[10]+38016083&4294967295,z=x+(w<<9&4294967295|w>>>23),w=I+(x^R&(z^x))+V[15]+3634488961&4294967295,I=z+(w<<14&4294967295|w>>>18),w=R+(z^x&(I^z))+V[4]+3889429448&4294967295,R=I+(w<<20&4294967295|w>>>12),w=x+(I^z&(R^I))+V[9]+568446438&4294967295,x=R+(w<<5&4294967295|w>>>27),w=z+(R^I&(x^R))+V[14]+3275163606&4294967295,z=x+(w<<9&4294967295|w>>>23),w=I+(x^R&(z^x))+V[3]+4107603335&4294967295,I=z+(w<<14&4294967295|w>>>18),w=R+(z^x&(I^z))+V[8]+1163531501&4294967295,R=I+(w<<20&4294967295|w>>>12),w=x+(I^z&(R^I))+V[13]+2850285829&4294967295,x=R+(w<<5&4294967295|w>>>27),w=z+(R^I&(x^R))+V[2]+4243563512&4294967295,z=x+(w<<9&4294967295|w>>>23),w=I+(x^R&(z^x))+V[7]+1735328473&4294967295,I=z+(w<<14&4294967295|w>>>18),w=R+(z^x&(I^z))+V[12]+2368359562&4294967295,R=I+(w<<20&4294967295|w>>>12),w=x+(R^I^z)+V[5]+4294588738&4294967295,x=R+(w<<4&4294967295|w>>>28),w=z+(x^R^I)+V[8]+2272392833&4294967295,z=x+(w<<11&4294967295|w>>>21),w=I+(z^x^R)+V[11]+1839030562&4294967295,I=z+(w<<16&4294967295|w>>>16),w=R+(I^z^x)+V[14]+4259657740&4294967295,R=I+(w<<23&4294967295|w>>>9),w=x+(R^I^z)+V[1]+2763975236&4294967295,x=R+(w<<4&4294967295|w>>>28),w=z+(x^R^I)+V[4]+1272893353&4294967295,z=x+(w<<11&4294967295|w>>>21),w=I+(z^x^R)+V[7]+4139469664&4294967295,I=z+(w<<16&4294967295|w>>>16),w=R+(I^z^x)+V[10]+3200236656&4294967295,R=I+(w<<23&4294967295|w>>>9),w=x+(R^I^z)+V[13]+681279174&4294967295,x=R+(w<<4&4294967295|w>>>28),w=z+(x^R^I)+V[0]+3936430074&4294967295,z=x+(w<<11&4294967295|w>>>21),w=I+(z^x^R)+V[3]+3572445317&4294967295,I=z+(w<<16&4294967295|w>>>16),w=R+(I^z^x)+V[6]+76029189&4294967295,R=I+(w<<23&4294967295|w>>>9),w=x+(R^I^z)+V[9]+3654602809&4294967295,x=R+(w<<4&4294967295|w>>>28),w=z+(x^R^I)+V[12]+3873151461&4294967295,z=x+(w<<11&4294967295|w>>>21),w=I+(z^x^R)+V[15]+530742520&4294967295,I=z+(w<<16&4294967295|w>>>16),w=R+(I^z^x)+V[2]+3299628645&4294967295,R=I+(w<<23&4294967295|w>>>9),w=x+(I^(R|~z))+V[0]+4096336452&4294967295,x=R+(w<<6&4294967295|w>>>26),w=z+(R^(x|~I))+V[7]+1126891415&4294967295,z=x+(w<<10&4294967295|w>>>22),w=I+(x^(z|~R))+V[14]+2878612391&4294967295,I=z+(w<<15&4294967295|w>>>17),w=R+(z^(I|~x))+V[5]+4237533241&4294967295,R=I+(w<<21&4294967295|w>>>11),w=x+(I^(R|~z))+V[12]+1700485571&4294967295,x=R+(w<<6&4294967295|w>>>26),w=z+(R^(x|~I))+V[3]+2399980690&4294967295,z=x+(w<<10&4294967295|w>>>22),w=I+(x^(z|~R))+V[10]+4293915773&4294967295,I=z+(w<<15&4294967295|w>>>17),w=R+(z^(I|~x))+V[1]+2240044497&4294967295,R=I+(w<<21&4294967295|w>>>11),w=x+(I^(R|~z))+V[8]+1873313359&4294967295,x=R+(w<<6&4294967295|w>>>26),w=z+(R^(x|~I))+V[15]+4264355552&4294967295,z=x+(w<<10&4294967295|w>>>22),w=I+(x^(z|~R))+V[6]+2734768916&4294967295,I=z+(w<<15&4294967295|w>>>17),w=R+(z^(I|~x))+V[13]+1309151649&4294967295,R=I+(w<<21&4294967295|w>>>11),w=x+(I^(R|~z))+V[4]+4149444226&4294967295,x=R+(w<<6&4294967295|w>>>26),w=z+(R^(x|~I))+V[11]+3174756917&4294967295,z=x+(w<<10&4294967295|w>>>22),w=I+(x^(z|~R))+V[2]+718787259&4294967295,I=z+(w<<15&4294967295|w>>>17),w=R+(z^(I|~x))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var R=x-this.blockSize,V=this.B,I=this.h,z=0;z<x;){if(I==0)for(;z<=R;)u(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<x;)if(V[I++]=O.charCodeAt(z++),I==this.blockSize){u(this,V),I=0;break}}else for(;z<x;)if(V[I++]=O[z++],I==this.blockSize){u(this,V),I=0;break}}this.h=I,this.o+=x},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var R=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.u(O),O=Array(16),x=R=0;4>x;++x)for(var V=0;32>V;V+=8)O[R++]=this.g[x]>>>V&255;return O};function h(O,x){var R=p;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=x(O)}function d(O,x){this.h=x;for(var R=[],V=!0,I=O.length-1;0<=I;I--){var z=O[I]|0;V&&z==x||(R[I]=z,V=!1)}this.g=R}var p={};function _(O){return-128<=O&&128>O?h(O,function(x){return new d([x|0],0>x?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return J(v(-O));for(var x=[],R=1,V=0;O>=R;V++)x[V]=O/R|0,R*=4294967296;return new d(x,0)}function S(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return J(S(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(x,8)),V=C,I=0;I<O.length;I+=8){var z=Math.min(8,O.length-I),w=parseInt(O.substring(I,I+z),x);8>z?(z=v(Math.pow(x,z)),V=V.j(z).add(v(w))):(V=V.j(R),V=V.add(v(w)))}return V}var C=_(0),D=_(1),G=_(16777216);l=d.prototype,l.m=function(){if($(this))return-J(this).m();for(var O=0,x=1,R=0;R<this.g.length;R++){var V=this.i(R);O+=(0<=V?V:4294967296+V)*x,x*=4294967296}return O},l.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P(this))return"0";if($(this))return"-"+J(this).toString(O);for(var x=v(Math.pow(O,6)),R=this,V="";;){var I=At(R,x).g;R=_t(R,I.j(x));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=I,P(R))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},l.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function P(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function $(O){return O.h==-1}l.l=function(O){return O=_t(this,O),$(O)?-1:P(O)?0:1};function J(O){for(var x=O.g.length,R=[],V=0;V<x;V++)R[V]=~O.g[V];return new d(R,~O.h).add(D)}l.abs=function(){return $(this)?J(this):this},l.add=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],V=0,I=0;I<=x;I++){var z=V+(this.i(I)&65535)+(O.i(I)&65535),w=(z>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);V=w>>>16,z&=65535,w&=65535,R[I]=w<<16|z}return new d(R,R[R.length-1]&-2147483648?-1:0)};function _t(O,x){return O.add(J(x))}l.j=function(O){if(P(this)||P(O))return C;if($(this))return $(O)?J(this).j(J(O)):J(J(this).j(O));if($(O))return J(this.j(J(O)));if(0>this.l(G)&&0>O.l(G))return v(this.m()*O.m());for(var x=this.g.length+O.g.length,R=[],V=0;V<2*x;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<O.g.length;I++){var z=this.i(V)>>>16,w=this.i(V)&65535,pe=O.i(I)>>>16,te=O.i(I)&65535;R[2*V+2*I]+=w*te,dt(R,2*V+2*I),R[2*V+2*I+1]+=z*te,dt(R,2*V+2*I+1),R[2*V+2*I+1]+=w*pe,dt(R,2*V+2*I+1),R[2*V+2*I+2]+=z*pe,dt(R,2*V+2*I+2)}for(V=0;V<x;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=x;V<2*x;V++)R[V]=0;return new d(R,0)};function dt(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function ut(O,x){this.g=O,this.h=x}function At(O,x){if(P(x))throw Error("division by zero");if(P(O))return new ut(C,C);if($(O))return x=At(J(O),x),new ut(J(x.g),J(x.h));if($(x))return x=At(O,J(x)),new ut(J(x.g),x.h);if(30<O.g.length){if($(O)||$(x))throw Error("slowDivide_ only works with positive integers.");for(var R=D,V=x;0>=V.l(O);)R=vt(R),V=vt(V);var I=jt(R,1),z=jt(V,1);for(V=jt(V,2),R=jt(R,2);!P(V);){var w=z.add(V);0>=w.l(O)&&(I=I.add(R),z=w),V=jt(V,1),R=jt(R,1)}return x=_t(O,I.j(x)),new ut(I,x)}for(I=C;0<=O.l(x);){for(R=Math.max(1,Math.floor(O.m()/x.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=v(R),w=z.j(x);$(w)||0<w.l(O);)R-=V,z=v(R),w=z.j(x);P(z)&&(z=D),I=I.add(z),O=_t(O,w)}return new ut(I,O)}l.A=function(O){return At(this,O).h},l.and=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)&O.i(V);return new d(R,this.h&O.h)},l.or=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)|O.i(V);return new d(R,this.h|O.h)},l.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],V=0;V<x;V++)R[V]=this.i(V)^O.i(V);return new d(R,this.h^O.h)};function vt(O){for(var x=O.g.length+1,R=[],V=0;V<x;V++)R[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(R,O.h)}function jt(O,x){var R=x>>5;x%=32;for(var V=O.g.length-R,I=[],z=0;z<V;z++)I[z]=0<x?O.i(z+R)>>>x|O.i(z+R+1)<<32-x:O.i(z+R);return new d(I,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,om=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Li=d}).apply(typeof lm!="undefined"?lm:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var fo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var um,zs,cm,mo,zc,hm,fm,dm;(function(){var l,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof fo=="object"&&fo];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var g=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var U=o[b];if(!(U in g))break t;g=g[U]}o=o[o.length-1],b=g[o],m=m(b),m!=b&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,b=!1,U={next:function(){if(!b&&g<o.length){var H=g++;return{value:m(H,o[H]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,g){return o.call.apply(o.bind,arguments)}function C(o,m,g){if(!o)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),o.apply(m,U)}}return function(){return o.apply(m,arguments)}}function D(o,m,g){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:C,D.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function P(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(b,U,H){for(var et=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)et[Ut-2]=arguments[Ut];return m.prototype[U].apply(b,et)}}function $(o){const m=o.length;if(0<m){const g=Array(m);for(let b=0;b<m;b++)g[b]=o[b];return g}return[]}function J(o,m){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(_(b)){const U=o.length||0,H=b.length||0;o.length=U+H;for(let et=0;et<H;et++)o[U+et]=b[et]}else o.push(b)}}class _t{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function ut(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function At(o){return At[" "](o),o}At[" "]=function(){};var vt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function jt(o,m,g){for(const b in o)m.call(g,o[b],b,o)}function O(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function x(o){const m={};for(const g in o)m[g]=o[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(o,m){let g,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(g in b)o[g]=b[g];for(let H=0;H<R.length;H++)g=R[H],Object.prototype.hasOwnProperty.call(b,g)&&(o[g]=b[g])}}function I(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function z(o){p.setTimeout(()=>{throw o},0)}function w(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,g){const b=te.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new _t(()=>new Q,o=>o.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,zt=new pe,N=()=>{const o=p.Promise.resolve(void 0);nt=()=>{o.then(Z)}};var Z=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(g){z(g)}var m=te;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch(g){}return o}();function mt(o,m){if(W.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{At(m.nodeName);var U=!0;break t}catch(H){}U=!1}U||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:st[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&mt.aa.h.call(this)}}P(mt,W);var st={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function Ke(o,m,g,b,U){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=U,this.key=++bt,this.da=this.fa=!1}function on(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function We(o){this.src=o,this.g={},this.h=0}We.prototype.add=function(o,m,g,b,U){var H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);var et=Ia(o,m,b,U);return-1<et?(m=o[et],g||(m.fa=!1)):(m=new Ke(m,this.src,H,!!b,U),m.fa=g,o.push(m)),m};function fn(o,m){var g=m.type;if(g in o.g){var b=o.g[g],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=0<=U)&&Array.prototype.splice.call(b,U,1),H&&(on(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Ia(o,m,g,b){for(var U=0;U<o.length;++U){var H=o[U];if(!H.da&&H.listener==m&&H.capture==!!g&&H.ha==b)return U}return-1}var ja="closure_lm_"+(1e6*Math.random()|0),Ws={};function Yo(o,m,g,b,U){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Yo(o,m[H],g,b,U);return null}return g=Xo(g),o&&o[Dt]?o.K(m,g,v(b)?!!b.capture:!1,U):bn(o,m,g,!1,b,U)}function bn(o,m,g,b,U,H){if(!m)throw Error("Invalid event type");var et=v(U)?!!U.capture:!!U,Ut=kr(o);if(Ut||(o[ja]=Ut=new We(o)),g=Ut.add(m,g,b,et,H),g.proxy)return g;if(b=Mh(),g.proxy=b,b.src=o,b.listener=g,o.addEventListener)at||(U=et),U===void 0&&(U=!1),o.addEventListener(m.toString(),b,U);else if(o.attachEvent)o.attachEvent(za(m.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Mh(){function o(g){return m.call(o.src,o.listener,g)}const m=Vh;return o}function tl(o,m,g,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)tl(o,m[H],g,b,U);else b=v(b)?!!b.capture:!!b,g=Xo(g),o&&o[Dt]?(o=o.i,m=String(m).toString(),m in o.g&&(H=o.g[m],g=Ia(H,g,b,U),-1<g&&(on(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete o.g[m],o.h--)))):o&&(o=kr(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Ia(m,g,b,U)),(g=-1<o?m[o]:null)&&Lr(g))}function Lr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Dt])fn(m.i,o);else{var g=o.type,b=o.proxy;m.removeEventListener?m.removeEventListener(g,b,o.capture):m.detachEvent?m.detachEvent(za(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=kr(m))?(fn(g,o),g.h==0&&(g.src=null,m[ja]=null)):on(o)}}}function za(o){return o in Ws?Ws[o]:Ws[o]="on"+o}function Vh(o,m){if(o.da)o=!0;else{m=new mt(m,this);var g=o.listener,b=o.ha||o.src;o.fa&&Lr(o),o=g.call(b,m)}return o}function kr(o){return o=o[ja],o instanceof We?o:null}var el="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(o){return typeof o=="function"?o:(o[el]||(o[el]=function(m){return o.handleEvent(m)}),o[el])}function re(){it.call(this),this.i=new We(this),this.M=this,this.F=null}P(re,it),re.prototype[Dt]=!0,re.prototype.removeEventListener=function(o,m,g,b){tl(this,o,m,g,b)};function Gt(o,m){var g,b=o.F;if(b)for(g=[];b;b=b.F)g.push(b);if(o=o.M,b=m.type||m,typeof m=="string")m=new W(m,o);else if(m instanceof W)m.target=m.target||o;else{var U=m;m=new W(b,o),V(m,U)}if(U=!0,g)for(var H=g.length-1;0<=H;H--){var et=m.g=g[H];U=dn(et,b,!0,m)&&U}if(et=m.g=o,U=dn(et,b,!0,m)&&U,U=dn(et,b,!1,m)&&U,g)for(H=0;H<g.length;H++)et=m.g=g[H],U=dn(et,b,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],b=0;b<g.length;b++)on(g[b]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,g,b){return this.i.add(String(o),m,!1,g,b)},re.prototype.L=function(o,m,g,b){return this.i.add(String(o),m,!0,g,b)};function dn(o,m,g,b){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,H=0;H<m.length;++H){var et=m[H];if(et&&!et.da&&et.capture==g){var Ut=et.listener,Ae=et.ha||et.src;et.fa&&fn(o.i,et),U=Ut.call(Ae,b)!==!1&&U}}return U&&!b.defaultPrevented}function Ze(o,m,g){if(typeof o=="function")g&&(o=D(o,g));else if(o&&typeof o.handleEvent=="function")o=D(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Ko(o){o.g=Ze(()=>{o.g=null,o.i&&(o.i=!1,Ko(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Oh extends it{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ko(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(o){it.call(this),this.h=o,this.g={}}P(Ua,it);var La=[];function ka(o){jt(o.g,function(m,g){this.g.hasOwnProperty(g)&&Lr(m)},o),o.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),ka(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=p.JSON.stringify,Br=p.JSON.parse,Ba=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function nl(){}nl.prototype.h=null;function il(o){return o.h||(o.h=o.i())}function al(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){W.call(this,"d")}P(fi,W);function rl(){W.call(this,"c")}P(rl,W);var Yn={},sl=null;function Zi(){return sl=sl||new re}Yn.La="serverreachability";function Pr(o){W.call(this,Yn.La,o)}P(Pr,W);function $i(o){const m=Zi();Gt(m,new Pr(m))}Yn.STAT_EVENT="statevent";function Zo(o,m){W.call(this,Yn.STAT_EVENT,o),this.stat=m}P(Zo,W);function ee(o){const m=Zi();Gt(m,new Zo(m,o))}Yn.Ma="timingevent";function xe(o,m){W.call(this,Yn.Ma,o),this.size=m}P(xe,W);function ye(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function ll(o,m,g,b,U,H){o.info(function(){if(o.g)if(H)for(var et="",Ut=H.split("&"),Ae=0;Ae<Ut.length;Ae++){var Lt=Ut[Ae].split("=");if(1<Lt.length){var Ve=Lt[0];Lt=Lt[1];var we=Ve.split("_");et=2<=we.length&&we[1]=="type"?et+(Ve+"="+Lt+"&"):et+(Ve+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+g+`
`+et})}function Ih(o,m,g,b,U,H,et){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+g+`
`+H+" "+et})}function Ji(o,m,g,b){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pa(o,g)+(b?" "+b:"")})}function $o(o,m){o.info(function(){return"TIMEOUT: "+m})}Sn.prototype.info=function(){};function Pa(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var b=g[o];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return jn(g)}catch(Ut){return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Kn(){}P(Kn,nl),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Xn=new Kn;function tn(o,m,g,b){this.j=o,this.i=m,this.l=g,this.R=b||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var ol={},qr={};function zn(o,m,g){o.L=1,o.v=Fa(mn(m)),o.m=g,o.P=!0,mi(o,null)}function mi(o,m){o.F=Date.now(),qa(o),o.A=mn(o.v);var g=o.A,b=o.R;Array.isArray(b)||(b=[String(b)]),ml(g.i,"t",b),o.C=0,g=o.j.J,o.h=new ce,o.g=du(o.j,g?m:null,!o.m),0<o.O&&(o.M=new Oh(D(o.Y,o,o.g),o.O)),m=o.U,g=o.g,b=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(La[0]=U.toString()),U=La);for(var H=0;H<U.length;H++){var et=Yo(g,U[H],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.H?x(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),$i(),ll(o.i,o.u,o.A,o.l,o.R,o.m)}tn.prototype.ca=function(o){o=o.target;const m=this.M;m&&Rn(o)==3?m.j():this.Y(o)},tn.prototype.Y=function(o){try{if(o==this.g)t:{const we=Rn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||we!=4||m==7||(m==8||0>=bi?$i(3):$i(2)),ta(this);var g=this.g.Z();this.X=g;e:if(Jo(this)){var b=ru(this.g);o="";var U=b.length,H=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){ke(this),Zn(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,o+=this.h.i.decode(b[m],{stream:!(H&&m==U-1)});b.length=0,this.h.g+=o,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=g==200,Ih(this.i,this.u,this.A,this.l,this.R,we,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ae=this.g;if((Ut=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Ut)){var Lt=Ut;break e}}Lt=null}if(g=Lt)Ji(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ha(this,g);else{this.o=!1,this.s=3,ee(12),ke(this),Zn(this);break t}}if(this.P){g=!0;let Be;for(;!this.J&&this.C<et.length;)if(Be=Wo(this,et),Be==qr){we==4&&(this.s=4,ee(14),g=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==ol){this.s=4,ee(15),Ji(this.i,this.l,et,"[Invalid Chunk]"),g=!1;break}else Ji(this.i,this.l,Be,null),Ha(this,Be);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||et.length!=0||this.h.h||(this.s=1,ee(16),g=!1),this.o=this.o&&g,!g)Ji(this.i,this.l,et,"[Invalid Chunked Response]"),ke(this),Zn(this);else if(0<et.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),tr(Ve),Ve.M=!0,ee(11))}}else Ji(this.i,this.l,et,null),Ha(this,et);we==4&&ke(this),this.o&&!this.J&&(we==4?cu(this.j,this):(this.o=!1,qa(this)))}else kh(this.g),g==400&&0<et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ke(this),Zn(this)}}}catch(we){}finally{}};function Jo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Wo(o,m){var g=o.C,b=m.indexOf(`
`,g);return b==-1?qr:(g=Number(m.substring(g,b)),isNaN(g)?ol:(b+=1,b+g>m.length?qr:(m=m.slice(b,b+g),o.C=b+g,m)))}tn.prototype.cancel=function(){this.J=!0,ke(this)};function qa(o){o.S=Date.now()+o.I,tu(o,o.I)}function tu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ye(D(o.ba,o),m)}function ta(o){o.B&&(p.clearTimeout(o.B),o.B=null)}tn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?($o(this.i,this.A),this.L!=2&&($i(),ee(17)),ke(this),this.s=2,Zn(this)):tu(this,this.S-o)};function Zn(o){o.j.G==0||o.J||cu(o.j,o)}function ke(o){ta(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ka(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ha(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||ul(g.h,o))){if(!o.K&&ul(g.h,o)&&g.G==3){try{var b=g.Da.g.parse(m)}catch(Lt){b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)ts(g),Jr(g);else break t;_l(g),ee(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=ye(D(g.Za,g),6e3));if(1>=Gr(g.h)&&g.ca){try{g.ca()}catch(Lt){}g.ca=void 0}}else Ti(g,11)}else if((o.K||g.g==o)&&ts(g),!dt(m))for(U=g.Da.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];if(g.T=Lt[0],Lt=Lt[1],g.G==2)if(Lt[0]=="c"){g.K=Lt[1],g.ia=Lt[2];const Ve=Lt[3];Ve!=null&&(g.la=Ve,g.j.info("VER="+g.la));const we=Lt[4];we!=null&&(g.Aa=we,g.j.info("SVER="+g.Aa));const bi=Lt[5];bi!=null&&typeof bi=="number"&&0<bi&&(b=1.5*bi,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Be=o.g;if(Be){const ii=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var H=b.h;H.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Qr(H,H.h),H.h=null))}if(b.D){const Tl=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(b.ya=Tl,Yt(b.I,b.D,Tl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var et=o;if(b.qa=fu(b,b.J?b.ia:null,b.W),et.K){en(b.h,et);var Ut=et,Ae=b.L;Ae&&(Ut.I=Ae),Ut.B&&(ta(Ut),qa(Ut)),b.g=et}else ou(b);0<g.i.length&&Wr(g)}else Lt[0]!="stop"&&Lt[0]!="close"||Ti(g,7);else g.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Ti(g,7):yl(g):Lt[0]!="noop"&&g.l&&g.l.ta(Lt),g.v=0)}}$i(4)}catch(Lt){}}var eu=class{constructor(o,m){this.g=o,this.map=m}};function gi(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Gr(o){return o.h?1:o.g?o.g.size:0}function ul(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Qr(o,m){o.g?o.g.add(m):o.h=m}function en(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}gi.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function cl(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return $(o.i)}function jh(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map!="undefined"&&o instanceof Map||typeof Set!="undefined"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,b=0;b<g;b++)m.push(o[b]);return m}m=[],g=0;for(b in o)m[g++]=o[b];return m}function Fr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map!="undefined"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set!="undefined"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const b in o)m[g++]=b;return m}}}function hl(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=Fr(o),b=jh(o),U=b.length,H=0;H<U;H++)m.call(void 0,b[H],g&&g[H],o)}var Ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var b=o[g].indexOf("="),U=null;if(0<=b){var H=o[g].substring(0,b);U=o[g].substring(b+1)}else H=o[g];m(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ve(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ve){this.h=o.h,Qa(this,o.j),this.o=o.o,this.g=o.g,ea(this,o.s),this.l=o.l;var m=o.i,g=new yi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),pi(this,g),this.m=o.m}else o&&(m=String(o).match(Ga))?(this.h=!1,Qa(this,m[1]||"",!0),this.o=xn(m[2]||""),this.g=xn(m[3]||"",!0),ea(this,m[4]),this.l=xn(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=xn(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}ve.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ya(m,fl,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ya(m,fl,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Ya(g,g.charAt(0)=="/"?Uh:dl,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Ya(g,Yr)),o.join("")};function mn(o){return new ve(o)}function Qa(o,m,g){o.j=g?xn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ea(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function pi(o,m,g){m instanceof yi?(o.i=m,iu(o.i,o.h)):(g||(m=Ya(m,Lh)),o.i=new yi(m,o.h))}function Yt(o,m,g){o.i.set(m,g)}function Fa(o){return Yt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function xn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ya(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,nu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function nu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fl=/[#\/\?@]/g,dl=/[#\?:]/g,Uh=/[#\?]/g,Lh=/[#\?@]/g,Yr=/#/g;function yi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function An(o){o.g||(o.g=new Map,o.h=0,o.i&&zh(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}l=yi.prototype,l.add=function(o,m){An(this),this.i=null,o=$n(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function vi(o,m){An(o),m=$n(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function _i(o,m){return An(o),m=$n(o,m),o.g.has(m)}l.forEach=function(o,m){An(this),this.g.forEach(function(g,b){g.forEach(function(U){o.call(m,U,b,this)},this)},this)},l.na=function(){An(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let b=0;b<m.length;b++){const U=o[b];for(let H=0;H<U.length;H++)g.push(m[b])}return g},l.V=function(o){An(this);let m=[];if(typeof o=="string")_i(this,o)&&(m=m.concat(this.g.get($n(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},l.set=function(o,m){return An(this),this.i=null,o=$n(this,o),_i(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},l.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function ml(o,m,g){vi(o,m),0<g.length&&(o.i=null,o.g.set($n(o,m),$(g)),o.h+=g.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var b=m[g];const H=encodeURIComponent(String(b)),et=this.V(b);for(b=0;b<et.length;b++){var U=H;et[b]!==""&&(U+="="+encodeURIComponent(String(et[b]))),o.push(U)}}return this.i=o.join("&")};function $n(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function iu(o,m){m&&!o.j&&(An(o),o.i=null,o.g.forEach(function(g,b){var U=b.toLowerCase();b!=U&&(vi(this,b),ml(this,U,g))},o)),o.j=m}function Xa(o,m){const g=new Sn;if(p.Image){const b=new Image;b.onload=G(wn,g,"TestLoadImage: loaded",!0,m,b),b.onerror=G(wn,g,"TestLoadImage: error",!1,m,b),b.onabort=G(wn,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=G(wn,g,"TestLoadImage: timeout",!1,m,b),p.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else m(!1)}function Un(o,m){const g=new Sn,b=new AbortController,U=setTimeout(()=>{b.abort(),wn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?wn(g,"TestPingServer: ok",!0,m):wn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(g,"TestPingServer: error",!1,m)})}function wn(o,m,g,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(g)}catch(H){}}function Ka(){this.g=new Ba}function Jn(o,m,g){const b=g||"";try{hl(o,function(U,H){let et=U;v(U)&&(et=jn(U)),m.push(b+H+"="+encodeURIComponent(et))})}catch(U){throw m.push(b+"type="+encodeURIComponent("_badmap")),U}}function na(o){this.l=o.Ub||null,this.j=o.eb||!1}P(na,nl),na.prototype.g=function(){return new Ei(this.l,this.j)},na.prototype.i=function(o){return function(){return o}}({});function Ei(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ei,re),l=Ei.prototype,l.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,ti(this)},l.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},l.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream!="undefined"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}l.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Wn(this):ti(this),this.readyState==3&&gl(this)}},l.Ra=function(o){this.g&&(this.response=this.responseText=o,Wn(this))},l.Qa=function(o){this.g&&(this.response=o,Wn(this))},l.ga=function(){this.g&&Wn(this)};function Wn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ti(o)}l.setRequestHeader=function(o,m){this.u.append(o,m)},l.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function ti(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function pl(o){let m="";return jt(o,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function Me(o,m,g){t:{for(b in g){var b=!1;break t}b=!0}b||(g=pl(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Yt(o,m,g))}function Ht(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,re);var Xr=/^https?$/i,Za=["POST","PUT"];l=Ht.prototype,l.Ha=function(o){this.J=o},l.ea=function(o,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?il(this.o):il(Xn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(H){au(this,H);return}if(o=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)g.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())g.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),U=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Za,m,void 0))||b||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of g)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$a(this),this.u=!0,this.g.send(o),this.u=!1}catch(H){au(this,H)}};function au(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Kr(o),ei(o)}function Kr(o){o.A||(o.A=!0,Gt(o,"complete"),Gt(o,"error"))}l.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Gt(this,"complete"),Gt(this,"abort"),ei(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Ht.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Zr(this):this.bb())},l.bb=function(){Zr(this)};function Zr(o){if(o.h&&typeof d!="undefined"&&(!o.v[1]||Rn(o)!=4||o.Z()!=2)){if(o.u&&Rn(o)==4)Ze(o.Ea,0,o);else if(Gt(o,"readystatechange"),Rn(o)==4){o.h=!1;try{const et=o.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var b;if(b=et===0){var U=String(o.D).match(Ga)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),b=!Xr.test(U?U.toLowerCase():"")}g=b}if(g)Gt(o,"complete"),Gt(o,"success");else{o.m=6;try{var H=2<Rn(o)?o.g.statusText:""}catch(Ut){H=""}o.l=H+" ["+o.Z()+"]",Kr(o)}}finally{ei(o)}}}}function ei(o,m){if(o.g){$a(o);const g=o.g,b=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Gt(o,"ready");try{g.onreadystatechange=b}catch(U){}}}function $a(o){o.I&&(p.clearTimeout(o.I),o.I=null)}l.isActive=function(){return!!this.g};function Rn(o){return o.g?o.g.readyState:0}l.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch(o){return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch(o){return""}},l.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Br(m)}};function ru(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch(m){return null}}function kh(o){const m={};o=(o.g&&2<=Rn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(dt(o[b]))continue;var g=I(o[b]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=m[U]||[];m[U]=H,H.push(g)}O(m,function(b){return b.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function $r(o){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,o),this.cb=Ja("retryDelaySeedMs",1e4,o),this.Wa=Ja("forwardChannelMaxRetries",2,o),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(o&&o.concurrentRequestLimit),this.Da=new Ka,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=$r.prototype,l.la=8,l.G=1,l.connect=function(o,m,g,b){ee(0),this.W=o,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=fu(this,null,this.W),Wr(this)};function yl(o){if(su(o),o.G==3){var m=o.U++,g=mn(o.I);if(Yt(g,"SID",o.K),Yt(g,"RID",m),Yt(g,"TYPE","terminate"),Wa(o,g),m=new tn(o,o.j,m),m.L=2,m.v=Fa(mn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch(b){}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qa(m)}hu(o)}function Jr(o){o.g&&(tr(o),o.g.cancel(),o.g=null)}function su(o){Jr(o),o.u&&(p.clearTimeout(o.u),o.u=null),ts(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Wr(o){if(!Hr(o.h)&&!o.s){o.s=!0;var m=o.Ga;nt||N(),ht||(nt(),ht=!0),zt.add(m,o),o.B=0}}function Bh(o,m){return Gr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ye(D(o.Ga,o,m),El(o,o.B)),o.B++,!0)}l.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new tn(this,this.j,o);let H=this.o;if(this.S&&(H?(H=x(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=lu(this,U,m),g=mn(this.I),Yt(g,"RID",o),Yt(g,"CVER",22),this.D&&Yt(g,"X-HTTP-Session-Id",this.D),Wa(this,g),H&&(this.O?m="headers="+encodeURIComponent(String(pl(H)))+"&"+m:this.m&&Me(g,this.m,H)),Qr(this.h,U),this.Ua&&Yt(g,"TYPE","init"),this.P?(Yt(g,"$req",m),Yt(g,"SID","null"),U.T=!0,zn(U,g,null)):zn(U,g,m),this.G=2}}else this.G==3&&(o?vl(this,o):this.i.length==0||Hr(this.h)||vl(this))};function vl(o,m){var g;m?g=m.l:g=o.U++;const b=mn(o.I);Yt(b,"SID",o.K),Yt(b,"RID",g),Yt(b,"AID",o.T),Wa(o,b),o.m&&o.o&&Me(b,o.m,o.o),g=new tn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=lu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Qr(o.h,g),zn(g,b,m)}function Wa(o,m){o.H&&jt(o.H,function(g,b){Yt(m,b,g)}),o.l&&hl({},function(g,b){Yt(m,b,g)})}function lu(o,m,g){g=Math.min(o.i.length,g);var b=o.l?D(o.l.Na,o.l,o):null;t:{var U=o.i;let H=-1;for(;;){const et=["count="+g];H==-1?0<g?(H=U[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let Ut=!0;for(let Ae=0;Ae<g;Ae++){let Lt=U[Ae].g;const Ve=U[Ae].map;if(Lt-=H,0>Lt)H=Math.max(0,U[Ae].g-100),Ut=!1;else try{Jn(Ve,et,"req"+Lt+"_")}catch(we){b&&b(Ve)}}if(Ut){b=et.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,b}function ou(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;nt||N(),ht||(nt(),ht=!0),zt.add(m,o),o.v=0}}function _l(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ye(D(o.Fa,o),El(o,o.v)),o.v++,!0)}l.Fa=function(){if(this.u=null,uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ye(D(this.ab,this),o)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Jr(this),uu(this))};function tr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function uu(o){o.g=new tn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=mn(o.qa);Yt(m,"RID","rpc"),Yt(m,"SID",o.K),Yt(m,"AID",o.T),Yt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Yt(m,"TO",o.ja),Yt(m,"TYPE","xmlhttp"),Wa(o,m),o.m&&o.o&&Me(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Fa(mn(m)),g.m=null,g.P=!0,mi(g,o)}l.Za=function(){this.C!=null&&(this.C=null,Jr(this),_l(this),ee(19))};function ts(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function cu(o,m){var g=null;if(o.g==m){ts(o),tr(o),o.g=null;var b=2}else if(ul(o.h,m))g=m.D,en(o.h,m),b=1;else return;if(o.G!=0){if(m.o)if(b==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var U=o.B;b=Zi(),Gt(b,new xe(b,g)),Wr(o)}else ou(o);else if(U=m.s,U==3||U==0&&0<m.X||!(b==1&&Bh(o,m)||b==2&&_l(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),U){case 1:Ti(o,5);break;case 4:Ti(o,10);break;case 3:Ti(o,6);break;default:Ti(o,2)}}}function El(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function Ti(o,m){if(o.j.info("Error code "+m),m==2){var g=D(o.fb,o),b=o.Xa;const U=!b;b=new ve(b||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Qa(b,"https"),Fa(b),U?Xa(b.toString(),g):Un(b.toString(),g)}else ee(2);o.G=0,o.l&&o.l.sa(m),hu(o),su(o)}l.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function hu(o){if(o.G=0,o.ka=[],o.l){const m=cl(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,$(o.i),o.i.length=0),o.l.ra()}}function fu(o,m,g){var b=g instanceof ve?mn(g):new ve(g);if(b.g!="")m&&(b.g=m+"."+b.g),ea(b,b.s);else{var U=p.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var H=new ve(null);b&&Qa(H,b),m&&(H.g=m),U&&ea(H,U),g&&(H.l=g),b=H}return g=o.D,m=o.ya,g&&m&&Yt(b,g,m),Yt(b,"VER",o.la),Wa(o,b),b}function du(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new na({eb:g})):new Ht(o.pa),m.Ha(o.J),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}l=mu.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function es(){}es.prototype.g=function(o,m){return new nn(o,m)};function nn(o,m){re.call(this),this.g=new $r(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new ni(this)}P(nn,re),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){yl(this.g)},nn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=jn(o),o=g);m.i.push(new eu(m.Ya++,o)),m.G==3&&Wr(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,nn.aa.N.call(this)};function gu(o){fi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}P(gu,fi);function pu(){rl.call(this),this.status=1}P(pu,rl);function ni(o){this.g=o}P(ni,mu),ni.prototype.ua=function(){Gt(this.g,"a")},ni.prototype.ta=function(o){Gt(this.g,new gu(o))},ni.prototype.sa=function(o){Gt(this.g,new pu)},ni.prototype.ra=function(){Gt(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,dm=function(){return new es},fm=function(){return Zi()},hm=Yn,zc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,mo=Wi,di.COMPLETE="complete",cm=di,al.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",re.prototype.listen=re.prototype.K,zs=al,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,um=Ht}).apply(typeof fo!="undefined"?fo:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const mm="@firebase/firestore",gm="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _r="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Yd("@firebase/firestore");function Er(){return Ra.logLevel}function lt(l,...e){if(Ra.logLevel<=Vt.DEBUG){const i=e.map(Uc);Ra.debug(`Firestore (${_r}): ${l}`,...i)}}function ci(l,...e){if(Ra.logLevel<=Vt.ERROR){const i=e.map(Uc);Ra.error(`Firestore (${_r}): ${l}`,...i)}}function Tr(l,...e){if(Ra.logLevel<=Vt.WARN){const i=e.map(Uc);Ra.warn(`Firestore (${_r}): ${l}`,...i)}}function Uc(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(l)}catch(e){return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(l,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,pm(l,r,i)}function pm(l,e,i){let r=`FIRESTORE (${_r}) INTERNAL ASSERTION FAILED: ${e} (ID: ${l.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch(u){r+=" CONTEXT: "+i}throw ci(r),new Error(r)}function ie(l,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,l||pm(e,u,r)}function Ot(l,e){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends yr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class N1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class D1{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ie(this.o===void 0,42304);let r=this.i;const u=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ca,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(()=>rt(this,null,function*(){yield _.promise,yield u(this.currentUser)}))},p=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ca)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string",31837,{l:r}),new ym(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class M1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new M1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,d1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ie(this.o===void 0,3512);const r=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ie(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new vm(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(l){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<l;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=I1(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Mt(l,e){return l<e?-1:l>e?1:0}function kc(l,e){const i=Math.min(l.length,e.length);for(let r=0;r<i;r++){const u=l.charAt(r),h=e.charAt(r);if(u!==h)return Bc(u)===Bc(h)?Mt(u,h):Bc(u)?1:-1}return Mt(l.length,e.length)}const j1=55296,z1=57343;function Bc(l){const e=l.charCodeAt(0);return e>=j1&&e<=z1}function br(l,e,i){return l.length===e.length&&l.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="__name__";class Pn{constructor(e,i,r){i===void 0?i=0:i>e.length&&St(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&St(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Pn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=Pn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const r=Pn.isNumericId(e),u=Pn.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?Pn.extractNumericId(e).compare(Pn.extractNumericId(i)):kc(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class Wt extends Pn{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const U1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Pn{construct(e,i,r){return new Je(e,i,r)}static isValidIdentifier(e){return U1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_m}static keyField(){return new Je([_m])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(r+=p,u++):(h(),u++)}if(h(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(i)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(l,e,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${e}.`)}function L1(l,e,i,r){if(e===!0&&r===!0)throw new ct(tt.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function Tm(l){if(!gt.isDocumentKey(l))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function bm(l){if(gt.isDocumentKey(l))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function k1(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function B1(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(l);return e?`a custom ${e} object`:"an object"}}return typeof l=="function"?"a function":St(12329,{type:typeof l})}function Sr(l,e){if("_delegate"in l&&(l=l._delegate),!(l instanceof e)){if(e.name===l.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=B1(l);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(l,e){const i={typeString:l};return e&&(i.value=e),i}function Us(l,e){if(!k1(l))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in l)){i=`JSON missing required field: '${r}'`;break}const d=l[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-62135596800,xm=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*xm);return new me(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Sm)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xm}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Us(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:de("string",me._jsonSchemaVersion),seconds:de("number"),nanoseconds:de("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new me(0,0))}static max(){return new Tt(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=-1;function P1(l,e){const i=l.toTimestamp().seconds,r=l.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(r===1e9?new me(i+1,0):new me(i,r));return new ki(u,gt.empty(),e)}function q1(l){return new ki(l.readTime,l.key,Ls)}class ki{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ki(Tt.min(),gt.empty(),Ls)}static max(){return new ki(Tt.max(),gt.empty(),Ls)}}function H1(l,e){let i=l.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(l.documentKey,e.documentKey),i!==0?i:Mt(l.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(l){return rt(this,null,function*(){if(l.code!==tt.FAILED_PRECONDITION||l.message!==G1)throw l;lt("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,r)=>{i(e)})}static reject(e){return new K((i,r)=>{r(e)})}static waitFor(e){return new K((i,r)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>r(_))}),d=!0,h===u&&i()})}static or(e){let i=K.resolve(!1);for(const r of e)i=i.next(u=>u?K.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new K((r,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++p,p===h&&r(d)},S=>u(S))}})}static doWhile(e,i){return new K((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function F1(l){const e=l.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xr(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}po.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=-1;function yo(l){return l==null}function Pc(l){return l===0&&1/l==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="";function X1(l){let e="";for(let i=0;i<l.length;i++)e.length>0&&(e=wm(e)),e=K1(l.get(i),e);return wm(e)}function K1(l,e){let i=e;const r=l.length;for(let u=0;u<r;u++){const h=l.charAt(u);switch(h){case"\0":i+="";break;case Am:i+="";break;default:i+=h}}return i}function wm(l){return l+Am+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(l){let e=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&e++;return e}function ks(l,e){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&e(i,l[i])}function Z1(l){for(const e in l)if(Object.prototype.hasOwnProperty.call(l,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r!=null?r:ze.RED,this.left=u!=null?u:ze.EMPTY,this.right=h!=null?h:ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ze(e!=null?e:this.key,i!=null?i:this.value,r!=null?r:this.color,u!=null?u:this.left,h!=null?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1,ze.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cm(this.data.getIterator())}getIteratorFrom(e){return new Cm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Cm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Bi([])}unionWith(e){let i=new be(Je.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Bi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return br(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException!="undefined"&&h instanceof DOMException?new Nm("Invalid base64 string: "+h):h}}(e);return new Ue(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Ue(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ue.EMPTY_BYTE_STRING=new Ue("");const $1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(l){if(ie(!!l,39018),typeof l=="string"){let e=0;const i=$1.exec(l);if(ie(!!i,46558,{timestamp:l}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(l);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ue(l.seconds),nanos:ue(l.nanos)}}function ue(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function qi(l){return typeof l=="string"?Ue.fromBase64String(l):Ue.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="server_timestamp",Mm="__type__",Vm="__previous_value__",Om="__local_write_time__";function qc(l){var i,r;return((r=(((i=l==null?void 0:l.mapValue)==null?void 0:i.fields)||{})[Mm])==null?void 0:r.stringValue)===Dm}function _o(l){const e=l.mapValue.fields[Vm];return qc(e)?_o(e):e}function Bs(l){const e=Pi(l.mapValue.fields[Om].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,i,r,u,h,d,p,_,v,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S}}const Eo="(default)";class Ps{constructor(e,i){this.projectId=e,this.database=i||Eo}static empty(){return new Ps("","")}get isDefaultDatabase(){return this.database===Eo}isEqual(e){return e instanceof Ps&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="__type__",tE="__max__",To={mapValue:{}},eE="__vector__",Hc="value";function Hi(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?qc(l)?4:iE(l)?9007199254740991:nE(l)?10:11:St(28295,{value:l})}function qn(l,e){if(l===e)return!0;const i=Hi(l);if(i!==Hi(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===e.booleanValue;case 4:return Bs(l).isEqual(Bs(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Pi(u.timestampValue),p=Pi(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(l,e);case 5:return l.stringValue===e.stringValue;case 6:return function(u,h){return qi(u.bytesValue).isEqual(qi(h.bytesValue))}(l,e);case 7:return l.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(l,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),p=ue(h.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1}(l,e);case 9:return br(l.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(Rm(d)!==Rm(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!qn(d[_],p[_])))return!1;return!0}(l,e);default:return St(52216,{left:l})}}function qs(l,e){return(l.values||[]).find(i=>qn(i,e))!==void 0}function Ar(l,e){if(l===e)return 0;const i=Hi(l),r=Hi(e);if(i!==r)return Mt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(l.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(l,e);case 3:return Im(l.timestampValue,e.timestampValue);case 4:return Im(Bs(l),Bs(e));case 5:return kc(l.stringValue,e.stringValue);case 6:return function(h,d){const p=qi(h),_=qi(d);return p.compareTo(_)}(l.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Mt(p[v],_[v]);if(S!==0)return S}return Mt(p.length,_.length)}(l.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Mt(ue(h.latitude),ue(d.latitude));return p!==0?p:Mt(ue(h.longitude),ue(d.longitude))}(l.geoPointValue,e.geoPointValue);case 9:return jm(l.arrayValue,e.arrayValue);case 10:return function(h,d){var D,G,P,$;const p=h.fields||{},_=d.fields||{},v=(D=p[Hc])==null?void 0:D.arrayValue,S=(G=_[Hc])==null?void 0:G.arrayValue,C=Mt(((P=v==null?void 0:v.values)==null?void 0:P.length)||0,(($=S==null?void 0:S.values)==null?void 0:$.length)||0);return C!==0?C:jm(v,S)}(l.mapValue,e.mapValue);case 11:return function(h,d){if(h===To.mapValue&&d===To.mapValue)return 0;if(h===To.mapValue)return 1;if(d===To.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let C=0;C<_.length&&C<S.length;++C){const D=kc(_[C],S[C]);if(D!==0)return D;const G=Ar(p[_[C]],v[S[C]]);if(G!==0)return G}return Mt(_.length,S.length)}(l.mapValue,e.mapValue);default:throw St(23264,{he:i})}}function Im(l,e){if(typeof l=="string"&&typeof e=="string"&&l.length===e.length)return Mt(l,e);const i=Pi(l),r=Pi(e),u=Mt(i.seconds,r.seconds);return u!==0?u:Mt(i.nanos,r.nanos)}function jm(l,e){const i=l.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=Ar(i[u],r[u]);if(h)return h}return Mt(i.length,r.length)}function wr(l){return Gc(l)}function Gc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const r=Pi(i);return`time(${r.seconds},${r.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(i){return qi(i).toBase64()}(l.bytesValue):"referenceValue"in l?function(i){return gt.fromName(i).toString()}(l.referenceValue):"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Gc(h);return r+"]"}(l.arrayValue):"mapValue"in l?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Gc(i.fields[d])}`;return u+"}"}(l.mapValue):St(61005,{value:l})}function bo(l){switch(Hi(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_o(l);return e?16+bo(e):16;case 5:return 2*l.stringValue.length;case 6:return qi(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+bo(h),0)}(l.arrayValue);case 10:case 11:return function(r){let u=0;return ks(r.fields,(h,d)=>{u+=h.length+bo(d)}),u}(l.mapValue);default:throw St(13486,{value:l})}}function Qc(l){return!!l&&"integerValue"in l}function Fc(l){return!!l&&"arrayValue"in l}function zm(l){return!!l&&"nullValue"in l}function Um(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Yc(l){return!!l&&"mapValue"in l}function nE(l){var i,r;return((r=(((i=l==null?void 0:l.mapValue)==null?void 0:i.fields)||{})[W1])==null?void 0:r.stringValue)===eE}function Hs(l){if(l.geoPointValue)return{geoPointValue:rn({},l.geoPointValue)};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:rn({},l.timestampValue)};if(l.mapValue){const e={mapValue:{fields:{}}};return ks(l.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Hs(r)),e}if(l.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hs(l.arrayValue.values[i]);return e}return rn({},l)}function iE(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===tE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hs(i)}setAll(e){let i=Je.emptyPath(),r={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,u),r={},u=[],i=p.popLast()}d?r[p.lastSegment()]=Hs(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Yc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){ks(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new Hn(Hs(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,u,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Ye(e,0,Tt.min(),Tt.min(),Tt.min(),Hn.empty(),0)}static newFoundDocument(e,i,r,u){return new Ye(e,1,i,Tt.min(),r,u,0)}static newNoDocument(e,i){return new Ye(e,2,i,Tt.min(),Tt.min(),Hn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,Tt.min(),Tt.min(),Hn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,i){this.position=e,this.inclusive=i}}function Lm(l,e,i){let r=0;for(let u=0;u<l.position.length;u++){const h=e[u],d=l.position[u];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Ar(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function km(l,e){if(l===null)return e===null;if(e===null||l.inclusive!==e.inclusive||l.position.length!==e.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!qn(l.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i="asc"){this.field=e,this.dir=i}}function aE(l,e){return l.dir===e.dir&&l.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{}class Se extends Bm{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new sE(e,i,r):i==="array-contains"?new uE(e,r):i==="in"?new cE(e,r):i==="not-in"?new hE(e,r):i==="array-contains-any"?new fE(e,r):new Se(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new lE(e,r):new oE(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ar(i,this.value)):i!==null&&Hi(this.value)===Hi(i)&&this.matchesComparison(Ar(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends Bm{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gn(e,i)}matches(e){return Pm(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pm(l){return l.op==="and"}function qm(l){return rE(l)&&Pm(l)}function rE(l){for(const e of l.filters)if(e instanceof Gn)return!1;return!0}function Xc(l){if(l instanceof Se)return l.field.canonicalString()+l.op.toString()+wr(l.value);if(qm(l))return l.filters.map(e=>Xc(e)).join(",");{const e=l.filters.map(i=>Xc(i)).join(",");return`${l.op}(${e})`}}function Hm(l,e){return l instanceof Se?function(r,u){return u instanceof Se&&r.op===u.op&&r.field.isEqual(u.field)&&qn(r.value,u.value)}(l,e):l instanceof Gn?function(r,u){return u instanceof Gn&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,p)=>h&&Hm(d,u.filters[p]),!0):!1}(l,e):void St(19439)}function Gm(l){return l instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${wr(i.value)}`}(l):l instanceof Gn?function(i){return i.op.toString()+" {"+i.getFilters().map(Gm).join(" ,")+"}"}(l):"Filter"}class sE extends Se{constructor(e,i,r){super(e,i,r),this.key=gt.fromName(r.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class lE extends Se{constructor(e,i){super(e,"in",i),this.keys=Qm("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class oE extends Se{constructor(e,i){super(e,"not-in",i),this.keys=Qm("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Qm(l,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map(r=>gt.fromName(r.referenceValue))}class uE extends Se{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Fc(i)&&qs(i.arrayValue,this.value)}}class cE extends Se{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&qs(this.value.arrayValue,i)}}class hE extends Se{constructor(e,i){super(e,"not-in",i)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!qs(this.value.arrayValue,i)}}class fE extends Se{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Fc(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i=null,r=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Fm(l,e=null,i=[],r=[],u=null,h=null,d=null){return new dE(l,e,i,r,u,h,d)}function Kc(l){const e=Ot(l);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>Xc(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),yo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>wr(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>wr(r)).join(",")),e.Te=i}return e.Te}function Zc(l,e){if(l.limit!==e.limit||l.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!aE(l.orderBy[i],e.orderBy[i]))return!1;if(l.filters.length!==e.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Hm(l.filters[i],e.filters[i]))return!1;return l.collectionGroup===e.collectionGroup&&!!l.path.isEqual(e.path)&&!!km(l.startAt,e.startAt)&&km(l.endAt,e.endAt)}function $c(l){return gt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,i=null,r=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mE(l,e,i,r,u,h,d,p){return new Ao(l,e,i,r,u,h,d,p)}function wo(l){return new Ao(l)}function Ym(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function gE(l){return l.collectionGroup!==null}function Gs(l){const e=Ot(l);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new be(Je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new xo(h,r))}),i.has(Je.keyField().canonicalString())||e.Ie.push(new xo(Je.keyField(),r))}return e.Ie}function Qn(l){const e=Ot(l);return e.Ee||(e.Ee=pE(e,Gs(l))),e.Ee}function pE(l,e){if(l.limitType==="F")return Fm(l.path,l.collectionGroup,e,l.filters,l.limit,l.startAt,l.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new xo(u.field,h)});const i=l.endAt?new So(l.endAt.position,l.endAt.inclusive):null,r=l.startAt?new So(l.startAt.position,l.startAt.inclusive):null;return Fm(l.path,l.collectionGroup,e,l.filters,l.limit,i,r)}}function Jc(l,e,i){return new Ao(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),e,i,l.startAt,l.endAt)}function Ro(l,e){return Zc(Qn(l),Qn(e))&&l.limitType===e.limitType}function Xm(l){return`${Kc(Qn(l))}|lt:${l.limitType}`}function Rr(l){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>Gm(u)).join(", ")}]`),yo(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>wr(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>wr(u)).join(",")),`Target(${r})`}(Qn(l))}; limitType=${l.limitType})`}function Co(l,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(l,e)&&function(r,u){for(const h of Gs(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(l,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(l,e)&&function(r,u){return!(r.startAt&&!function(d,p,_){const v=Lm(d,p,_);return d.inclusive?v<=0:v<0}(r.startAt,Gs(r),u)||r.endAt&&!function(d,p,_){const v=Lm(d,p,_);return d.inclusive?v>=0:v>0}(r.endAt,Gs(r),u))}(l,e)}function yE(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Km(l){return(e,i)=>{let r=!1;for(const u of Gs(l)){const h=vE(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function vE(l,e,i){const r=l.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?Ar(_,v):St(42886)}(l.field,e,i);switch(l.dir){case"asc":return r;case"desc":return-1*r;default:return St(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return Z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new oe(gt.comparator);function Gi(){return _E}const Zm=new oe(gt.comparator);function Qs(...l){let e=Zm;for(const i of l)e=e.insert(i.key,i);return e}function EE(l){let e=Zm;return l.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function Da(){return Fs()}function $m(){return Fs()}function Fs(){return new Na(l=>l.toString(),(l,e)=>l.isEqual(e))}const TE=new be(gt.comparator);function Bt(...l){let e=TE;for(const i of l)e=e.add(i);return e}const bE=new be(Mt);function SE(){return bE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(l,e){if(l.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function AE(l){return{integerValue:""+l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this._=void 0}}function wE(l,e,i){return l instanceof Wc?function(u,h){const d={fields:{[Mm]:{stringValue:Dm},[Om]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&qc(h)&&(h=_o(h)),h&&(d.fields[Vm]=h),{mapValue:d}}(i,e):l instanceof Do?Jm(l,e):l instanceof Mo?Wm(l,e):function(u,h){const d=CE(u,h),p=tg(d)+tg(u.Ae);return Qc(d)&&Qc(u.Ae)?AE(p):xE(u.serializer,p)}(l,e)}function RE(l,e,i){return l instanceof Do?Jm(l,e):l instanceof Mo?Wm(l,e):i}function CE(l,e){return l instanceof th?function(r){return Qc(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Wc extends No{}class Do extends No{constructor(e){super(),this.elements=e}}function Jm(l,e){const i=eg(e);for(const r of l.elements)i.some(u=>qn(u,r))||i.push(r);return{arrayValue:{values:i}}}class Mo extends No{constructor(e){super(),this.elements=e}}function Wm(l,e){let i=eg(e);for(const r of l.elements)i=i.filter(u=>!qn(u,r));return{arrayValue:{values:i}}}class th extends No{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function tg(l){return ue(l.integerValue||l.doubleValue)}function eg(l){return Fc(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function NE(l,e){return l.field.isEqual(e.field)&&function(r,u){return r instanceof Do&&u instanceof Do||r instanceof Mo&&u instanceof Mo?br(r.elements,u.elements,qn):r instanceof th&&u instanceof th?qn(r.Ae,u.Ae):r instanceof Wc&&u instanceof Wc}(l.transform,e.transform)}class Ma{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ma}static exists(e){return new Ma(void 0,e)}static updateTime(e){return new Ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(l,e){return l.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(l.updateTime):l.exists===void 0||l.exists===e.isFoundDocument()}class eh{}function ng(l,e){if(!l.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return l.isNoDocument()?new ME(l.key,Ma.none()):new nh(l.key,l.data,Ma.none());{const i=l.data,r=Hn.empty();let u=new be(Je.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Oo(l.key,r,new Bi(u.toArray()),Ma.none())}}function DE(l,e,i){l instanceof nh?function(u,h,d){const p=u.value.clone(),_=rg(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(l,e,i):l instanceof Oo?function(u,h,d){if(!Vo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=rg(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(ag(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(l,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ys(l,e,i,r){return l instanceof nh?function(h,d,p,_){if(!Vo(h.precondition,d))return p;const v=h.value.clone(),S=sg(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(l,e,i,r):l instanceof Oo?function(h,d,p,_){if(!Vo(h.precondition,d))return p;const v=sg(h.fieldTransforms,_,d),S=d.data;return S.setAll(ag(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(l,e,i,r):function(h,d,p){return Vo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(l,e,i)}function ig(l,e){return l.type===e.type&&!!l.key.isEqual(e.key)&&!!l.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&br(r,u,(h,d)=>NE(h,d))}(l.fieldTransforms,e.fieldTransforms)&&(l.type===0?l.value.isEqual(e.value):l.type!==1||l.data.isEqual(e.data)&&l.fieldMask.isEqual(e.fieldMask))}class nh extends eh{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Oo extends eh{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ag(l){const e=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=l.data.field(i);e.set(i,r)}}),e}function rg(l,e,i){const r=new Map;ie(l.length===i.length,32656,{Re:i.length,Ve:l.length});for(let u=0;u<i.length;u++){const h=l[u],d=h.transform,p=e.data.field(h.field);r.set(h.field,RE(d,p,i[u]))}return r}function sg(l,e,i){const r=new Map;for(const u of l){const h=u.transform,d=i.data.field(u.field);r.set(u.field,wE(h,d,e))}return r}class ME extends eh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&DE(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ys(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ys(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=$m();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=ng(d,p);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Bt())}isEqual(e){return this.batchId===e.batchId&&br(this.mutations,e.mutations,(i,r)=>ig(i,r))&&br(this.baseMutations,e.baseMutations,(i,r)=>ig(i,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,It;function lg(l){if(l===void 0)return ci("GRPC error has no .code"),tt.UNKNOWN;switch(l){case ge.OK:return tt.OK;case ge.CANCELLED:return tt.CANCELLED;case ge.UNKNOWN:return tt.UNKNOWN;case ge.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ge.INTERNAL:return tt.INTERNAL;case ge.UNAVAILABLE:return tt.UNAVAILABLE;case ge.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ge.NOT_FOUND:return tt.NOT_FOUND;case ge.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ge.ABORTED:return tt.ABORTED;case ge.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ge.DATA_LOSS:return tt.DATA_LOSS;default:return St(39323,{code:l})}}(It=ge||(ge={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Li([4294967295,4294967295],0);function og(l){const e=jE().encode(l),i=new om;return i.update(e),new Uint8Array(i.digest())}function ug(l){const e=new DataView(l.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Li([i,r],0),new Li([u,h],0)]}class ih{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Xs(`Invalid padding: ${i}`);if(r<0)throw new Xs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xs(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Xs(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Li.fromNumber(this.ge)}ye(e,i,r){let u=e.add(i.multiply(Li.fromNumber(r)));return u.compare(zE)===1&&(u=new Li([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=og(e),[r,u]=ug(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ih(h,u,i);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=og(e),[r,u]=ug(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Xs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Ks.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Io(Tt.min(),u,new oe(Mt),Gi(),Bt())}}class Ks{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Ks(r,i,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,r,u){this.be=e,this.removedTargetIds=i,this.key=r,this.De=u}}class cg{constructor(e,i){this.targetId=e,this.Ce=i}}class hg{constructor(e,i,r=Ue.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class fg{constructor(){this.ve=0,this.Fe=dg(),this.Me=Ue.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Bt(),i=Bt(),r=Bt();return this.Fe.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:St(38017,{changeType:h})}}),new Ks(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=dg()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UE{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=zo(),this.He=zo(),this.Ye=new oe(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:St(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((r,u)=>{this.rt(u)&&i(u)})}st(e){const i=e.targetId,r=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if($c(h))if(r===0){const d=new gt(h.path);this.et(i,d,Ye.newNoDocument(d,Tt.min()))}else ie(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=qi(r).toUint8Array()}catch(_){if(_ instanceof Nm)return Tr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new ih(d,u,h)}catch(_){return Tr(_ instanceof Xs?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),u++)}),u}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const p=this.ot(d);if(p){if(h.current&&$c(p.target)){const _=new gt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let r=Bt();this.He.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const u=new Io(e,i,this.Ye,this.je,r);return this.je=Gi(),this.Je=zo(),this.He=zo(),this.Ye=new oe(Mt),u}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new fg,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new be(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new be(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fg),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zo(){return new oe(gt.comparator)}function dg(){return new oe(gt.comparator)}const LE={asc:"ASCENDING",desc:"DESCENDING"},kE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BE={and:"AND",or:"OR"};class PE{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ah(l,e){return l.useProto3Json||yo(e)?e:{value:e}}function qE(l,e){return l.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(l,e){return l.useProto3Json?e.toBase64():e.toUint8Array()}function Cr(l){return ie(!!l,49232),Tt.fromTimestamp(function(i){const r=Pi(i);return new me(r.seconds,r.nanos)}(l))}function GE(l,e){return rh(l,e).canonicalString()}function rh(l,e){const i=function(u){return new Wt(["projects",u.projectId,"databases",u.database])}(l).child("documents");return e===void 0?i:i.child(e)}function mg(l){const e=Wt.fromString(l);return ie(Eg(e),10190,{key:e.toString()}),e}function sh(l,e){const i=mg(e);if(i.get(1)!==l.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new gt(yg(i))}function gg(l,e){return GE(l.databaseId,e)}function QE(l){const e=mg(l);return e.length===4?Wt.emptyPath():yg(e)}function pg(l){return new Wt(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function yg(l){return ie(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function FE(l,e){let i;if("targetChange"in e){e.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:St(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(ie(S===void 0||typeof S=="string",58123),Ue.fromBase64String(S||"")):(ie(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ue.fromUint8Array(S||new Uint8Array))}(l,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const S=v.code===void 0?tt.UNKNOWN:lg(v.code);return new ct(S,v.message||"")}(d);i=new hg(r,u,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=sh(l,r.document.name),h=Cr(r.document.updateTime),d=r.document.createTime?Cr(r.document.createTime):Tt.min(),p=new Hn({mapValue:{fields:r.document.fields}}),_=Ye.newFoundDocument(u,h,d,p),v=r.targetIds||[],S=r.removedTargetIds||[];i=new jo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=sh(l,r.document),h=r.readTime?Cr(r.readTime):Tt.min(),d=Ye.newNoDocument(u,h),p=r.removedTargetIds||[];i=new jo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=sh(l,r.document),h=r.removedTargetIds||[];i=new jo([],h,u,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new IE(u,h),p=r.targetId;i=new cg(p,d)}}return i}function YE(l,e){return{documents:[gg(l,e.path)]}}function XE(l,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=gg(l,u);const h=function(v){if(v.length!==0)return _g(Gn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(D){return{field:Nr(D.field),direction:$E(D.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ah(l,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ft:i,parent:u}}function KE(l){let e=QE(l.parent);const i=l.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){ie(r===1,65062);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(C){const D=vg(C);return D instanceof Gn&&qm(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(D=>function(P){return new xo(Dr(P.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(D))}(i.orderBy));let p=null;i.limit&&(p=function(C){let D;return D=typeof C=="object"?C.value:C,yo(D)?null:D}(i.limit));let _=null;i.startAt&&(_=function(C){const D=!!C.before,G=C.values||[];return new So(G,D)}(i.startAt));let v=null;return i.endAt&&(v=function(C){const D=!C.before,G=C.values||[];return new So(G,D)}(i.endAt)),mE(e,u,d,h,p,"F",_,v)}function ZE(l,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vg(l){return l.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Dr(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=Dr(i.unaryFilter.field);return Se.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Dr(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Dr(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}}(l):l.fieldFilter!==void 0?function(i){return Se.create(Dr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(i){return Gn.create(i.compositeFilter.filters.map(r=>vg(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return St(1026)}}(i.compositeFilter.op))}(l):St(30097,{filter:l})}function $E(l){return LE[l]}function JE(l){return kE[l]}function WE(l){return BE[l]}function Nr(l){return{fieldPath:l.canonicalString()}}function Dr(l){return Je.fromServerFormat(l.fieldPath)}function _g(l){return l instanceof Se?function(i){if(i.op==="=="){if(Um(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NAN"}};if(zm(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Um(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NAN"}};if(zm(i.value))return{unaryFilter:{field:Nr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nr(i.field),op:JE(i.op),value:i.value}}}(l):l instanceof Gn?function(i){const r=i.getFilters().map(u=>_g(u));return r.length===1?r[0]:{compositeFilter:{op:WE(i.op),filters:r}}}(l):St(54877,{filter:l})}function Eg(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,i,r,u,h=Tt.min(),d=Tt.min(),p=Ue.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.yt=e}}function eT(l){const e=KE({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.Cn=new iT}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(ki.min())}updateCollectionGroup(e,i,r){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class iT{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new be(Wt.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new be(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bg=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(bg,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LruGarbageCollector",aT=1048576;function xg([l,e],[i,r]){const u=Mt(l,i);return u===0?Mt(e,r):u}class rT{constructor(e){this.Ir=e,this.buffer=new be(xg),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();xg(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sT{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Sg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>rt(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){xr(i)?lt(Sg,"Ignoring IndexedDB error during garbage collection: ",i):yield go(i)}yield this.Vr(3e5)}))}}class lT{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return K.resolve(po.ce);const r=new rT(i);return this.mr.forEachTarget(e,u=>r.Ar(u.sequenceNumber)).next(()=>this.mr.pr(e,u=>r.Ar(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Tg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tg):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,u,h,d,p,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),u=this.params.maximumSequenceNumbersToCollect):u=C,d=Date.now(),this.nthSequenceNumber(e,u))).next(C=>(r=C,p=Date.now(),this.removeTargets(e,r,i))).next(C=>(h=C,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(C=>(v=Date.now(),Er()<=Vt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${C} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:C})))}}function oT(l,e){return new lT(l,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.changes=new Na(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?K.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&Ys(r.mutation,u,Bi.empty(),me.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Bt()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Bt()){const u=Da();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Qs();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=Da();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Bt()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,r,u){let h=Gi();const d=Fs(),p=function(){return Fs()}();return i.forEach((_,v)=>{const S=r.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof Oo)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Ys(S.mutation,v,S.mutation.getFieldMask(),me.now())):d.set(v.key,Bi.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var C;return p.set(v,new cT(S,(C=d.get(v))!=null?C:null))}),p))}recalculateAndSaveOverlays(e,i){const r=Fs();let u=new oe((d,p)=>d-p),h=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=r.get(_)||Bi.empty();S=p.applyToLocalView(v,S),r.set(_,S);const C=(u.get(p.batchId)||Bt()).add(_);u=u.insert(p.batchId,C)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,C=$m();S.forEach(D=>{if(!h.has(D)){const G=ng(i.get(D),r.get(D));G!==null&&C.set(D,G),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,C))}return K.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):gE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):K.resolve(Da());let p=Ls,_=h;return d.next(v=>K.forEach(v,(S,C)=>(p<C.largestBatchId&&(p=C.largestBatchId),h.get(S)?K.resolve():this.remoteDocumentCache.getEntry(e,S).next(D=>{_=_.insert(S,D)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Bt())).next(S=>({batchId:p,changes:EE(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(r=>{let u=Qs();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Qs();return this.indexManager.getCollectionParents(e,h).next(p=>K.forEach(p,_=>{const v=function(C,D){return new Ao(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,u).next(S=>{S.forEach((C,D)=>{d=d.insert(C,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ye.newInvalidDocument(S)))});let p=Qs();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&Ys(S.mutation,v,Bi.empty(),me.now()),Co(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Cr(u.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(u){return{name:u.name,query:eT(u.bundledQuery),readTime:Cr(u.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Da();return K.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.St(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,i,r){const u=Da(),h=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new oe((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let S=h.get(v.largestBatchId);S===null&&(S=Da(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=Da(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>p.set(v,S)),!(p.size()>=u)););return K.resolve(p)}St(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new OE(i,r));let h=this.qr.get(i);h===void 0&&(h=Bt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.sessionToken=Ue.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.Qr=new be(De.$r),this.Ur=new be(De.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new De(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.Gr(new De(e,i))}zr(e,i){e.forEach(r=>this.removeReference(r,i))}jr(e){const i=new gt(new Wt([])),r=new De(i,e),u=new De(i,e+1),h=[];return this.Ur.forEachInRange([r,u],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),r=new De(i,e),u=new De(i,e+1);let h=Bt();return this.Ur.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new De(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class De{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new be(De.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VE(h,i,r,u);this.mutationQueue.push(d);for(const p of u)this.Zr=this.Zr.add(new De(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.ei(r),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Y1:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new De(i,0),u=new De(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,u],d=>{const p=this.Xr(d.Yr);h.push(p)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new be(Mt);return i.forEach(u=>{const h=new De(u,0),d=new De(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],p=>{r=r.add(p.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new De(new gt(h),0);let p=new be(Mt);return this.Zr.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Yr)),!0)},d),K.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(r=>{const u=this.Xr(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){ie(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(i.mutations,u=>{const h=new De(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,i){const r=new De(i,0),u=this.Zr.firstAfterOrEqual(r);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.ri=e,this.docs=function(){return new oe(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return K.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=Gi();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ye.newInvalidDocument(u))}),K.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Gi();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||H1(q1(S),r)<=0||(u.has(S.key)||Co(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,r,u){St(9500)}ii(e,i){return K.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new yT(this)}getSize(e){return K.resolve(this.size)}}class yT extends uT{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(r)}),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.persistence=e,this.si=new Na(i=>Kc(i),Zc),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new lh,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,i){return this.si.forEach((r,u)=>i(u)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),K.waitFor(h).next(()=>u)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return K.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),K.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return K.resolve(r)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,i){this.ui={},this.overlays={},this.ci=new po(0),this.li=!1,this.li=!0,this.hi=new mT,this.referenceDelegate=e(this),this.Pi=new vT(this),this.indexManager=new nT,this.remoteDocumentCache=function(u){return new pT(u)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tT(i),this.Ii=new fT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new dT,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new gT(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){lt("MemoryPersistence","Starting transaction:",e);const u=new _T(this.ci.next());return this.referenceDelegate.Ei(),r(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(e,i){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,i)))}}class _T extends Q1{constructor(e){super(),this.currentSequenceNumber=e}}class oh{constructor(e){this.persistence=e,this.Ri=new lh,this.Vi=null}static mi(e){return new oh(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),K.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(u=>this.fi.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const u=gt.fromPath(r);return this.gi(e,u).next(h=>{h||i.removeEntry(u,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Uo{constructor(e,i){this.persistence=e,this.pi=new Na(r=>X1(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=oT(this,i)}static mi(e,i){return new Uo(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}wr(e){let i=0;return this.pr(e,r=>{i++}).next(()=>i)}pr(e,i){return K.forEach(this.pi,(r,u)=>this.br(e,r,u).next(h=>h?K.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,d=>this.br(e,d,i).next(p=>{p||(r++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=bo(e.data.value)),i}br(e,i,r){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return K.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=u}static As(e,i){let r=Bt(),u=Bt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new uh(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return c_()?8:F1(o_())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ET;return this.Ss(e,i,d).next(p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>h.result)}bs(e,i,r,u){return r.documentReadCount<this.fs?(Er()<=Vt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Rr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Er()<=Vt.DEBUG&&lt("QueryEngine","Query:",Rr(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(Er()<=Vt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Rr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(i))):K.resolve())}ys(e,i){if(Ym(i))return K.resolve(null);let r=Qn(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Jc(i,null,"F"),r=Qn(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Bt(...h);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(e,Jc(i,null,"F")):this.vs(e,v,i,_)}))})))}ws(e,i,r,u){return Ym(i)||u.isEqual(Tt.min())?K.resolve(null):this.ps.getDocuments(e,r).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,u)?K.resolve(null):(Er()<=Vt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Rr(i)),this.vs(e,d,i,P1(u,Ls)).next(p=>p))})}Ds(e,i){let r=new be(Km(e));return i.forEach((u,h)=>{Co(e,h)&&(r=r.add(h))}),r}Cs(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,r){return Er()<=Vt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Rr(i)),this.ps.getDocumentsMatchingQuery(e,i,ki.min(),r)}vs(e,i,r,u){return this.ps.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="LocalStore",bT=3e8;class ST{constructor(e,i,r,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new oe(Mt),this.xs=new Na(h=>Kc(h),Zc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function xT(l,e,i,r){return new ST(l,e,i,r)}function wg(l,e){return rt(this,null,function*(){const i=Ot(l);return yield i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],p=[];let _=Bt();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(r,_).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:p}))})})})}function Rg(l){const e=Ot(l);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function AT(l,e){const i=Ot(l),r=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const p=[];e.targetChanges.forEach((S,C)=>{const D=u.get(C);if(!D)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,C).next(()=>i.Pi.addMatchingKeys(h,S.addedDocuments,C)));let G=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?G=G.withResumeToken(Ue.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,r)),u=u.insert(C,G),function($,J,_t){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=bT?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(D,G,S)&&p.push(i.Pi.updateTargetData(h,G))});let _=Gi(),v=Bt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),p.push(wT(h,d,e.documentUpdates).next(S=>{_=S.ks,v=S.qs})),!r.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next(C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r));p.push(S)}return K.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ms=u,h))}function wT(l,e,i){let r=Bt(),u=Bt();return i.forEach(h=>r=r.add(h)),e.getEntries(l,r).next(h=>{let d=Gi();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(Tt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):lt(ch,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{ks:d,qs:u}})}function RT(l,e){const i=Ot(l);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Pi.getTargetData(r,e).next(h=>h?(u=h,K.resolve(u)):i.Pi.allocateTargetId(r).next(d=>(u=new Qi(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ms.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r})}function hh(l,e,i){return rt(this,null,function*(){const r=Ot(l),u=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||(yield r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!xr(d))throw d;lt(ch,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(u.target)})}function Cg(l,e,i){const r=Ot(l);let u=Tt.min(),h=Bt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const C=Ot(_),D=C.xs.get(S);return D!==void 0?K.resolve(C.Ms.get(D)):C.Pi.getTargetData(v,S)}(r,d,Qn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Bt())).next(p=>(CT(r,yE(e),p),{documents:p,Qs:h})))}function CT(l,e,i){let r=l.Os.get(e)||Tt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),l.Os.set(e,r)}class Ng{constructor(){this.activeTargetIds=SE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NT{constructor(){this.Mo=new Ng,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ng,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="ConnectivityMonitor";class Mg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Dg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(Dg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function fh(){return Lo===null?Lo=function(){return 268435456+Math.round(2147483648*Math.random())}():Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="RestConnection",MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===Eo?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(e,i,r,u,h){const d=fh(),p=this.zo(e,i.toUriEncodedString());lt(dh,`Sending RPC '${e}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:v}=new URL(p),S=xc(v);return this.Jo(e,p,_,r,S).then(C=>(lt(dh,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Tr(dh,`RPC '${e}' ${d} failed with error: `,C,"url: ",p,"request:",r),C})}Ho(e,i,r,u,h,d){return this.Go(e,i,r,u,h)}jo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_r}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}zo(e,i){const r=MT[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class IT extends VT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,u,h){const d=fh();return new Promise((p,_)=>{const v=new um;v.setWithCredentials(!0),v.listenOnce(cm.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case mo.NO_ERROR:const C=v.getResponseJson();lt(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),p(C);break;case mo.TIMEOUT:lt(Xe,`RPC '${e}' ${d} timed out`),_(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case mo.HTTP_ERROR:const D=v.getStatus();if(lt(Xe,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const P=G==null?void 0:G.error;if(P&&P.status&&P.message){const $=function(_t){const dt=_t.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(dt)>=0?dt:tt.UNKNOWN}(P.status);_(new ct($,P.message))}else _(new ct(tt.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{lt(Xe,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(u);lt(Xe,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",S,r,15)})}T_(e,i,r){const u=fh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=dm(),p=fm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const S=h.join("");lt(Xe,`Creating RPC '${e}' stream ${u}: ${S}`,_);const C=d.createWebChannel(S,_);this.I_(C);let D=!1,G=!1;const P=new OT({Yo:J=>{G?lt(Xe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(D||(lt(Xe,`Opening RPC '${e}' stream ${u} transport.`),C.open(),D=!0),lt(Xe,`RPC '${e}' stream ${u} sending:`,J),C.send(J))},Zo:()=>C.close()}),$=(J,_t,dt)=>{J.listen(_t,ut=>{try{dt(ut)}catch(At){setTimeout(()=>{throw At},0)}})};return $(C,zs.EventType.OPEN,()=>{G||(lt(Xe,`RPC '${e}' stream ${u} transport opened.`),P.o_())}),$(C,zs.EventType.CLOSE,()=>{G||(G=!0,lt(Xe,`RPC '${e}' stream ${u} transport closed`),P.a_(),this.E_(C))}),$(C,zs.EventType.ERROR,J=>{G||(G=!0,Tr(Xe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),P.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),$(C,zs.EventType.MESSAGE,J=>{var _t;if(!G){const dt=J.data[0];ie(!!dt,16349);const ut=dt,At=(ut==null?void 0:ut.error)||((_t=ut[0])==null?void 0:_t.error);if(At){lt(Xe,`RPC '${e}' stream ${u} received error:`,At);const vt=At.status;let jt=function(R){const V=ge[R];if(V!==void 0)return lg(V)}(vt),O=At.message;jt===void 0&&(jt=tt.INTERNAL,O="Unknown error status: "+vt+" with message "+At.message),G=!0,P.a_(new ct(jt,O)),C.close()}else lt(Xe,`RPC '${e}' stream ${u} received:`,dt),P.u_(dt)}}),$(p,hm.STAT_EVENT,J=>{J.stat===zc.PROXY?lt(Xe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===zc.NOPROXY&&lt(Xe,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function mh(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(l){return new PE(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-r);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="PersistentStream";class jT{constructor(e,i,r,u,h,d,p,_){this.Mi=e,this.S_=r,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Og(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return rt(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return rt(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,i){return rt(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ci(i.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(i)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.D_===i&&this.G_(r,u)},r=>{e(()=>{const u=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)})})}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{r(()=>this.z_(u))}),this.stream.onMessage(u=>{r(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(()=>rt(this,null,function*(){this.state=0,this.start()}))}z_(e){return lt(Ig,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(lt(Ig,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zT extends jT{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=FE(this.serializer,e),r=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Cr(d.readTime):Tt.min()}(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=pg(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=$c(_)?{documents:YE(h,_)}:{query:XE(h,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HE(h,d.resumeToken);const v=ah(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=qE(h,d.snapshotVersion.toTimestamp());const v=ah(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const r=ZE(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=pg(this.serializer),i.removeTarget=e,this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class LT extends UT{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,rh(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(tt.UNKNOWN,h.toString())})}Ho(e,i,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,rh(i,r),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kT{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ci(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="RemoteStore";class BT{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{r.enqueueAndForget(()=>rt(this,null,function*(){$s(this)&&(lt(Vr,"Restarting streams for network reachability change."),yield function(_){return rt(this,null,function*(){const v=Ot(_);v.Ea.add(4),yield Zs(v),v.Ra.set("Unknown"),v.Ea.delete(4),yield ko(v)})}(this))}))}),this.Ra=new kT(r,u)}}function ko(l){return rt(this,null,function*(){if($s(l))for(const e of l.da)yield e(!0)})}function Zs(l){return rt(this,null,function*(){for(const e of l.da)yield e(!1)})}function jg(l,e){const i=Ot(l);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),vh(i)?yh(i):Or(i).O_()&&ph(i,e))}function gh(l,e){const i=Ot(l),r=Or(i);i.Ia.delete(e),r.O_()&&zg(i,e),i.Ia.size===0&&(r.O_()?r.L_():$s(i)&&i.Ra.set("Unknown"))}function ph(l,e){if(l.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Or(l).Y_(e)}function zg(l,e){l.Va.Ue(e),Or(l).Z_(e)}function yh(l){l.Va=new UE({getRemoteKeysForTarget:e=>l.remoteSyncer.getRemoteKeysForTarget(e),At:e=>l.Ia.get(e)||null,ht:()=>l.datastore.serializer.databaseId}),Or(l).start(),l.Ra.ua()}function vh(l){return $s(l)&&!Or(l).x_()&&l.Ia.size>0}function $s(l){return Ot(l).Ea.size===0}function Ug(l){l.Va=void 0}function PT(l){return rt(this,null,function*(){l.Ra.set("Online")})}function qT(l){return rt(this,null,function*(){l.Ia.forEach((e,i)=>{ph(l,e)})})}function HT(l,e){return rt(this,null,function*(){Ug(l),vh(l)?(l.Ra.ha(e),yh(l)):l.Ra.set("Unknown")})}function GT(l,e,i){return rt(this,null,function*(){if(l.Ra.set("Online"),e instanceof hg&&e.state===2&&e.cause)try{yield function(u,h){return rt(this,null,function*(){const d=h.cause;for(const p of h.targetIds)u.Ia.has(p)&&(yield u.remoteSyncer.rejectListen(p,d),u.Ia.delete(p),u.Va.removeTarget(p))})}(l,e)}catch(r){lt(Vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lg(l,r)}else if(e instanceof jo?l.Va.Ze(e):e instanceof cg?l.Va.st(e):l.Va.tt(e),!i.isEqual(Tt.min()))try{const r=yield Rg(l.localStore);i.compareTo(r)>=0&&(yield function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.Ia.get(v);S&&h.Ia.set(v,S.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const S=h.Ia.get(_);if(!S)return;h.Ia.set(_,S.withResumeToken(Ue.EMPTY_BYTE_STRING,S.snapshotVersion)),zg(h,_);const C=new Qi(S.target,_,v,S.sequenceNumber);ph(h,C)}),h.remoteSyncer.applyRemoteEvent(p)}(l,i))}catch(r){lt(Vr,"Failed to raise snapshot:",r),yield Lg(l,r)}})}function Lg(l,e,i){return rt(this,null,function*(){if(!xr(e))throw e;l.Ea.add(1),yield Zs(l),l.Ra.set("Offline"),i||(i=()=>Rg(l.localStore)),l.asyncQueue.enqueueRetryable(()=>rt(null,null,function*(){lt(Vr,"Retrying IndexedDB access"),yield i(),l.Ea.delete(1),yield ko(l)}))})}function kg(l,e){return rt(this,null,function*(){const i=Ot(l);i.asyncQueue.verifyOperationInProgress(),lt(Vr,"RemoteStore received new credentials");const r=$s(i);i.Ea.add(3),yield Zs(i),r&&i.Ra.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),yield ko(i)})}function QT(l,e){return rt(this,null,function*(){const i=Ot(l);e?(i.Ea.delete(2),yield ko(i)):e||(i.Ea.add(2),yield Zs(i),i.Ra.set("Unknown"))})}function Or(l){return l.ma||(l.ma=function(i,r,u){const h=Ot(i);return h.sa(),new zT(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(l.datastore,l.asyncQueue,{Xo:PT.bind(null,l),t_:qT.bind(null,l),r_:HT.bind(null,l),H_:GT.bind(null,l)}),l.da.push(e=>rt(null,null,function*(){e?(l.ma.B_(),vh(l)?yh(l):l.Ra.set("Unknown")):(yield l.ma.stop(),Ug(l))}))),l.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,p=new _h(e,i,d,u,h);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(l,e){if(ci("AsyncQueue",`${e}: ${l}`),xr(l))return new ct(tt.UNAVAILABLE,`${e}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{static emptySet(e){return new Ir(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Qs(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ir;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(){this.ga=new oe(gt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,r)=>{e.push(r)}),e}}class jr{constructor(e,i,r,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new jr(e,i,Ir.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ro(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class YT{constructor(){this.queries=qg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const u=Ot(i),h=u.queries;u.queries=qg(),h.forEach((d,p)=>{for(const _ of p.Sa)_.onError(r)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function qg(){return new Na(l=>Xm(l),Ro)}function Hg(l,e){return rt(this,null,function*(){const i=Ot(l);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(r=2):(h=new FT,r=e.Da()?0:1);try{switch(r){case 0:h.wa=yield i.onListen(u,!0);break;case 1:h.wa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(d){const p=Bg(d,`Initialization of query '${Rr(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Eh(i)})}function Gg(l,e){return rt(this,null,function*(){const i=Ot(l),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}})}function XT(l,e){const i=Ot(l);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(u)&&(r=!0);d.wa=u}}r&&Eh(i)}function KT(l,e,i){const r=Ot(l),u=r.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);r.queries.delete(e)}function Eh(l){l.Ca.forEach(e=>{e.next()})}var Th,Qg;(Qg=Th||(Th={})).Ma="default",Qg.Cache="cache";class Fg{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new jr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Th.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.key=e}}class Xg{constructor(e){this.key=e}}class ZT{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=Km(e),this.tu=new Ir(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new Pg,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,C)=>{const D=u.get(S),G=Co(this.query,C)?C:null,P=!!D&&this.mutatedKeys.has(D.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;D&&G?D.data.isEqual(G.data)?P!==$&&(r.track({type:3,doc:G}),J=!0):this.su(D,G)||(r.track({type:2,doc:G}),J=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!D&&G?(r.track({type:0,doc:G}),J=!0):D&&!G&&(r.track({type:1,doc:D}),J=!0,(_||v)&&(p=!0)),J&&(G?(d=d.add(G),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((S,C)=>function(G,P){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:J})}};return $(G)-$(P)}(S.type,C.type)||this.eu(S.doc,C.doc)),this.ou(r),u=u!=null?u:!1;const p=i&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new jr(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Pg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Bt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const i=[];return e.forEach(r=>{this.Xa.has(r)||i.push(new Xg(r))}),this.Xa.forEach(r=>{e.has(r)||i.push(new Yg(r))}),i}cu(e){this.Ya=e.Qs,this.Xa=Bt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bh="SyncEngine";class $T{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class JT{constructor(e){this.key=e,this.hu=!1}}class WT{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Na(p=>Xm(p),Ro),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new lh,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function tb(l,e,i=!0){return rt(this,null,function*(){const r=ep(l);let u;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=yield Kg(r,e,i,!0),u})}function eb(l,e){return rt(this,null,function*(){const i=ep(l);yield Kg(i,e,!0,!1)})}function Kg(l,e,i,r){return rt(this,null,function*(){const u=yield RT(l.localStore,Qn(e)),h=u.targetId,d=l.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=yield nb(l,e,h,d==="current",u.resumeToken)),l.isPrimaryClient&&i&&jg(l.remoteStore,u),p})}function nb(l,e,i,r,u){return rt(this,null,function*(){l.pu=(C,D,G)=>function($,J,_t,dt){return rt(this,null,function*(){let ut=J.view.ru(_t);ut.Cs&&(ut=yield Cg($.localStore,J.query,!1).then(({documents:O})=>J.view.ru(O,ut)));const At=dt&&dt.targetChanges.get(J.targetId),vt=dt&&dt.targetMismatches.get(J.targetId)!=null,jt=J.view.applyChanges(ut,$.isPrimaryClient,At,vt);return Wg($,J.targetId,jt.au),jt.snapshot})}(l,C,D,G);const h=yield Cg(l.localStore,e,!0),d=new ZT(e,h.Qs),p=d.ru(h.documents),_=Ks.createSynthesizedTargetChangeForCurrentChange(i,r&&l.onlineState!=="Offline",u),v=d.applyChanges(p,l.isPrimaryClient,_);Wg(l,i,v.au);const S=new $T(e,i,d);return l.Tu.set(e,S),l.Iu.has(i)?l.Iu.get(i).push(e):l.Iu.set(i,[e]),v.snapshot})}function ib(l,e,i){return rt(this,null,function*(){const r=Ot(l),u=r.Tu.get(e),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter(d=>!Ro(d,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||(yield hh(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&gh(r.remoteStore,u.targetId),Sh(r,u.targetId)}).catch(go))):(Sh(r,u.targetId),yield hh(r.localStore,u.targetId,!0))})}function ab(l,e){return rt(this,null,function*(){const i=Ot(l),r=i.Tu.get(e),u=i.Iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gh(i.remoteStore,r.targetId))})}function Zg(l,e){return rt(this,null,function*(){const i=Ot(l);try{const r=yield AT(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Au.get(h);d&&(ie(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?ie(d.hu,14607):u.removedDocuments.size>0&&(ie(d.hu,42227),d.hu=!1))}),yield tp(i,r,e)}catch(r){yield go(r)}})}function $g(l,e,i){const r=Ot(l);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Tu.forEach((h,d)=>{const p=d.view.va(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=Ot(d);_.onlineState=p;let v=!1;_.queries.forEach((S,C)=>{for(const D of C.Sa)D.va(p)&&(v=!0)}),v&&Eh(_)}(r.eventManager,e),u.length&&r.Pu.H_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rb(l,e,i){return rt(this,null,function*(){const r=Ot(l);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Au.get(e),h=u&&u.key;if(h){let d=new oe(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const p=Bt().add(h),_=new Io(Tt.min(),new Map,new oe(Mt),d,p);yield Zg(r,_),r.du=r.du.remove(h),r.Au.delete(e),xh(r)}else yield hh(r.localStore,e,!1).then(()=>Sh(r,e,i)).catch(go)})}function Sh(l,e,i=null){l.sharedClientState.removeLocalQueryTarget(e);for(const r of l.Iu.get(e))l.Tu.delete(r),i&&l.Pu.yu(r,i);l.Iu.delete(e),l.isPrimaryClient&&l.Ru.jr(e).forEach(r=>{l.Ru.containsKey(r)||Jg(l,r)})}function Jg(l,e){l.Eu.delete(e.path.canonicalString());const i=l.du.get(e);i!==null&&(gh(l.remoteStore,i),l.du=l.du.remove(e),l.Au.delete(i),xh(l))}function Wg(l,e,i){for(const r of i)r instanceof Yg?(l.Ru.addReference(r.key,e),sb(l,r)):r instanceof Xg?(lt(bh,"Document no longer in limbo: "+r.key),l.Ru.removeReference(r.key,e),l.Ru.containsKey(r.key)||Jg(l,r.key)):St(19791,{wu:r})}function sb(l,e){const i=e.key,r=i.path.canonicalString();l.du.get(i)||l.Eu.has(r)||(lt(bh,"New document in limbo: "+i),l.Eu.add(r),xh(l))}function xh(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const e=l.Eu.values().next().value;l.Eu.delete(e);const i=new gt(Wt.fromString(e)),r=l.fu.next();l.Au.set(r,new JT(i)),l.du=l.du.insert(i,r),jg(l.remoteStore,new Qi(Qn(wo(i.path)),r,"TargetPurposeLimboResolution",po.ce))}}function tp(l,e,i){return rt(this,null,function*(){const r=Ot(l),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((p,_)=>{d.push(r.pu(_,e,i).then(v=>{var S;if((v||i)&&r.isPrimaryClient){const C=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(_.targetId,C?"current":"not-current")}if(v){u.push(v);const C=uh.As(_.targetId,v);h.push(C)}}))}),yield Promise.all(d),r.Pu.H_(u),yield function(_,v){return rt(this,null,function*(){const S=Ot(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(v,D=>K.forEach(D.Es,G=>S.persistence.referenceDelegate.addReference(C,D.targetId,G)).next(()=>K.forEach(D.ds,G=>S.persistence.referenceDelegate.removeReference(C,D.targetId,G)))))}catch(C){if(!xr(C))throw C;lt(ch,"Failed to update sequence numbers: "+C)}for(const C of v){const D=C.targetId;if(!C.fromCache){const G=S.Ms.get(D),P=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(P);S.Ms=S.Ms.insert(D,$)}}})}(r.localStore,h))})}function lb(l,e){return rt(this,null,function*(){const i=Ot(l);if(!i.currentUser.isEqual(e)){lt(bh,"User change. New user:",e.toKey());const r=yield wg(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(p=>{p.forEach(_=>{_.reject(new ct(tt.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tp(i,r.Ls)}})}function ob(l,e){const i=Ot(l),r=i.Au.get(e);if(r&&r.hu)return Bt().add(r.key);{let u=Bt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const p=i.Tu.get(d);u=u.unionWith(p.view.nu)}return u}}function ep(l){const e=Ot(l);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rb.bind(null,e),e.Pu.H_=XT.bind(null,e.eventManager),e.Pu.yu=KT.bind(null,e.eventManager),e}class Bo{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return rt(this,null,function*(){this.serializer=Vg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,i){return null}Mu(e,i){return null}vu(e){return xT(this.persistence,new TT,e.initialUser,this.serializer)}Cu(e){return new Ag(oh.mi,this.serializer)}Du(e){return new NT}terminate(){return rt(this,null,function*(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}Bo.provider={build:()=>new Bo};class ub extends Bo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ie(this.persistence.referenceDelegate instanceof Uo,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sT(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new Ag(r=>Uo.mi(r,i),this.serializer)}}class Ah{initialize(e,i){return rt(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$g(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lb.bind(null,this.syncEngine),yield QT(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new YT}()}createDatastore(e){const i=Vg(e.databaseInfo.databaseId),r=function(h){return new IT(h)}(e.databaseInfo);return function(h,d,p,_){return new LT(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,p){return new BT(r,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>$g(this.syncEngine,i,0),function(){return Mg.v()?new Mg:new DT}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,S){const C=new WT(u,h,d,p,_,v);return S&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return rt(this,null,function*(){var e,i;yield function(u){return rt(this,null,function*(){const h=Ot(u);lt(Vr,"RemoteStore shutting down."),h.Ea.add(5),yield Zs(h),h.Aa.shutdown(),h.Ra.set("Unknown")})}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()})}}Ah.provider={build:()=>new Ah};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class cb{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=Lc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,d=>rt(this,null,function*(){lt(Fi,"Received user=",d.uid),yield this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,d=>(lt(Fi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>rt(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Bg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function wh(l,e){return rt(this,null,function*(){l.asyncQueue.verifyOperationInProgress(),lt(Fi,"Initializing OfflineComponentProvider");const i=l.configuration;yield e.initialize(i);let r=i.initialUser;l.setCredentialChangeListener(u=>rt(null,null,function*(){r.isEqual(u)||(yield wg(e.localStore,u),r=u)})),e.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=e})}function ip(l,e){return rt(this,null,function*(){l.asyncQueue.verifyOperationInProgress();const i=yield hb(l);lt(Fi,"Initializing OnlineComponentProvider"),yield e.initialize(i,l.configuration),l.setCredentialChangeListener(r=>kg(e.remoteStore,r)),l.setAppCheckTokenChangeListener((r,u)=>kg(e.remoteStore,u)),l._onlineComponents=e})}function hb(l){return rt(this,null,function*(){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){lt(Fi,"Using user provided OfflineComponentProvider");try{yield wh(l,l._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===tt.FAILED_PRECONDITION||u.code===tt.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),yield wh(l,new Bo)}}else lt(Fi,"Using default OfflineComponentProvider"),yield wh(l,new ub(void 0));return l._offlineComponents})}function fb(l){return rt(this,null,function*(){return l._onlineComponents||(l._uninitializedComponentsProvider?(lt(Fi,"Using user provided OnlineComponentProvider"),yield ip(l,l._uninitializedComponentsProvider._online)):(lt(Fi,"Using default OnlineComponentProvider"),yield ip(l,new Ah))),l._onlineComponents})}function Rh(l){return rt(this,null,function*(){const e=yield fb(l),i=e.eventManager;return i.onListen=tb.bind(null,e.syncEngine),i.onUnlisten=ib.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=eb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ab.bind(null,e.syncEngine),i})}function db(l,e,i={}){const r=new Ca;return l.asyncQueue.enqueueAndForget(()=>rt(null,null,function*(){return function(h,d,p,_,v){const S=new np({next:D=>{S.Nu(),d.enqueueAndForget(()=>Gg(h,C));const G=D.docs.has(p);!G&&D.fromCache?v.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&_&&_.source==="server"?v.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),C=new Fg(wo(p.path),S,{includeMetadataChanges:!0,qa:!0});return Hg(h,C)}(yield Rh(l),l.asyncQueue,e,i,r)})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(l){const e={};return l.timeoutSeconds!==void 0&&(e.timeoutSeconds=l.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="firestore.googleapis.com",lp=!0;class op{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sp,this.ssl=lp}else this.host=e.host,this.ssl=(i=e.ssl)!=null?i:lp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aT)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ap((r=e.experimentalLongPollingOptions)!=null?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Po{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new op({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new op(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C1;switch(r.type){case"firstParty":return new V1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return rt(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=rp.get(i);r&&(lt("ComponentProvider","Removing Datastore"),rp.delete(i),r.terminate())}(this),Promise.resolve()}}function mb(l,e,i,r={}){var v;l=Sr(l,Po);const u=xc(e),h=l._getSettings(),d=pr(rn({},h),{emulatorOptions:l._getEmulatorOptions()}),p=`${e}:${i}`;u&&(i_(`https://${p}`),l_("Firestore",!0)),h.host!==sp&&h.host!==p&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=pr(rn({},h),{host:p,ssl:u,emulatorOptions:r});if(!uo(_,d)&&(l._setSettings(_),r.mockUserToken)){let S,C;if(typeof r.mockUserToken=="string")S=r.mockUserToken,C=Fe.MOCK_USER;else{S=a_(r.mockUserToken,(v=l._app)==null?void 0:v.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Fe(D)}l._authCredentials=new N1(new ym(S,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qo(this.firestore,e,this._query)}}class Le{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Le(this.firestore,e,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Us(i,Le._jsonSchema))return new Le(e,r||null,new gt(Wt.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:de("string",Le._jsonSchemaVersion),referencePath:de("string")};class Yi extends qo{constructor(e,i,r){super(e,i,wo(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Le(this.firestore,null,new gt(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Ho(l,e,...i){if(l=Ac(l),Em("collection","path",e),l instanceof Po){const r=Wt.fromString(e,...i);return bm(r),new Yi(l,null,r)}{if(!(l instanceof Le||l instanceof Yi))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(Wt.fromString(e,...i));return bm(r),new Yi(l.firestore,null,r)}}function Go(l,e,...i){if(l=Ac(l),arguments.length===1&&(e=Lc.newId()),Em("doc","path",e),l instanceof Po){const r=Wt.fromString(e,...i);return Tm(r),new Le(l,null,new gt(r))}{if(!(l instanceof Le||l instanceof Yi))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=l._path.child(Wt.fromString(e,...i));return Tm(r),new Le(l.firestore,l instanceof Yi?l.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="AsyncQueue";class cp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Og(this,"async_queue_retry"),this._c=()=>{const r=mh();r&&lt(up,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=mh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=mh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Ca;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return rt(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xr(e))throw e;lt(up,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ci("INTERNAL UNHANDLED ERROR: ",hp(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=_h.createAndSchedule(this,e,i,r,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&St(47125,{Pc:hp(this.nc)})}verifyOperationInProgress(){}Tc(){return rt(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function hp(l){let e=l.message||"";return l.stack&&(e=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(l){return function(i,r){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of r)if(h in u&&typeof u[h]=="function")return!0;return!1}(l,["next","error","complete"])}class Qo extends Po{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new cp,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}_terminate(){return rt(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cp(e),this._firestoreClient=void 0,yield e}})}}function gb(l,e){const i=typeof l=="object"?l:y1(),r=typeof l=="string"?l:Eo,u=f1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=e_("firestore");h&&mb(u,...h)}return u}function dp(l){if(l._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||pb(l),l._firestoreClient}function pb(l){var r,u,h;const e=l._freezeSettings(),i=function(p,_,v,S){return new J1(p,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,ap(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(l._databaseId,((r=l._app)==null?void 0:r.options.appId)||"",l._persistenceKey,e);l._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(l._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),l._firestoreClient=new cb(l._authCredentials,l._appCheckCredentials,l._queue,i,l._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Ue.fromBase64String(e))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Fn(Ue.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Us(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:de("string",Fn._jsonSchemaVersion),bytes:de("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Us(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:de("string",Xi._jsonSchemaVersion),latitude:de("number"),longitude:de("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Us(e,Ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new Ki(e.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:de("string",Ki._jsonSchemaVersion),vectorValues:de("object")};const yb=new RegExp("[~\\*/\\[\\]]");function vb(l,e,i){if(e.search(yb)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,l);try{return new mp(...e.split("."))._internalPath}catch(r){throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l)}}function gp(l,e,i,r,u){let h=`Function ${e}() called with invalid data`;h+=". ";let d="";return new ct(tt.INVALID_ARGUMENT,h+l+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(yp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _b extends pp{data(){return super.data()}}function yp(l,e){return typeof e=="string"?vb(l,e):e instanceof mp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(l){if(l.limitType==="L"&&l.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tb{convertValue(e,i="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ks(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var r,u,h;const i=(h=(u=(r=e.fields)==null?void 0:r[Hc].arrayValue)==null?void 0:u.values)==null?void 0:h.map(d=>ue(d.doubleValue));return new Ki(i)}convertGeoPoint(e){return new Xi(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=_o(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bs(e));default:return null}}convertTimestamp(e){const i=Pi(e);return new me(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);ie(Eg(r),9688,{name:e});const u=new Ps(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return u.isEqual(i)||ci(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class Js{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends pp{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(yp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:de("string",Va._jsonSchemaVersion),bundleSource:de("string","DocumentSnapshot"),bundleName:de("string"),bundle:de("string")};class Fo extends Va{data(e={}){return super.data(e)}}class zr{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Js(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new Fo(this._firestore,this._userDataWriter,r.key,r,new Js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Fo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Js(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Fo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Js(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:bb(p.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bb(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(l){l=Sr(l,Le);const e=Sr(l.firestore,Qo);return db(dp(e),l._key).then(i=>_p(e,l,i))}zr._jsonSchemaVersion="firestore/querySnapshot/1.0",zr._jsonSchema={type:de("string",zr._jsonSchemaVersion),bundleSource:de("string","QuerySnapshot"),bundleName:de("string"),bundle:de("string")};class vp extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function Sb(l,...e){var _,v,S;l=Ac(l);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fp(e[r])||(i=e[r++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fp(e[r])){const C=e[r];e[r]=(_=C.next)==null?void 0:_.bind(C),e[r+1]=(v=C.error)==null?void 0:v.bind(C),e[r+2]=(S=C.complete)==null?void 0:S.bind(C)}let h,d,p;if(l instanceof Le)d=Sr(l.firestore,Qo),p=wo(l._key.path),h={next:C=>{e[r]&&e[r](_p(d,l,C))},error:e[r+1],complete:e[r+2]};else{const C=Sr(l,qo);d=Sr(C.firestore,Qo),p=C._query;const D=new vp(d);h={next:G=>{e[r]&&e[r](new zr(d,D,C,G))},error:e[r+1],complete:e[r+2]},Eb(l._query)}return function(D,G,P,$){const J=new np($),_t=new Fg(G,J,P);return D.asyncQueue.enqueueAndForget(()=>rt(null,null,function*(){return Hg(yield Rh(D),_t)})),()=>{J.Nu(),D.asyncQueue.enqueueAndForget(()=>rt(null,null,function*(){return Gg(yield Rh(D),_t)}))}}(dp(d),p,u,h)}function _p(l,e,i){const r=i.docs.get(e._key),u=new vp(l);return new Va(l,u,e._key,r,new Js(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){_r=u})(p1),ho(new Is("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Qo(new D1(r.getProvider("auth-internal")),new O1(d,r.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ps(v.options.projectId,S)}(d,u),d);return h=rn({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),vr(mm,gm,e),vr(mm,gm,"esm2020")})();var xb="firebase",Ab="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(xb,Ab,"app");const wb={apiKey:"AIzaSyAA_wfbF0ytUY3Qnd0YC9qHhkXO8QPC_iE",authDomain:"owenscup.firebaseapp.com",projectId:"owenscup",storageBucket:"owenscup.firebasestorage.app",messagingSenderId:"719761938656",appId:"1:719761938656:android:af1796bfe8a9848d0a9885",measurementId:"G-E11GSM385Z"};let Ep,Oa;try{console.log("Initializing Firebase..."),Ep=em(wb),Oa=gb(Ep),console.log("Firebase initialized successfully")}catch(l){throw console.error("Firebase initialization error:",l),l}Ho(Oa,"teams"),Ho(Oa,"players"),Ho(Oa,"tournaments"),Ho(Oa,"matches");const Nh=(l="hyBfhSIYRsMno2VYRRfIgPT8EmN2")=>rt(null,null,function*(){try{console.log("Fetching user tournament data for userId:",l);const e=Go(Oa,"users",l,"tournament","current");console.log("Looking for document at path: users/",l,"/tournament/current");const i=yield Ch(e);if(i.exists()){const r=i.data();console.log("User tournament data:",r),console.log("Data keys:",Object.keys(r)),console.log("Data structure details:"),Object.entries(r).forEach(([h,d])=>{console.log(`Key: ${h}, Type: ${typeof d}, Value:`,d)});let u=[];return r.confirmedTeams?u=r.confirmedTeams.map((h,d)=>({id:h.id||`team-${d}`,name:h.name,captain:h.captain,manager:h.manager,color:h.color,icon:h.icon,players:h.players})):r.semiFinal1&&r.semiFinal1.teams?u=Object.entries(r.semiFinal1.teams).map(([h,d])=>({id:d.id||h,name:d.name,captain:d.captain,manager:d.manager,color:d.color,icon:d.icon,players:d.players})):r.final&&r.final.teams?u=Object.entries(r.final.teams).map(([h,d])=>({id:d.id||h,name:d.name,captain:d.captain,manager:d.manager,color:d.color,icon:d.icon,players:d.players})):u=Object.entries(r).filter(([h,d])=>typeof d=="object"&&d!==null&&d.name).map(([h,d])=>({id:d.id||h,name:d.name,captain:d.captain,manager:d.manager,color:d.color,icon:d.icon,players:d.players})),console.log("Converted teams:",u),{teams:u,tournaments:[],rawData:r}}else return console.log("No user tournament data found at path: users/",l,"/tournament/current"),console.log("Document does not exist. Check the user ID and path in Firebase console."),{teams:[],tournaments:[]}}catch(e){return console.error("Error fetching user tournament data:",e),{teams:[],tournaments:[]}}}),Dh=Oa,Tp=Ne.createContext(void 0),Ur=()=>{const l=Ne.useContext(Tp);if(!l)throw new Error("useData must be used within a DataProvider");return l},Rb=({children:l,userId:e="hyBfhSIYRsMno2VYRRfIgPT8EmN2"})=>{const[i,r]=Ne.useState({rawData:null,tournaments:[],teams:[],allPlayers:[],activeMatches:[],playerRankings:[],isLoading:!0,lastUpdated:new Date,error:null}),u=S=>{var J,_t,dt,ut,At,vt,jt,O,x,R,V,I,z,w,pe,te,Q,nt,ht,zt,N,Z,it,W;const C=[],D=[],G=[],P=[],$=[];if(S.confirmedTeams&&C.push(...S.confirmedTeams),C.forEach(at=>{if(at.players){const mt=at.players.split(",").map(st=>({id:`${at.id}-${st.trim()}`,name:st.trim(),team:at.name,score:0,wins:0,losses:0}));D.push(...mt)}}),S.semiFinal1){const at={id:"semi-final-1",name:"Owens Cup 2024 - Semifinal A",status:"active",players:D.filter(mt=>C.some(st=>{var Dt,bt,Ke,on,We,fn;return st.name===mt.team&&(st.name===((Ke=(bt=(Dt=S.semiFinal1)==null?void 0:Dt.teams)==null?void 0:bt[0])==null?void 0:Ke.name)||st.name===((fn=(We=(on=S.semiFinal1)==null?void 0:on.teams)==null?void 0:We[1])==null?void 0:fn.name))})),matches:[],currentRound:1,totalRounds:3,overallScore:{team1Score:((_t=(J=S.semiFinal1)==null?void 0:J.teamScores)==null?void 0:_t[0])||0,team2Score:((ut=(dt=S.semiFinal1)==null?void 0:dt.teamScores)==null?void 0:ut[1])||0,team1Name:((At=C.find(mt=>{var st,Dt,bt;return mt.name===((bt=(Dt=(st=S.semiFinal1)==null?void 0:st.teams)==null?void 0:Dt[0])==null?void 0:bt.name)}))==null?void 0:At.name)||"Team 1",team2Name:((vt=C.find(mt=>{var st,Dt,bt;return mt.name===((bt=(Dt=(st=S.semiFinal1)==null?void 0:st.teams)==null?void 0:Dt[1])==null?void 0:bt.name)}))==null?void 0:vt.name)||"Team 2"}};G.push(at)}if(S.semiFinal2){const at={id:"semi-final-2",name:"Owens Cup 2024 - Semifinal B",status:"active",players:D.filter(mt=>C.some(st=>{var Dt,bt,Ke,on,We,fn;return st.name===mt.team&&(st.name===((Ke=(bt=(Dt=S.semiFinal2)==null?void 0:Dt.teams)==null?void 0:bt[0])==null?void 0:Ke.name)||st.name===((fn=(We=(on=S.semiFinal2)==null?void 0:on.teams)==null?void 0:We[1])==null?void 0:fn.name))})),matches:[],currentRound:1,totalRounds:3,overallScore:{team1Score:((O=(jt=S.semiFinal2)==null?void 0:jt.teamScores)==null?void 0:O[0])||0,team2Score:((R=(x=S.semiFinal2)==null?void 0:x.teamScores)==null?void 0:R[1])||0,team1Name:((V=C.find(mt=>{var st,Dt,bt;return mt.name===((bt=(Dt=(st=S.semiFinal2)==null?void 0:st.teams)==null?void 0:Dt[0])==null?void 0:bt.name)}))==null?void 0:V.name)||"Team 3",team2Name:((I=C.find(mt=>{var st,Dt,bt;return mt.name===((bt=(Dt=(st=S.semiFinal2)==null?void 0:st.teams)==null?void 0:Dt[1])==null?void 0:bt.name)}))==null?void 0:I.name)||"Team 4"}};G.push(at)}if(S.final){const at={id:"tournament-final",name:"Owens Cup 2024 - FINAL",status:"active",players:D,matches:[],currentRound:3,totalRounds:3,overallScore:{team1Score:((w=(z=S.final)==null?void 0:z.teamScores)==null?void 0:w[0])||((pe=S.final)==null?void 0:pe.team1Score)||0,team2Score:((Q=(te=S.final)==null?void 0:te.teamScores)==null?void 0:Q[1])||((nt=S.final)==null?void 0:nt.team2Score)||0,team1Name:((N=(zt=(ht=S.final)==null?void 0:ht.teams)==null?void 0:zt[0])==null?void 0:N.name)||"Warriors",team2Name:((W=(it=(Z=S.final)==null?void 0:Z.teams)==null?void 0:it[1])==null?void 0:W.name)||"Cavs"}};G.push(at)}return $.push(...D.map(at=>({playerId:at.id,playerName:at.name,teamName:at.team||"",wins:at.wins||0,losses:at.losses||0,winRate:(at.losses||0)>0?(at.wins||0)/((at.wins||0)+(at.losses||0)):(at.wins||0)>0?1:0})).sort((at,mt)=>mt.winRate-at.winRate)),{rawData:S,tournaments:G,teams:C,allPlayers:D,activeMatches:P,playerRankings:$,isLoading:!1,lastUpdated:new Date,error:null}};Ne.useEffect(()=>{console.log("Setting up real-time Firebase listener...");const S=Go(Dh,"users",e,"tournament","current"),C=Sb(S,D=>{if(D.exists()){const G=D.data();console.log("Real-time Firebase update received:",G);const P=u(G);r(P)}else console.log("No tournament data found"),r(G=>pr(rn({},G),{isLoading:!1,error:"No tournament data found"}))},D=>{console.error("Firebase listener error:",D),r(G=>pr(rn({},G),{isLoading:!1,error:D.message}))});return()=>{console.log("Cleaning up Firebase listener"),C()}},[e]);const v={data:i,refreshData:()=>{r(S=>pr(rn({},S),{isLoading:!0}))},getTeamById:S=>i.teams.find(C=>C.id===S),getPlayerById:S=>i.allPlayers.find(C=>C.id===S),getActiveTournament:()=>i.tournaments.find(S=>S.status==="active")};return E.jsx(Tp.Provider,{value:v,children:l})},Cb=({tournamentManager:l,displaySize:e="full-screen"})=>{const i=Object.values(l.tournaments),r=i.find(d=>d.id==="tournament-final"),u=r&&r.overallScore&&((r.overallScore.team1Score||0)>0||(r.overallScore.team2Score||0)>0);console.log("Final tournament:",r),console.log("Is finals active:",u),console.log("Final scores:",r==null?void 0:r.overallScore);const h=u?[r]:i.filter(d=>d.id!=="tournament-final");return E.jsxs("div",{className:"tournament-info","data-display-size":e,children:[E.jsx("h1",{className:"main-tournament-name",children:"OWENS CUP"}),E.jsx("div",{className:"live-badge",children:E.jsx("span",{className:"status-badge status-active",children:"LIVE"})}),h.map(d=>E.jsxs("div",{className:"tournament-card",children:[E.jsx("h3",{className:"tournament-card-name",children:d.name.includes("Semifinal A")?"SEMIFINAL A":d.name.includes("Semifinal B")?"SEMIFINAL B":"FINAL"}),d.overallScore&&E.jsxs("div",{className:"tournament-score-display",children:[E.jsx("span",{className:"tournament-team-name",children:d.overallScore.team1Name}),E.jsxs("span",{className:`tournament-team-points ${d.overallScore.team1Score>=5?"winner":""}`,children:[d.overallScore.team1Score,d.overallScore.team1Score>=5&&E.jsx("span",{className:"winner-indicator",children:""})]}),E.jsx("span",{className:"tournament-score-separator",children:"-"}),E.jsxs("span",{className:`tournament-team-points ${d.overallScore.team2Score>=5?"winner":""}`,children:[d.overallScore.team2Score,d.overallScore.team2Score>=5&&E.jsx("span",{className:"winner-indicator",children:""})]}),E.jsx("span",{className:"tournament-team-name",children:d.overallScore.team2Name})]}),d.featuredMatch&&E.jsxs("div",{className:"tournament-match-display",children:[E.jsx("span",{className:"tournament-player-name",children:d.featuredMatch.player1.name}),E.jsx("span",{className:"tournament-player-wins",children:d.featuredMatch.player1Wins}),E.jsx("span",{className:"tournament-match-vs",children:"vs"}),E.jsx("span",{className:"tournament-player-wins",children:d.featuredMatch.player2Wins}),E.jsx("span",{className:"tournament-player-name",children:d.featuredMatch.player2.name})]}),d.featuredMatch&&E.jsxs("div",{className:"tournament-match-status",children:["Race to ",d.featuredMatch.raceTo]})]},d.id))]})},bp=()=>{var u,h;const{data:l,getActiveTournament:e}=Ur(),i={tournamentManager:{tournaments:l.tournaments.reduce((d,p)=>(d[p.id]=p,d),{}),activeTournamentId:((u=e())==null?void 0:u.id)||"tournament-final",globalFeaturedMatch:null,globalOverallScore:((h=e())==null?void 0:h.overallScore)||null}};if(l.isLoading)return E.jsx("div",{className:"loading",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"24px",color:"blue"},children:"Loading tournament data..."});if(l.error)return E.jsx("div",{style:{padding:"20px",backgroundColor:"red",color:"white",fontSize:"18px"},children:E.jsxs("h2",{children:[" Error loading data: ",l.error]})});const{tournamentManager:r}=i;return E.jsxs("div",{className:"overlay-container",children:[E.jsx("main",{className:"overlay-main",children:E.jsx(Cb,{tournamentManager:r,displaySize:"overlay"})}),E.jsxs("div",{className:"last-updated",children:["Last updated: ",l.lastUpdated.toLocaleTimeString()]})]})},Nb=()=>{var C,D,G,P;const{data:l}=Ur();if(l.isLoading)return E.jsx("div",{className:"match1-loading",children:"Loading Match 1 data..."});if(l.error)return E.jsxs("div",{className:"match1-error",children:["Error: ",l.error]});const e=l.rawData,i=e==null?void 0:e.semiFinal1,r=(e==null?void 0:e.confirmedTeams)||[],u=((C=r[0])==null?void 0:C.name)||"Team 1",h=((D=r[1])==null?void 0:D.name)||"Team 2",d=(i==null?void 0:i.team1Score)||((G=i==null?void 0:i.teamScores)==null?void 0:G[0])||0,p=(i==null?void 0:i.team2Score)||((P=i==null?void 0:i.teamScores)==null?void 0:P[1])||0,_=l.allPlayers.filter($=>$.team===u||$.team===h),v=_.filter($=>$.team===u),S=_.filter($=>$.team===h);return E.jsxs("div",{className:"match1-display",children:[E.jsx("div",{className:"match1-header",children:E.jsx("h3",{children:"Match 1: Semifinal 1"})}),E.jsxs("div",{className:"main-match-score",children:[E.jsxs("div",{className:"team-score left-team",children:[E.jsx("div",{className:"team-icon",children:""}),E.jsx("div",{className:"team-name",children:u}),E.jsx("div",{className:"score",children:d})]}),E.jsx("div",{className:"score-separator",children:"-"}),E.jsxs("div",{className:"team-score right-team",children:[E.jsx("div",{className:"score",children:p}),E.jsx("div",{className:"team-name",children:h}),E.jsx("div",{className:"team-icon",children:""})]})]}),E.jsxs("div",{className:"match-card",children:[E.jsx("div",{className:"match-card-header",children:E.jsx("h4",{children:"Match 1: Team Match"})}),E.jsxs("div",{className:"match-details",children:[E.jsxs("p",{children:["Players: ",v.map($=>$.name).join(", ")]}),E.jsxs("p",{children:["Race to ",(e==null?void 0:e.raceToScore)||5]})]}),E.jsxs("div",{className:"team-scores",children:[E.jsxs("div",{className:"team-score-card left",children:[E.jsx("div",{className:"team-icon",children:""}),E.jsx("div",{className:"team-name",children:u}),E.jsx("div",{className:"score",children:d}),(i==null?void 0:i.winner)===u&&E.jsx("div",{className:"status-badge completed",children:"Completed"})]}),E.jsxs("div",{className:"team-score-card right",children:[E.jsx("div",{className:"team-icon",children:""}),E.jsx("div",{className:"team-name",children:h}),E.jsx("div",{className:"score",children:p}),(i==null?void 0:i.winner)===h&&E.jsx("div",{className:"status-badge completed",children:"Completed"})]})]})]}),E.jsxs("div",{className:"match-card",children:[E.jsx("div",{className:"match-card-header",children:E.jsx("h4",{children:"Match 2: 1st Doubles"})}),E.jsxs("div",{className:"match-details",children:[E.jsxs("p",{children:["Players:"," ",v.slice(0,2).map($=>$.name).join(", ")]}),E.jsxs("p",{children:["Race to ",(e==null?void 0:e.raceToScore)||5]})]}),E.jsxs("div",{className:"team-scores",children:[E.jsxs("div",{className:"team-score-card left",children:[E.jsx("div",{className:"team-icon",children:""}),E.jsx("div",{className:"team-name",children:v.slice(0,2).map($=>$.name).join(", ")}),E.jsx("div",{className:"score",children:"5"}),E.jsx("div",{className:"status-badge completed",children:"Completed"})]}),E.jsxs("div",{className:"team-score-card right",children:[E.jsx("div",{className:"team-icon",children:""}),E.jsx("div",{className:"team-name",children:S.slice(0,2).map($=>$.name).join(", ")}),E.jsx("div",{className:"score",children:"2"})]})]})]}),E.jsxs("div",{className:"players-section",children:[E.jsx("h4",{children:"All Players"}),E.jsxs("div",{className:"players-container",children:[E.jsxs("div",{className:"team-players left-team",children:[E.jsxs("h5",{children:[u," Players:"]}),E.jsx("div",{className:"players-list",children:v.map($=>E.jsxs("div",{className:"player-item",children:[E.jsx("span",{className:"player-name",children:$.name}),E.jsxs("span",{className:"player-stats",children:["W: ",$.wins||0," L: ",$.losses||0]})]},$.id))})]}),E.jsxs("div",{className:"team-players right-team",children:[E.jsxs("h5",{children:[h," Players:"]}),E.jsx("div",{className:"players-list",children:S.map($=>E.jsxs("div",{className:"player-item",children:[E.jsx("span",{className:"player-name",children:$.name}),E.jsxs("span",{className:"player-stats",children:["W: ",$.wins||0," L: ",$.losses||0]})]},$.id))})]})]})]}),E.jsxs("div",{className:"match-status-card",children:[E.jsx("div",{className:"status-header",children:E.jsx("h4",{children:"Match Status"})}),E.jsxs("div",{className:"status-details",children:[E.jsxs("p",{children:["Current Match: ",(i==null?void 0:i.currentMatch)||"Not started"]}),E.jsxs("p",{children:["Winner: ",(i==null?void 0:i.winner)||"None"]}),E.jsxs("p",{children:["Race to ",(e==null?void 0:e.raceToScore)||5]})]})]}),E.jsxs("div",{className:"match-progress-card",children:[E.jsx("h4",{children:"Match Progress"}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-fill",style:{width:`${Math.max(d,p)/((e==null?void 0:e.raceToScore)||5)*100}%`}})}),E.jsxs("div",{className:"progress-text",children:[Math.max(d,p)," / ",(e==null?void 0:e.raceToScore)||5," ","points"]})]}),(i==null?void 0:i.winner)&&E.jsx("div",{className:"winner-announcement",children:E.jsxs("div",{className:"winner-badge",children:[E.jsx("span",{className:"trophy",children:""}),E.jsxs("span",{className:"winner-text",children:["WINNER: ",i.winner]})]})})]})},Sp=()=>{var d,p,_,v,S,C,D,G;const{data:l}=Ur();if(l.isLoading)return E.jsxs("div",{className:"all-matches-loading",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading all matches..."})]});if(l.error)return E.jsxs("div",{className:"all-matches-error",children:[E.jsx("h3",{children:" Error loading matches"}),E.jsx("p",{children:l.error})]});const e=l.rawData,i=(e==null?void 0:e.confirmedTeams)||[],r=((d=i[0])==null?void 0:d.name)||"Team 1",u=((p=i[1])==null?void 0:p.name)||"Team 2",h=[];if(e!=null&&e.semiFinal1){const P=e.semiFinal1,$=P.match1,J=P.match2,_t=P.match3,dt=P.match4,ut=P.match5;$&&h.push({id:"semi-final-1-match-1",name:"Semifinal 1 - Match 1",team1:r,team2:u,team1Score:$.team1Score||0,team2Score:$.team2Score||0,status:$.winner?"completed":"active",winner:$.winner,currentMatch:"Match 1",raceTo:e.raceToScore||5}),J&&h.push({id:"semi-final-1-match-2",name:"Semifinal 1 - Match 2",team1:r,team2:u,team1Score:J.team1Score||0,team2Score:J.team2Score||0,status:J.winner?"completed":"active",winner:J.winner,currentMatch:"Match 2",raceTo:e.raceToScore||5}),_t&&h.push({id:"semi-final-1-match-3",name:"Semifinal 1 - Match 3",team1:r,team2:u,team1Score:_t.team1Score||0,team2Score:_t.team2Score||0,status:_t.winner?"completed":"active",winner:_t.winner,currentMatch:"Match 3",raceTo:e.raceToScore||5}),dt&&h.push({id:"semi-final-1-match-4",name:"Semifinal 1 - Match 4",team1:r,team2:u,team1Score:dt.team1Score||0,team2Score:dt.team2Score||0,status:dt.winner?"completed":"active",winner:dt.winner,currentMatch:"Match 4",raceTo:e.raceToScore||5}),ut&&h.push({id:"semi-final-1-match-5",name:"Semifinal 1 - Match 5",team1:r,team2:u,team1Score:ut.team1Score||0,team2Score:ut.team2Score||0,status:ut.winner?"completed":"active",winner:ut.winner,currentMatch:"Match 5",raceTo:e.raceToScore||5});const At=P.team1Score||((_=P.teamScores)==null?void 0:_[0])||0,vt=P.team2Score||((v=P.teamScores)==null?void 0:v[1])||0;h.push({id:"semi-final-1-overall",name:"Semifinal 1 - Overall",team1:r,team2:u,team1Score:At,team2Score:vt,status:P.winner?"completed":"active",winner:P.winner,currentMatch:P.currentMatch,raceTo:e.raceToScore||5})}if(e!=null&&e.semiFinal2){const P=e.semiFinal2,$=P.match1,J=P.match2,_t=P.match3,dt=P.match4,ut=P.match5;$&&h.push({id:"semi-final-2-match-1",name:"Semifinal 2 - Match 1",team1:r,team2:u,team1Score:$.team1Score||0,team2Score:$.team2Score||0,status:$.winner?"completed":"active",winner:$.winner,currentMatch:"Match 1",raceTo:e.raceToScore||5}),J&&h.push({id:"semi-final-2-match-2",name:"Semifinal 2 - Match 2",team1:r,team2:u,team1Score:J.team1Score||0,team2Score:J.team2Score||0,status:J.winner?"completed":"active",winner:J.winner,currentMatch:"Match 2",raceTo:e.raceToScore||5}),_t&&h.push({id:"semi-final-2-match-3",name:"Semifinal 2 - Match 3",team1:r,team2:u,team1Score:_t.team1Score||0,team2Score:_t.team2Score||0,status:_t.winner?"completed":"active",winner:_t.winner,currentMatch:"Match 3",raceTo:e.raceToScore||5}),dt&&h.push({id:"semi-final-2-match-4",name:"Semifinal 2 - Match 4",team1:r,team2:u,team1Score:dt.team1Score||0,team2Score:dt.team2Score||0,status:dt.winner?"completed":"active",winner:dt.winner,currentMatch:"Match 4",raceTo:e.raceToScore||5}),ut&&h.push({id:"semi-final-2-match-5",name:"Semifinal 2 - Match 5",team1:r,team2:u,team1Score:ut.team1Score||0,team2Score:ut.team2Score||0,status:ut.winner?"completed":"active",winner:ut.winner,currentMatch:"Match 5",raceTo:e.raceToScore||5});const At=P.team1Score||((S=P.teamScores)==null?void 0:S[0])||0,vt=P.team2Score||((C=P.teamScores)==null?void 0:C[1])||0;h.push({id:"semi-final-2-overall",name:"Semifinal 2 - Overall",team1:r,team2:u,team1Score:At,team2Score:vt,status:P.winner?"completed":"active",winner:P.winner,currentMatch:P.currentMatch,raceTo:e.raceToScore||5})}if(e!=null&&e.final){const P=e.final,$=P.team1Score||((D=P.teamScores)==null?void 0:D[0])||0,J=P.team2Score||((G=P.teamScores)==null?void 0:G[1])||0;h.push({id:"final",name:"Final",team1:r,team2:u,team1Score:$,team2Score:J,status:P.winner?"completed":"active",winner:P.winner,currentMatch:P.currentMatch,raceTo:e.raceToScore||5})}return E.jsxs("div",{className:"all-matches-display",children:[E.jsxs("div",{className:"matches-header",children:[E.jsx("h3",{children:" All Active Matches"}),E.jsxs("p",{className:"matches-subtitle",children:[h.length," match",h.length!==1?"es":""," ","found"]})]}),h.length===0?E.jsxs("div",{className:"no-matches",children:[E.jsx("p",{children:"No active matches found"}),E.jsx("p",{children:"Matches will appear here when they start"})]}):E.jsx("div",{className:"matches-grid",children:h.map(P=>E.jsxs("div",{className:`match-card ${P.status}`,children:[E.jsxs("div",{className:"match-header",children:[E.jsx("h4",{children:P.name}),E.jsx("div",{className:`status-badge ${P.status}`,children:P.status==="completed"?" COMPLETED":" ACTIVE"})]}),E.jsxs("div",{className:"match-teams",children:[E.jsxs("div",{className:`team ${P.team1Score>P.team2Score?"leading":""}`,children:[E.jsx("span",{className:"team-name",children:P.team1}),E.jsx("span",{className:"team-score",children:P.team1Score})]}),E.jsx("div",{className:"vs-separator",children:"VS"}),E.jsxs("div",{className:`team ${P.team2Score>P.team1Score?"leading":""}`,children:[E.jsx("span",{className:"team-name",children:P.team2}),E.jsx("span",{className:"team-score",children:P.team2Score})]})]}),E.jsxs("div",{className:"match-details",children:[E.jsx("div",{className:"race-to",children:E.jsxs("span",{children:["Race to ",P.raceTo]})}),P.currentMatch&&E.jsx("div",{className:"current-match",children:E.jsxs("span",{children:["Current: ",P.currentMatch]})}),P.winner&&E.jsx("div",{className:"winner-announcement",children:E.jsxs("span",{children:[" Winner: ",P.winner]})})]}),E.jsxs("div",{className:"match-progress",children:[E.jsxs("div",{className:"progress-bar",children:[E.jsx("div",{className:"progress-fill team1-progress",style:{width:`${P.team1Score/P.raceTo*100}%`}}),E.jsx("div",{className:"progress-fill team2-progress",style:{width:`${P.team2Score/P.raceTo*100}%`}})]}),E.jsxs("div",{className:"progress-labels",children:[E.jsxs("span",{children:[P.team1Score,"/",P.raceTo]}),E.jsxs("span",{children:[P.team2Score,"/",P.raceTo]})]})]})]},P.id))})]})},Db=()=>{const[l,e]=Ne.useState({teams:[],tournaments:[],rawData:null}),[i,r]=Ne.useState(!0),[u,h]=Ne.useState(null);return Ne.useEffect(()=>{rt(null,null,function*(){try{r(!0),console.log("TournamentsPage: Loading Firebase data...");const{tournaments:p,teams:_}=yield Nh(),v=Go(Dh,"users","hyBfhSIYRsMno2VYRRfIgPT8EmN2","tournament","current"),S=yield Ch(v),C=S.exists()?S.data():null;e({teams:_,tournaments:p,rawData:C}),console.log("TournamentsPage: Data loaded",{teams:_,tournaments:p,rawData:C})}catch(p){console.error("TournamentsPage: Error loading data",p),h(p instanceof Error?p.message:"Unknown error")}finally{r(!1)}})},[]),i?E.jsx("div",{className:"tournaments-page",children:E.jsx("div",{className:"loading",children:"Loading live data from OwensCup..."})}):u?E.jsx("div",{className:"tournaments-page",children:E.jsxs("div",{className:"error",children:["Error: ",u]})}):E.jsxs("div",{className:"tournaments-page",children:[E.jsxs("div",{className:"page-header",children:[E.jsx("h1",{children:"Live OwensCup Data"}),E.jsx("p",{className:"subtitle",children:"Real-time data from your Firebase database"})]}),E.jsxs("div",{className:"data-grid",children:[E.jsxs("div",{className:"data-section",children:[E.jsx("h2",{children:"Match 1: Semifinal 1"}),E.jsx("div",{className:"data-cards",children:E.jsx(Nb,{})})]}),E.jsxs("div",{className:"data-section",children:[E.jsx("h2",{children:"Raw Firebase Data"}),E.jsx("div",{className:"data-cards",children:E.jsxs("div",{className:"data-card raw-data-card",children:[E.jsx("h3",{children:"Complete Firebase Document"}),E.jsx("div",{className:"raw-data",children:E.jsx("pre",{children:JSON.stringify(l.rawData,null,2)})})]})})]}),E.jsxs("div",{className:"data-section",children:[E.jsx("h2",{children:"All Active Matches"}),E.jsx("div",{className:"data-cards",children:E.jsx(Sp,{})})]})]})]})},Mb=()=>{const{data:l}=Ur(),[e,i]=Ne.useState("Checking..."),[r,u]=Ne.useState({});return Ne.useEffect(()=>{const h=()=>rt(null,null,function*(){try{console.log("Testing Firebase connection..."),i("Testing Firebase connection...");const d=Go(Dh,"test","test");yield Ch(d),i("Firebase connected successfully")}catch(d){console.error("Firebase connection error:",d),i(`Firebase error: ${d}`)}});u({userAgent:navigator.userAgent,language:navigator.language,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,platform:navigator.platform,url:window.location.href,domain:window.location.hostname,protocol:window.location.protocol}),h()},[]),E.jsxs("div",{style:{padding:"20px",fontFamily:"monospace"},children:[E.jsx("h1",{children:" Debug Page - tkamot.com"}),E.jsx("h2",{children:" Connection Status"}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("strong",{children:"Firebase:"})," ",e]}),E.jsx("h2",{children:" Data Status"}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("strong",{children:"Loading:"})," ",l.isLoading?"Yes":"No",E.jsx("br",{}),E.jsx("strong",{children:"Error:"})," ",l.error||"None",E.jsx("br",{}),E.jsx("strong",{children:"Teams:"})," ",l.teams.length,E.jsx("br",{}),E.jsx("strong",{children:"Tournaments:"})," ",l.tournaments.length,E.jsx("br",{}),E.jsx("strong",{children:"Last Updated:"})," ",l.lastUpdated.toLocaleString()]}),E.jsx("h2",{children:" Browser Information"}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("strong",{children:"URL:"})," ",r.url,E.jsx("br",{}),E.jsx("strong",{children:"Domain:"})," ",r.domain,E.jsx("br",{}),E.jsx("strong",{children:"Protocol:"})," ",r.protocol,E.jsx("br",{}),E.jsx("strong",{children:"Online:"})," ",r.onLine?"Yes":"No",E.jsx("br",{}),E.jsx("strong",{children:"Language:"})," ",r.language,E.jsx("br",{}),E.jsx("strong",{children:"Platform:"})," ",r.platform]}),E.jsx("h2",{children:" Raw Data"}),E.jsx("div",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"5px",maxHeight:"300px",overflow:"auto"},children:E.jsx("pre",{children:JSON.stringify(l.rawData,null,2)})}),E.jsx("h2",{children:" Troubleshooting"}),E.jsxs("div",{style:{marginTop:"20px"},children:[E.jsx("h3",{children:"If the site is not loading:"}),E.jsxs("ol",{children:[E.jsx("li",{children:"Check if Firebase is accessible (see connection status above)"}),E.jsx("li",{children:"Verify your domain DNS settings point to the correct server"}),E.jsx("li",{children:"Ensure the web server is running and serving the dist/ folder"}),E.jsx("li",{children:"Check browser console for JavaScript errors"}),E.jsx("li",{children:"Try accessing the site in an incognito/private window"})]}),E.jsx("h3",{children:"Common Issues:"}),E.jsxs("ul",{children:[E.jsxs("li",{children:[E.jsx("strong",{children:"CORS Issues:"})," Check if your server allows cross-origin requests"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Firebase Rules:"})," Ensure Firebase security rules allow read access"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Network Issues:"})," Check if the domain resolves correctly"]}),E.jsxs("li",{children:[E.jsx("strong",{children:"SSL/HTTPS:"})," Ensure proper SSL certificate for tkamot.com"]})]})]})]})},Vb=({displaySize:l="full-screen"})=>{const[e,i]=Ne.useState([]),[r,u]=Ne.useState(!0);Ne.useEffect(()=>{h()},[]);const h=()=>rt(null,null,function*(){try{u(!0),console.log("Loading tournament history from Firebase...");const{teams:p,rawData:_}=yield Nh(),v=[];if(_&&_.final){const S=_.final.teamScores||[_.final.team1Score||0,_.final.team2Score||0];if(S[0]>=5||S[1]>=5){const C=S[0]>=5?"Warriors":"Cavs",D=S[0]>=5?"Cavs":"Warriors",G={id:`owens-cup-${Date.now()}`,name:"Owens Cup 2024 - Finals",date:new Date().toISOString().split("T")[0],winner:C,runnerUp:D,finalScore:`${S[0]}-${S[1]}`,participants:p.map(P=>P.name),status:"completed"};v.push(G),console.log("Found completed tournament:",G)}}i(v),console.log("Tournament history loaded:",v)}catch(p){console.error("Error loading tournament history:",p)}finally{u(!1)}}),d=()=>rt(null,null,function*(){try{console.log("Checking current tournament status...");const{teams:p,rawData:_}=yield Nh();if(_&&_.final){const v=_.final.teamScores||[_.final.team1Score||0,_.final.team2Score||0];if(v[0]>=5||v[1]>=5){const S=v[0]>=5?"Warriors":"Cavs",C=v[0]>=5?"Cavs":"Warriors",D={id:`owens-cup-${Date.now()}`,name:"Owens Cup 2024 - Finals",date:new Date().toISOString().split("T")[0],winner:S,runnerUp:C,finalScore:`${v[0]}-${v[1]}`,participants:p.map(G=>G.name),status:"completed"};i(G=>G.some($=>$.name===D.name&&$.finalScore===D.finalScore)?(alert("This tournament is already saved in history!"),G):(console.log("Saving completed tournament to history:",D),alert(`Tournament completed! Winner: ${S}`),[D,...G]))}else alert("Tournament is not completed yet. Need 5 points to win!")}else alert("No final data available. Start a tournament first!")}catch(p){console.error("Error saving tournament:",p),alert("Error saving tournament")}});return r?E.jsxs("div",{className:"loading",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading tournament history..."})]}):E.jsxs("div",{className:"tournament-history","data-display-size":l,children:[E.jsxs("div",{className:"history-header",children:[E.jsx("h1",{children:"TOURNAMENT HISTORY"}),E.jsx("button",{className:"save-tournament-btn",onClick:d,children:" Save Current Tournament"})]}),E.jsx("div",{className:"history-list",children:e.map(p=>E.jsxs("div",{className:`history-card ${p.status}`,children:[E.jsxs("div",{className:"tournament-info",children:[E.jsx("h3",{children:p.name}),E.jsx("p",{className:"tournament-date",children:p.date}),E.jsx("div",{className:"participants",children:E.jsxs("span",{children:["Participants: ",p.participants.join(", ")]})})]}),E.jsx("div",{className:"tournament-result",children:p.status==="completed"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"winner-section",children:[E.jsx("span",{className:"winner-label",children:" Winner"}),E.jsx("span",{className:"winner-name",children:p.winner})]}),E.jsxs("div",{className:"runner-up-section",children:[E.jsx("span",{className:"runner-up-label",children:" Runner Up"}),E.jsx("span",{className:"runner-up-name",children:p.runnerUp})]}),E.jsxs("div",{className:"final-score",children:[E.jsx("span",{className:"score-label",children:"Final Score"}),E.jsx("span",{className:"score-value",children:p.finalScore})]})]}):E.jsx("div",{className:"ongoing-status",children:E.jsx("span",{className:"status-badge status-ongoing",children:"ONGOING"})})})]},p.id))}),e.length===0&&E.jsxs("div",{className:"empty-history",children:[E.jsx("p",{children:"No completed tournaments yet."}),E.jsx("p",{children:"Complete a tournament (reach 5 points) to see it here!"})]})]})},Ob=()=>{var e,i,r,u,h,d;const{data:l}=Ur();return l.isLoading?E.jsx("div",{className:"teams-list-loading",children:"Loading teams..."}):l.error?E.jsxs("div",{className:"teams-list-error",children:["Error: ",l.error]}):E.jsxs("div",{className:"teams-list",children:[E.jsxs("h2",{children:["Tournament Teams (",l.teams.length,")"]}),E.jsxs("div",{className:"teams-three-column-layout",children:[E.jsxs("div",{className:"teams-column",children:[E.jsx("h3",{children:"Teams List"}),E.jsx("div",{className:"teams-grid",children:l.teams.map(p=>E.jsxs("div",{className:"team-card",children:[E.jsxs("div",{className:"team-header",children:[E.jsx("div",{className:"team-icon",style:{backgroundColor:p.color},children:p.icon}),E.jsx("h3",{className:"team-name",children:p.name})]}),E.jsxs("div",{className:"team-details",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Captain:"})," ",p.captain]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Manager:"})," ",p.manager]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Players:"})," ",p.players]})]})]},p.id))})]}),E.jsxs("div",{className:"teams-column",children:[E.jsx("h3",{children:"Tournament Structure"}),E.jsx("div",{className:"tournament-structure",children:l.rawData&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"Tournament Name"}),E.jsx("p",{children:l.rawData.tournamentName})]}),E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"Organizer"}),E.jsx("p",{children:l.rawData.organizer})]}),E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"Race To Score"}),E.jsx("p",{children:l.rawData.raceToScore})]}),E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"SemiFinal 1"}),E.jsxs("p",{children:["Current Match: ",(e=l.rawData.semiFinal1)==null?void 0:e.currentMatch]}),E.jsxs("p",{children:["Winner: ",((i=l.rawData.semiFinal1)==null?void 0:i.winner)||"None"]})]}),E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"SemiFinal 2"}),E.jsxs("p",{children:["Current Match: ",(r=l.rawData.semiFinal2)==null?void 0:r.currentMatch]}),E.jsxs("p",{children:["Winner: ",((u=l.rawData.semiFinal2)==null?void 0:u.winner)||"None"]})]}),E.jsxs("div",{className:"structure-card",children:[E.jsx("h4",{children:"Final"}),E.jsxs("p",{children:["Current Match: ",(h=l.rawData.final)==null?void 0:h.currentMatch]}),E.jsxs("p",{children:["Winner: ",((d=l.rawData.final)==null?void 0:d.winner)||"None"]})]})]})})]}),E.jsxs("div",{className:"teams-column",children:[E.jsx("h3",{children:"All Active Matches"}),E.jsx("div",{className:"matches-section",children:E.jsx(Sp,{})})]})]})]})},Ib=()=>{const{data:l}=Ur();return l.isLoading?E.jsx("div",{className:"players-ranking-loading",children:"Loading rankings..."}):l.error?E.jsxs("div",{className:"players-ranking-error",children:["Error: ",l.error]}):E.jsxs("div",{className:"players-ranking",children:[E.jsx("h2",{children:"Player Rankings"}),E.jsxs("div",{className:"rankings-table",children:[E.jsxs("div",{className:"rankings-header",children:[E.jsx("span",{className:"rank",children:"Rank"}),E.jsx("span",{className:"player-name",children:"Player"}),E.jsx("span",{className:"team-name",children:"Team"}),E.jsx("span",{className:"wins",children:"Wins"}),E.jsx("span",{className:"losses",children:"Losses"}),E.jsx("span",{className:"win-rate",children:"Win Rate"})]}),l.playerRankings.map((e,i)=>E.jsxs("div",{className:"ranking-row",children:[E.jsxs("span",{className:"rank",children:["#",i+1]}),E.jsx("span",{className:"player-name",children:e.playerName}),E.jsx("span",{className:"team-name",children:e.teamName}),E.jsx("span",{className:"wins",children:e.wins}),E.jsx("span",{className:"losses",children:e.losses}),E.jsx("span",{className:"win-rate",children:e.winRate>0?`${(e.winRate*100).toFixed(1)}%`:"0%"})]},e.playerId))]})]})},jb=()=>{const[l,e]=Ne.useState("overlay"),i=()=>{switch(l){case"overlay":return E.jsx(bp,{});case"tournaments":return E.jsx(Db,{});case"debug":return E.jsx(Mb,{});case"history":return E.jsx(Vb,{});case"teams":return E.jsx(Ob,{});case"rankings":return E.jsx(Ib,{});default:return E.jsx(bp,{})}};return E.jsxs("div",{className:"home-screen",children:[E.jsxs("nav",{className:"nav-bar",children:[E.jsx("button",{className:`nav-button ${l==="overlay"?"active":""}`,onClick:()=>e("overlay"),children:"OVERLAY"}),E.jsx("button",{className:`nav-button ${l==="tournaments"?"active":""}`,onClick:()=>e("tournaments"),children:"TOURNAMENTS"}),E.jsx("button",{className:`nav-button ${l==="debug"?"active":""}`,onClick:()=>e("debug"),children:"DEBUG"}),E.jsx("button",{className:`nav-button ${l==="teams"?"active":""}`,onClick:()=>e("teams"),children:"TEAMS"}),E.jsx("button",{className:`nav-button ${l==="rankings"?"active":""}`,onClick:()=>e("rankings"),children:"RANKINGS"}),E.jsx("button",{className:`nav-button ${l==="history"?"active":""}`,onClick:()=>e("history"),children:"HISTORY"})]}),E.jsx("main",{className:"main-content",children:i()})]})};class zb extends U0.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("App Error:",e,i)}render(){var e;return this.state.hasError?E.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[E.jsx("h2",{children:"Something went wrong"}),E.jsxs("p",{children:["Error: ",(e=this.state.error)==null?void 0:e.message]}),E.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}const Ub=()=>E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column"},children:[E.jsx("div",{style:{fontSize:"24px",marginBottom:"20px"},children:"Loading..."}),E.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"tkamot.com overlay"})]});function Lb(){return console.log("App component rendering"),E.jsx(zb,{children:E.jsx(Ne.Suspense,{fallback:E.jsx(Ub,{}),children:E.jsx(Rb,{children:E.jsx("div",{className:"app",children:E.jsx(jb,{})})})})})}G0.createRoot(document.getElementById("root")).render(E.jsx(Ne.StrictMode,{children:E.jsx(Lb,{})}))})();
